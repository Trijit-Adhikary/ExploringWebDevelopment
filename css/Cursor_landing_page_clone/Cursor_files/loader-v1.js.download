(function(window,document,scriptTag,globalName,scriptUrl){'use strict';window.ConceptualAnalytics=globalName;window[globalName]=window[globalName]||function(){(window[globalName].q=window[globalName].q||[]).push(arguments)};window[globalName].l=1*new Date();if(window[globalName].loaded)return;var loaderScript=document.currentScript||document.querySelector('script[src*="loader.js"]');var apiKeyFromUrl=null;var baseUrl='https://api.conceptualhq.com';var isV1=!1;if(loaderScript&&loaderScript.src){var url=new URL(loaderScript.src);baseUrl=url.origin;if(url.pathname.includes('/v1/')){isV1=!0}
var urlParams=new URLSearchParams(url.search);apiKeyFromUrl=urlParams.get('key')}
var apiKey=apiKeyFromUrl||window[globalName].apiKey;var script=document.createElement(scriptTag);var firstScript=document.getElementsByTagName(scriptTag)[0];script.async=!0;script.type='text/javascript';script.charset='utf-8';if(window[globalName].customDomain){scriptUrl='//'+window[globalName].customDomain+'/analytics/measure-v1.js'}else if(scriptUrl==='AUTO'){scriptUrl=baseUrl+'/analytics/measure-v1.js'}
if(apiKey){scriptUrl+='?key='+encodeURIComponent(apiKey)}
scriptUrl+=(scriptUrl.indexOf('?')>-1?'&':'?')+'v=1.0.0';script.src=scriptUrl;script.setAttribute('data-api-key',apiKey||'');script.setAttribute('data-global-name',globalName);firstScript.parentNode.insertBefore(script,firstScript);window[globalName].loaded=!0;window[globalName].ready=function(callback){if(window[globalName].initialized){callback()}else{(window[globalName].readyCallbacks=window[globalName].readyCallbacks||[]).push(callback)}}})(window,document,'script','ca','AUTO')