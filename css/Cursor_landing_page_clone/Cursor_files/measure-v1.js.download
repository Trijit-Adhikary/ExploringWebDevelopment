(function(window,document,undefined){window.__CA_CONFIG={"customDomain":"0ay7zb.cursor.com"};'use strict';var scriptTag=document.currentScript||document.querySelector('script[src*="measure.js"]');var globalName=scriptTag?scriptTag.getAttribute('data-global-name')||'ca':'ca';var apiKey=scriptTag?(scriptTag.getAttribute('data-api-key')||(scriptTag.src.indexOf('?')>-1?new URLSearchParams(scriptTag.src.split('?')[1]).get('key'):null)):null;var isDebugMode=window.localStorage&&localStorage.getItem('_ca_debug')==='true';var baseUrl='https://api.conceptualhq.com';if(isDebugMode&&window.location.hostname.includes('.test')){baseUrl=window.location.protocol+'//'+window.location.hostname;console.log('[CA Debug] Using local endpoints: '+baseUrl)}
var config={apiKey:apiKey,trackEndpoint:baseUrl+'/api/v1/track',identifyEndpoint:baseUrl+'/api/v1/identify',legacyEndpoint:baseUrl+'/api/analytics/track',debug:isDebugMode,trackPageViews:!0,trackUnload:!0,respectDNT:!1,anonymizeIP:!1,sessionTimeout:30*60*1000,customDomain:null,apiVersion:'v1',isDebugMode:isDebugMode};var BrowserCapabilities={collect:function(){var data={};try{data.screen={width:window.screen.width,height:window.screen.height,availWidth:window.screen.availWidth,availHeight:window.screen.availHeight,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth,devicePixelRatio:window.devicePixelRatio||1};data.browser={language:navigator.language||navigator.userLanguage,languages:navigator.languages||[],userAgent:navigator.userAgent,platform:navigator.platform,vendor:navigator.vendor||'',cookieEnabled:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack,hardwareConcurrency:navigator.hardwareConcurrency||null,deviceMemory:navigator.deviceMemory||null,maxTouchPoints:navigator.maxTouchPoints||0};data.timezone={offset:new Date().getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone};data.storage={localStorage:this.testStorage('localStorage'),sessionStorage:this.testStorage('sessionStorage'),indexedDB:!!window.indexedDB};data.webgl=this.getWebGLInfo();data.canvas=this.getCanvasData();data.audio=this.getAudioContext();data.plugins=this.getPlugins();data.fonts=this.getCommonFonts()}catch(e){if(config.debug)console.error('Browser data collection error:',e);}
return data},testStorage:function(type){try{var storage=window[type];var x='__storage_test__';storage.setItem(x,x);storage.removeItem(x);return!0}catch(e){return!1}},getWebGLInfo:function(){try{var canvas=document.createElement('canvas');var gl=canvas.getContext('webgl')||canvas.getContext('experimental-webgl');if(!gl)return null;var debugInfo=gl.getExtension('WEBGL_debug_renderer_info');if(!debugInfo)return null;return{vendor:gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL),renderer:gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL)}}catch(e){return null}},getCanvasData:function(){try{var canvas=document.createElement('canvas');canvas.width=280;canvas.height=60;var ctx=canvas.getContext('2d');ctx.fillStyle='#f60';ctx.fillRect(125,1,62,20);ctx.fillStyle='#069';ctx.font='11pt no-real-font-123';ctx.fillText('Conceptual Analytics ðŸš€ ðŸ“Š',2,15);ctx.fillStyle='rgba(102, 204, 0, 0.7)';ctx.font='18pt Arial';ctx.fillText('Analytics',4,45);return canvas.toDataURL().substring(0,100)}catch(e){return null}},getAudioContext:function(){return null},getPlugins:function(){var plugins=[];try{for(var i=0;i<navigator.plugins.length&&i<10;i++){plugins.push(navigator.plugins[i].name)}}catch(e){}
return plugins},getCommonFonts:function(){var fonts=['Arial','Verdana','Times New Roman','Courier New','Georgia'];var available=[];return fonts}};var IPManager={memoryCache:null,memoryCacheTime:null,sessionKey:'_ca_client_ip',sessionTimeKey:'_ca_client_ip_time',ttlMemory:5*60*1000,ttlSession:30*60*1000,getIP:function(){if(this.memoryCache&&this.memoryCacheTime&&(Date.now()-this.memoryCacheTime<this.ttlMemory)){if(config.debug)console.log('IP from memory cache:',this.memoryCache);return Promise.resolve(this.memoryCache)}
try{var sessionIP=sessionStorage.getItem(this.sessionKey);var sessionTime=sessionStorage.getItem(this.sessionTimeKey);if(sessionIP&&sessionTime&&(Date.now()-parseInt(sessionTime)<this.ttlSession)){this.memoryCache=sessionIP;this.memoryCacheTime=parseInt(sessionTime);if(config.debug)console.log('IP from session storage:',sessionIP);return Promise.resolve(sessionIP)}}catch(e){if(config.debug)console.warn('SessionStorage not available:',e);}
return this.fetchIP()},fetchIP:function(){var self=this;var controller=typeof AbortController!=='undefined'?new AbortController():null;var timeoutId=null;if(controller){timeoutId=setTimeout(function(){controller.abort()},3000)}
return fetch('https://ip.conceptualhq.com/',{method:'GET',mode:'cors',cache:'no-cache',signal:controller?controller.signal:undefined}).then(function(response){if(timeoutId)clearTimeout(timeoutId);if(!response.ok){throw new Error('IP service returned '+response.status)}
return response.text()}).then(function(ip){ip=ip.trim();if(!self.isValidIP(ip)){throw new Error('Invalid IP format received: '+ip)}
self.memoryCache=ip;self.memoryCacheTime=Date.now();try{sessionStorage.setItem(self.sessionKey,ip);sessionStorage.setItem(self.sessionTimeKey,self.memoryCacheTime.toString())}catch(e){if(config.debug)console.warn('Failed to store IP in session:',e);}
if(config.debug)console.log('Fetched fresh IP:',ip);return ip}).catch(function(error){if(config.debug)console.warn('Failed to fetch client IP:',error.message);return null})},isValidIP:function(ip){var ipv4Regex=/^(\d{1,3}\.){3}\d{1,3}$/;var ipv6Regex=/^([0-9a-fA-F]{0,4}:){2,7}[0-9a-fA-F]{0,4}$/;return ipv4Regex.test(ip)||ipv6Regex.test(ip)},clearCache:function(){this.memoryCache=null;this.memoryCacheTime=null;try{sessionStorage.removeItem(this.sessionKey);sessionStorage.removeItem(this.sessionTimeKey)}catch(e){}}};var DeviceID={storageKey:'_ca_device_id',cookieName:'_ca_device_id',get:function(){var id=this.getFromStorage();if(id){if(config.debug)console.log('Device ID from storage:',id);return id}
id=this.getFromCookie();if(id){if(config.debug)console.log('Device ID from cookie:',id);return id}
id=this.generate();this.save(id);if(config.debug)console.log('Generated new device ID:',id);return id},generate:function(){var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0;var v=c==='x'?r:(r&0x3|0x8);return v.toString(16)});return'ca_'+uuid},getFromStorage:function(){try{return localStorage.getItem(this.storageKey)}catch(e){return null}},getFromCookie:function(){var name=this.cookieName+'=';var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1)}
if(c.indexOf(name)===0){return c.substring(name.length,c.length)}}
return null},getRootDomain:function(){var hostname=window.location.hostname;if(hostname==='localhost'||/^(\d{1,3}\.){3}\d{1,3}$/.test(hostname)){return''}
var parts=hostname.split('.');if(parts.length<=1){return''}
var rootDomain='.'+parts.slice(-2).join('.');if(config.debug)console.log('Root domain for cookies:',rootDomain);return rootDomain},save:function(id){try{localStorage.setItem(this.storageKey,id)}catch(e){}
var expires=new Date();expires.setFullYear(expires.getFullYear()+10);var domain=this.getRootDomain();var cookieStr=this.cookieName+'='+id+';expires='+expires.toUTCString()+';path=/;SameSite=Lax';if(domain){cookieStr+=';domain='+domain}
document.cookie=cookieStr;if(config.debug){console.log('Saved device ID cookie:',cookieStr)}},clear:function(){try{localStorage.removeItem(this.storageKey)}catch(e){}
var domain=this.getRootDomain();var cookieStr=this.cookieName+'=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;SameSite=Lax';if(domain){cookieStr+=';domain='+domain}
document.cookie=cookieStr}};var ClickIDManager={cookieExpiry:30,clickIds:['gclid','fbclid','msclkid','ttclid'],utmParams:['utm_source','utm_medium','utm_campaign','utm_term','utm_content'],ccParams:['cc_platform','cc_campaignid','cc_adgroupid','cc_adid','cc_keyword','cc_matchtype','cc_device','cc_network','cc_placement','cc_location','cc_adposition'],init:function(){this.persistClickIds();this.persistUTMs();this.persistCCParams();if(config.debug){console.log('[CA] ClickIDManager initialized')}},persistClickIds:function(){var self=this;this.clickIds.forEach(function(param){var urlValue=self.getUrlParam(param);if(urlValue&&!self.getCookie('_ca_'+param)){var expires=new Date();expires.setDate(expires.getDate()+self.cookieExpiry);var domain=DeviceID.getRootDomain();var cookieStr='_ca_'+param+'='+urlValue+';expires='+expires.toUTCString()+';path=/;SameSite=Lax';if(domain){cookieStr+=';domain='+domain}
document.cookie=cookieStr;if(config.debug){console.log('[CA] Persisted '+param+':',urlValue)}}})},persistUTMs:function(){var self=this;this.utmParams.forEach(function(param){var urlValue=self.getUrlParam(param);if(urlValue&&!self.getCookie('_ca_'+param)){var expires=new Date();expires.setDate(expires.getDate()+self.cookieExpiry);var domain=DeviceID.getRootDomain();var cookieStr='_ca_'+param+'='+encodeURIComponent(urlValue)+';expires='+expires.toUTCString()+';path=/;SameSite=Lax';if(domain){cookieStr+=';domain='+domain}
document.cookie=cookieStr;if(config.debug){console.log('[CA] Persisted '+param+':',urlValue)}}})},persistCCParams:function(){var self=this;this.ccParams.forEach(function(param){var urlValue=self.getUrlParam(param);if(urlValue&&!self.getCookie('_ca_'+param)){var expires=new Date();expires.setDate(expires.getDate()+self.cookieExpiry);var domain=DeviceID.getRootDomain();var cookieStr='_ca_'+param+'='+encodeURIComponent(urlValue)+';expires='+expires.toUTCString()+';path=/;SameSite=Lax';if(domain){cookieStr+=';domain='+domain}
document.cookie=cookieStr;if(config.debug){console.log('[CA] Persisted '+param+':',urlValue)}}})},getUrlParam:function(name){var regex=new RegExp('[?&]'+name+'=([^&#]*)');var results=regex.exec(window.location.search);return results?decodeURIComponent(results[1]):null},getCookie:function(name){var nameEQ=name+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}
return null},getPersistedClickId:function(name){return this.getUrlParam(name)||this.getCookie('_ca_'+name)||this.getCookie(name)},getPersistedUTM:function(name){var value=this.getUrlParam(name)||this.getCookie('_ca_'+name)||this.getCookie(name);return value?decodeURIComponent(value):null},clearAll:function(){var self=this;var domain=DeviceID.getRootDomain();this.clickIds.forEach(function(param){var cookieStr='_ca_'+param+'=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;SameSite=Lax';if(domain){cookieStr+=';domain='+domain}
document.cookie=cookieStr});this.utmParams.forEach(function(param){var cookieStr='_ca_'+param+'=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;SameSite=Lax';if(domain){cookieStr+=';domain='+domain}
document.cookie=cookieStr})}};var Analytics={initialized:!1,queue:[],init:function(apiKey,options){if(this.initialized)return;config.apiKey=apiKey||config.apiKey;if(options){for(var key in options){if(config.hasOwnProperty(key)){config[key]=options[key]}}}
if(config.respectDNT&&this.isDNT()){console.log('Conceptual Analytics: Respecting Do Not Track');return}
if(config.customDomain){config.trackEndpoint='//'+config.customDomain+'/api/v1/track';config.identifyEndpoint='//'+config.customDomain+'/api/v1/identify'}
this.initialized=!0;ClickIDManager.init();IPManager.getIP().catch(function(e){if(config.debug)console.warn('Failed to prefetch IP:',e);});this.processQueue();if(this.readyCallbacks){this.readyCallbacks.forEach(function(callback){callback()});this.readyCallbacks=[]}
if(config.trackPageViews){this.track('page_view')}
if(config.trackUnload){this.setupUnloadTracking()}
if(window[globalName].readyCallbacks){window[globalName].readyCallbacks.forEach(function(callback){callback()})}},track:function(eventName,properties){if(!this.initialized){this.queue.push(['track',eventName,properties]);return}
var event=this.buildEvent(eventName,properties);this.sendEvent(event)},identify:function(userId,traits){if(!this.initialized){this.queue.push(['identify',userId,traits]);return}
try{localStorage.setItem('_ca_user_id',userId);if(traits){localStorage.setItem('_ca_user_traits',JSON.stringify(traits))}}catch(e){}
var identifyData={user_id:userId,device_id:DeviceID.get(),email:traits&&traits.email?traits.email:null,traits:traits||{},timestamp:new Date().toISOString(),fbp:this.getCookie('_fbp'),fbc:this.getCookie('_fbc'),url:window.location.href,referrer:document.referrer,utm_source:(traits&&traits.utm_source)||ClickIDManager.getPersistedUTM('utm_source'),utm_medium:(traits&&traits.utm_medium)||ClickIDManager.getPersistedUTM('utm_medium'),utm_campaign:(traits&&traits.utm_campaign)||ClickIDManager.getPersistedUTM('utm_campaign'),utm_term:(traits&&traits.utm_term)||ClickIDManager.getPersistedUTM('utm_term'),utm_content:(traits&&traits.utm_content)||ClickIDManager.getPersistedUTM('utm_content'),gclid:(traits&&traits.gclid)||ClickIDManager.getPersistedClickId('gclid'),fbclid:(traits&&traits.fbclid)||ClickIDManager.getPersistedClickId('fbclid'),msclkid:(traits&&traits.msclkid)||ClickIDManager.getPersistedClickId('msclkid'),ttclid:(traits&&traits.ttclid)||ClickIDManager.getPersistedClickId('ttclid'),};ClickIDManager.ccParams.forEach(function(param){var paramValue=(traits&&traits[param])||ClickIDManager.getUrlParam(param)||ClickIDManager.getCookie('_ca_'+param);if(paramValue){identifyData[param]=paramValue}});this.sendIdentify(identifyData);this.track('identify',{user_id:userId,email:traits&&traits.email?traits.email:null,traits_count:traits?Object.keys(traits).length:0})},sendIdentify:function(data){var self=this;IPManager.getIP().then(function(clientIP){if(clientIP){data.client_ip=clientIP}
var url=config.identifyEndpoint+(config.identifyEndpoint.indexOf('?')>-1?'&':'?')+'key='+encodeURIComponent(config.apiKey);if(window.fetch){fetch(url,{method:'POST',headers:{'Content-Type':'text/plain'},body:JSON.stringify(data),keepalive:!0}).catch(function(error){if(config.debug)console.error('Analytics identify error:',error);})}else{var xhr=new XMLHttpRequest();xhr.open('POST',url,!0);xhr.setRequestHeader('Content-Type','text/plain');xhr.send(JSON.stringify(data))}
if(config.debug){console.log('Analytics identify:',data)}})},buildEvent:function(eventName,properties){var browserData=BrowserCapabilities.collect();var event={event_id:'evt_'+Date.now()+'_'+Math.random().toString(36).substr(2,9),device_id:DeviceID.get(),event_type:eventName,timestamp:new Date().toISOString(),url:window.location.href,path:window.location.pathname,search:window.location.search,hash:window.location.hash,title:document.title,referrer:document.referrer,viewport:{width:window.innerWidth,height:window.innerHeight},utm_source:ClickIDManager.getPersistedUTM('utm_source'),utm_medium:ClickIDManager.getPersistedUTM('utm_medium'),utm_campaign:ClickIDManager.getPersistedUTM('utm_campaign'),utm_term:ClickIDManager.getPersistedUTM('utm_term'),utm_content:ClickIDManager.getPersistedUTM('utm_content'),gclid:ClickIDManager.getPersistedClickId('gclid'),fbclid:ClickIDManager.getPersistedClickId('fbclid'),msclkid:ClickIDManager.getPersistedClickId('msclkid'),ttclid:ClickIDManager.getPersistedClickId('ttclid'),fbp:this.getCookie('_fbp'),fbc:this.getCookie('_fbc'),browser_info:browserData,properties:properties||{}};try{var userId=localStorage.getItem('_ca_user_id');if(userId){event.user_id=userId}}catch(e){}
return event},sendEvent:function(event){IPManager.getIP().then(function(clientIP){if(clientIP){event.client_ip=clientIP}
var url=config.trackEndpoint+(config.trackEndpoint.indexOf('?')>-1?'&':'?')+'key='+encodeURIComponent(config.apiKey);if(window.fetch){fetch(url,{method:'POST',headers:{'Content-Type':'text/plain'},body:JSON.stringify(event),keepalive:!0}).catch(function(error){if(config.debug)console.error('Analytics error:',error);})}else{var xhr=new XMLHttpRequest();xhr.open('POST',url,!0);xhr.setRequestHeader('Content-Type','text/plain');xhr.send(JSON.stringify(event))}
if(config.debug){console.log('Analytics event:',event)}})},sendBeacon:function(event){if(IPManager.memoryCache){event.client_ip=IPManager.memoryCache}
var url=config.trackEndpoint+(config.trackEndpoint.indexOf('?')>-1?'&':'?')+'key='+encodeURIComponent(config.apiKey);if(navigator.sendBeacon){var blob=new Blob([JSON.stringify(event)],{type:'text/plain'});navigator.sendBeacon(url,blob)}else{var xhr=new XMLHttpRequest();xhr.open('POST',url,!1);xhr.setRequestHeader('Content-Type','application/json');xhr.send(JSON.stringify(event))}},setupUnloadTracking:function(){this.setupScrollTracking();this.setupInteractionTracking()},setupInteractionTracking:function(){var self=this;try{}catch(e){if(config.debug)console.error('Failed to setup interaction tracking:',e);}},trackFormSubmit:function(e){var form=e.target;var formData={form_id:form.id||null,form_name:form.name||null,form_action:form.action||null,form_method:form.method||'GET',form_classes:form.className||null};var fields=form.querySelectorAll('input, textarea, select');var filledFields=0;var totalFields=0;var fieldTypes=[];for(var i=0;i<fields.length;i++){var field=fields[i];var type=field.type||field.tagName.toLowerCase();if(type==='hidden'||type==='submit'||type==='button')continue;totalFields++;if(type==='checkbox'||type==='radio'){if(field.checked)filledFields++}else if(field.value&&field.value.trim()){filledFields++}
if(fieldTypes.indexOf(type)===-1){fieldTypes.push(type)}}
formData.fields_filled=filledFields;formData.total_fields=totalFields;formData.completion_rate=totalFields>0?Math.round((filledFields/totalFields)*100):0;formData.field_types=fieldTypes;formData.has_email_field=form.querySelector('input[type="email"]')!==null;formData.has_phone_field=form.querySelector('input[type="tel"]')!==null;formData.has_file_field=form.querySelector('input[type="file"]')!==null;var event=this.buildEvent('form_submit',formData);if(IPManager.memoryCache){event.client_ip=IPManager.memoryCache}
if(navigator.sendBeacon){var url=config.endpoint+(config.endpoint.indexOf('?')>-1?'&':'?')+'key='+encodeURIComponent(config.apiKey);var blob=new Blob([JSON.stringify(event)],{type:'text/plain'});navigator.sendBeacon(url,blob)}else{this.sendEvent(event)}},trackButtonClick:function(e){var element=e.target;var maxDepth=3;while(element&&maxDepth>0){if(element.matches&&element.matches('button, input[type="button"], input[type="submit"], a, [role="button"], .btn')){break}
element=element.parentElement;maxDepth--}
if(!element||!element.matches)return;if(!element.matches('button, input[type="button"], input[type="submit"], a, [role="button"], .btn'))return;var clickData={element_type:element.tagName.toLowerCase(),element_id:element.id||null,element_classes:element.className||null,element_text:this.getElementText(element).substring(0,100),element_href:element.href||null,element_target:element.target||null};var dataAttrs={};for(var i=0;i<element.attributes.length;i++){var attr=element.attributes[i];if(attr.name.indexOf('data-')===0){dataAttrs[attr.name]=attr.value}}
if(Object.keys(dataAttrs).length>0){clickData.data_attributes=dataAttrs}
var ctaClasses=['cta','btn-primary','btn-success','submit','download','signup','register'];clickData.is_cta=ctaClasses.some(function(cls){return element.className&&element.className.indexOf(cls)!==-1});if(element.href){var linkUrl=new URL(element.href,window.location.href);clickData.is_outbound=linkUrl.hostname!==window.location.hostname;clickData.link_domain=linkUrl.hostname}
this.track('button_click',clickData)},getElementText:function(element){var text=element.getAttribute('aria-label')||element.getAttribute('title')||element.innerText||element.textContent||element.value||'';return text.replace(/\s+/g,' ').trim()},setupScrollTracking:function(){var self=this;var scrollMilestones={'500px':!1,'25%':!1,'50%':!1,'75%':!1,'90%':!1,'100%':!1};var reachedComplete=!1;var completeCooldownTimer=null;var debounceTimer=null;var lastScrollTop=0;function getScrollPercentage(){var scrollTop=window.pageYOffset||document.documentElement.scrollTop;var scrollHeight=document.documentElement.scrollHeight-window.innerHeight;return scrollHeight>0?(scrollTop/scrollHeight)*100:0}
function checkScrollMilestones(){var scrollTop=window.pageYOffset||document.documentElement.scrollTop;var scrollPercentage=getScrollPercentage();if(scrollTop<=lastScrollTop){lastScrollTop=scrollTop;return}
lastScrollTop=scrollTop;if(!scrollMilestones['500px']&&scrollTop>=500){scrollMilestones['500px']=!0;self.track('scroll_milestone',{milestone:'500px',scroll_depth:scrollTop,percentage:0})}
var percentageMilestones=[{key:'25%',value:25},{key:'50%',value:50},{key:'75%',value:75},{key:'90%',value:90},{key:'100%',value:98}];percentageMilestones.forEach(function(milestone){if(reachedComplete&&milestone.key==='100%'){return}
if(!scrollMilestones[milestone.key]&&scrollPercentage>=milestone.value){scrollMilestones[milestone.key]=!0;if(milestone.key==='100%'){reachedComplete=!0;if(completeCooldownTimer)clearTimeout(completeCooldownTimer);completeCooldownTimer=setTimeout(function(){reachedComplete=!1},5000)}
var percentageValue=milestone.key==='100%'?100:parseInt(milestone.key);self.track('scroll_milestone',{milestone:milestone.key,scroll_depth:scrollTop,percentage:percentageValue})}})}
function handleScroll(){if(debounceTimer){clearTimeout(debounceTimer)}
debounceTimer=setTimeout(checkScrollMilestones,500)}},ready:function(callback){if(this.initialized){callback()}else{this.readyCallbacks=this.readyCallbacks||[];this.readyCallbacks.push(callback)}},getDeviceId:function(){return DeviceFingerprint.getDeviceId()},processQueue:function(){var self=this;window[globalName].q.forEach(function(args){var method=args[0];if(self[method]){self[method].apply(self,Array.prototype.slice.call(args,1))}});window[globalName].q=[]},getParam:function(name){var regex=new RegExp('[?&]'+name+'=([^&#]*)');var results=regex.exec(window.location.search);return results?decodeURIComponent(results[1]):null},getCookie:function(name){try{var value='; '+document.cookie;var parts=value.split('; '+name+'=');if(parts.length===2){return parts.pop().split(';').shift()}}catch(e){}
return null},isDNT:function(){return navigator.doNotTrack==='1'||window.doNotTrack==='1'||navigator.msDoNotTrack==='1'},deidentify:function(){this.track('deidentify',{old_device_id:DeviceID.get()});try{localStorage.removeItem('_ca_user_id');localStorage.removeItem('_ca_user_traits');localStorage.removeItem('_ca_debug')}catch(e){if(config.debug)console.warn('Failed to clear user data:',e);}
IPManager.clearCache();ClickIDManager.clearAll();DeviceID.clear();var newDeviceId=DeviceID.generate();DeviceID.save(newDeviceId);if(config.debug){console.log('Deidentified - new device ID:',newDeviceId)}
return newDeviceId}};var stub=window[globalName];window[globalName]=function(){var args=Array.prototype.slice.call(arguments);var method=args[0];if(Analytics[method]){Analytics[method].apply(Analytics,args.slice(1))}else{if(config.debug)console.error('Unknown method:',method);}};window[globalName].q=stub.q||[];window[globalName].l=stub.l;window[globalName].apiKey=stub.apiKey;window[globalName].customDomain=stub.customDomain;window[globalName].initialized=!0;window[globalName].track=function(eventName,properties){Analytics.track(eventName,properties)};window[globalName].identify=function(userId,traits){Analytics.identify(userId,traits)};window[globalName].ready=function(callback){Analytics.ready(callback)};window[globalName].getDeviceId=function(){return Analytics.getDeviceId()};window[globalName].deidentify=function(){return Analytics.deidentify()};if(typeof window.track==='undefined'){window.track=function(eventName,properties){Analytics.track(eventName,properties)};if(config.debug)console.log('Conceptual Analytics: Global track() function registered');}else{if(config.debug)console.warn('Conceptual Analytics: track() already exists, use ca.track() instead');}
if(apiKey||window[globalName].apiKey){Analytics.init(apiKey||window[globalName].apiKey)}
Analytics.processQueue();try{(function(){var path=window.location.pathname;if(path==='/enterprise'||path==='/enterprise/'){ca.track('viewed_enterprise_page')}else if(path==='/contact-sales'||path==='/contact-sales/'){ca.track('viewed_contact_sales_page')}else if(path==='/pricing'||path==='/pricing/'){ca.track('viewed_pricing_page')}})();(function(){if(window.__ca_download_tracker)return;window.__ca_download_tracker=!0;document.addEventListener('click',function(e){try{var el=e.target.closest('button, a, [role="button"]');if(el&&/download/i.test(el.innerText||'')){if(typeof ca!=='undefined'&&ca.track){ca.track('download_button_clicked_actual',{button_text:(el.innerText||'').trim().substring(0,100),element_href:el.href||null})}}}catch(err){}},{passive:!0,capture:!0})})()}catch(e){if(typeof console!=='undefined'&&console.error){console.error('Custom tracking script error:',e)}}})(window,document)