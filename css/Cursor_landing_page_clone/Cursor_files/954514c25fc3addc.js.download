(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94884,e=>{"use strict";var t=e.i(813130);let i=(0,t.createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),s=t.forwardRef((e,s)=>{let{alt:r,color:n,size:a,weight:o,mirrored:l,children:u,weights:d,...c}=e,{color:m="currentColor",size:h,weight:p="regular",mirrored:f=!1,...g}=t.useContext(i);return t.createElement("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:null!=a?a:h,height:null!=a?a:h,fill:null!=n?n:m,viewBox:"0 0 256 256",transform:l||f?"scale(-1, 1)":void 0,...g,...c},!!r&&t.createElement("title",null,r),u,d.get(null!=o?o:p))});s.displayName="IconBase",e.s(["default",()=>s],94884)},961327,565182,e=>{"use strict";var t=e.i(855527),i=e.i(280406),s=e.i(813130),r=e.i(94884);let n=new Map([["bold",s.createElement(s.Fragment,null,s.createElement("path",{d:"M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"}))],["duotone",s.createElement(s.Fragment,null,s.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),s.createElement("path",{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"}))],["fill",s.createElement(s.Fragment,null,s.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"}))],["light",s.createElement(s.Fragment,null,s.createElement("path",{d:"M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"}))],["regular",s.createElement(s.Fragment,null,s.createElement("path",{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"}))],["thin",s.createElement(s.Fragment,null,s.createElement("path",{d:"M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"}))]]),a=s.forwardRef((e,t)=>s.createElement(r.default,{ref:t,...e,weights:n}));a.displayName="SpinnerIcon";var o=e.i(786245),l=e.i(433131);let u={id:"cursor-ide-demo",title:(0,l.msg)("Enterprise Order Management System"),repoName:"order-management-system",chatTitle:(0,l.msg)("Enterprise Order Management System"),showInAgentsSidebar:!0,files:[{id:"src/domain/entities/Order.h",name:"src/domain/entities/Order.h",language:"cpp",content:`#pragma once

#include <string>
#include <vector>
#include <chrono>
#include "OrderItem.h"
#include "Customer.h"

namespace OrderManagement {

enum class OrderStatus {
    DRAFT,
    PENDING,
    CONFIRMED,
    PROCESSING,
    SHIPPED,
    DELIVERED,
    CANCELLED
};

class Order {
private:
    std::string orderId;
    std::string customerId;
    std::vector<OrderItem> items;
    OrderStatus status;
    double subtotal;
    double taxAmount;
    double shippingCost;
    double discount;
    std::chrono::system_clock::time_point createdAt;
    std::chrono::system_clock::time_point updatedAt;
    std::string shippingAddress;
    std::string billingAddress;
    std::string notes;

public:
    Order(const std::string& orderId, const std::string& customerId)
        : orderId(orderId), customerId(customerId), 
          status(OrderStatus::DRAFT), subtotal(0.0), 
          taxAmount(0.0), shippingCost(0.0), discount(0.0),
          createdAt(std::chrono::system_clock::now()),
          updatedAt(std::chrono::system_clock::now()) {}

    std::string getOrderId() const { return orderId; }
    std::string getCustomerId() const { return customerId; }
    OrderStatus getStatus() const { return status; }
    double getTotal() const { return subtotal + taxAmount + shippingCost - discount; }
    
    void addItem(const OrderItem& item);
    void removeItem(const std::string& itemId);
    void updateStatus(OrderStatus newStatus);
    void calculateTotals();
    
    void setShippingAddress(const std::string& address) { shippingAddress = address; }
    void setBillingAddress(const std::string& address) { billingAddress = address; }
    void setDiscount(double amount) { discount = amount; }
    void setShippingCost(double cost) { shippingCost = cost; }
    
    const std::vector<OrderItem>& getItems() const { return items; }
    const std::string& getShippingAddress() const { return shippingAddress; }
};

} // namespace OrderManagement`},{id:"src/domain/entities/OrderItem.h",name:"src/domain/entities/OrderItem.h",language:"cpp",content:`#pragma once

#include <string>

namespace OrderManagement {

class OrderItem {
private:
    std::string itemId;
    std::string productId;
    std::string productName;
    int quantity;
    double unitPrice;
    double discount;

public:
    OrderItem(const std::string& productId, const std::string& productName, 
              int quantity, double unitPrice)
        : productId(productId), productName(productName), 
          quantity(quantity), unitPrice(unitPrice), discount(0.0) {
        itemId = generateItemId();
    }

    double getLineTotal() const { return (unitPrice * quantity) - discount; }
    std::string getItemId() const { return itemId; }
    int getQuantity() const { return quantity; }
    
    void setQuantity(int qty) { quantity = qty; }
    void setDiscount(double disc) { discount = disc; }

private:
    std::string generateItemId() const;
};

} // namespace OrderManagement`},{id:"src/domain/builders/OrderBuilder.h",name:"src/domain/builders/OrderBuilder.h",language:"cpp",content:`#pragma once

#include <memory>
#include "../entities/Order.h"
#include "../entities/Customer.h"

namespace OrderManagement {

class OrderBuilder {
private:
    std::unique_ptr<Order> order;
    std::shared_ptr<Customer> customer;
    
public:
    OrderBuilder() = default;
    
    OrderBuilder& forCustomer(std::shared_ptr<Customer> customer);
    OrderBuilder& withShippingAddress(const std::string& address);
    OrderBuilder& withBillingAddress(const std::string& address);
    OrderBuilder& addItem(const std::string& productId, const std::string& productName, 
                         int quantity, double unitPrice);
    OrderBuilder& withDiscount(double discountAmount);
    OrderBuilder& withShippingCost(double cost);
    OrderBuilder& withNotes(const std::string& notes);
    
    std::unique_ptr<Order> build();
    
private:
    std::string generateOrderId() const;
    void validateOrder() const;
};

} // namespace OrderManagement`},{id:"src/domain/builders/OrderBuilder.cpp",name:"src/domain/builders/OrderBuilder.cpp",language:"cpp",content:`#include "OrderBuilder.h"
#include <stdexcept>
#include <sstream>
#include <random>

namespace OrderManagement {

-OrderBuilder& OrderBuilder::forCustomer(std::shared_ptr<Customer> customer) {
-    this->customer = customer;
-    return *this;
-}
+OrderBuilder& OrderBuilder::forCustomer(std::shared_ptr<Customer> customer) {
+    if (!customer) {
+        throw std::invalid_argument("Customer cannot be null");
+    }
+    this->customer = customer;
+    this->order = std::make_unique<Order>(generateOrderId(), customer->getCustomerId());
+    return *this;
+}

-OrderBuilder& OrderBuilder::withShippingAddress(const std::string& address) {
-    // TODO: Implement
-    return *this;
-}
+OrderBuilder& OrderBuilder::withShippingAddress(const std::string& address) {
+    if (!order) {
+        throw std::logic_error("Must set customer before setting shipping address");
+    }
+    order->setShippingAddress(address);
+    return *this;
+}

+OrderBuilder& OrderBuilder::withBillingAddress(const std::string& address) {
+    if (!order) {
+        throw std::logic_error("Must set customer before setting billing address");
+    }
+    order->setBillingAddress(address);
+    return *this;
+}

-OrderBuilder& OrderBuilder::addItem(const std::string& productId, 
-                                   const std::string& productName, 
-                                   int quantity, double unitPrice) {
-    // TODO: Implement
-    return *this;
-}
+OrderBuilder& OrderBuilder::addItem(const std::string& productId, 
+                                   const std::string& productName, 
+                                   int quantity, double unitPrice) {
+    if (!order) {
+        throw std::logic_error("Must set customer before adding items");
+    }
+    
+    if (quantity <= 0) {
+        throw std::invalid_argument("Quantity must be positive");
+    }
+    
+    if (unitPrice < 0) {
+        throw std::invalid_argument("Unit price cannot be negative");
+    }
+    
+    OrderItem item(productId, productName, quantity, unitPrice);
+    order->addItem(item);
+    return *this;
+}

+OrderBuilder& OrderBuilder::withDiscount(double discountAmount) {
+    if (!order) {
+        throw std::logic_error("Must set customer before applying discount");
+    }
+    
+    if (discountAmount < 0) {
+        throw std::invalid_argument("Discount cannot be negative");
+    }
+    
+    order->setDiscount(discountAmount);
+    return *this;
+}

+OrderBuilder& OrderBuilder::withShippingCost(double cost) {
+    if (!order) {
+        throw std::logic_error("Must set customer before setting shipping cost");
+    }
+    
+    if (cost < 0) {
+        throw std::invalid_argument("Shipping cost cannot be negative");
+    }
+    
+    order->setShippingCost(cost);
+    return *this;
+}

-std::unique_ptr<Order> OrderBuilder::build() {
-    // TODO: Implement
-    return nullptr;
-}
+std::unique_ptr<Order> OrderBuilder::build() {
+    validateOrder();
+    order->calculateTotals();
+    return std::move(order);
+}

+void OrderBuilder::validateOrder() const {
+    if (!order) {
+        throw std::logic_error("Cannot build order without customer");
+    }
+    
+    if (order->getItems().empty()) {
+        throw std::logic_error("Order must contain at least one item");
+    }
+    
+    if (order->getShippingAddress().empty()) {
+        throw std::logic_error("Shipping address is required");
+    }
+}

+std::string OrderBuilder::generateOrderId() const {
+    std::random_device rd;
+    std::mt19937 gen(rd());
+    std::uniform_int_distribution<> dis(100000, 999999);
+    
+    std::stringstream ss;
+    ss << "ORD-" << std::chrono::system_clock::now().time_since_epoch().count() 
+       << "-" << dis(gen);
+    return ss.str();
+}

} // namespace OrderManagement`},{id:"src/infrastructure/repositories/OrderRepository.h",name:"src/infrastructure/repositories/OrderRepository.h",language:"cpp",content:`#pragma once

#include <memory>
#include <vector>
#include <optional>
#include "../../domain/entities/Order.h"

namespace OrderManagement {
namespace Infrastructure {

class OrderRepository {
public:
    virtual ~OrderRepository() = default;
    
    virtual void save(const Order& order) = 0;
    virtual std::optional<Order> findById(const std::string& orderId) = 0;
    virtual std::vector<Order> findByCustomerId(const std::string& customerId) = 0;
    virtual std::vector<Order> findByStatus(OrderStatus status) = 0;
    virtual void update(const Order& order) = 0;
    virtual void deleteOrder(const std::string& orderId) = 0;
    virtual std::vector<Order> findAll(int offset = 0, int limit = 100) = 0;
};

} // namespace Infrastructure
} // namespace OrderManagement`},{id:"src/application/services/OrderService.h",name:"src/application/services/OrderService.h",language:"cpp",content:`#pragma once

#include <memory>
#include "../../domain/entities/Order.h"
#include "../../domain/builders/OrderBuilder.h"
#include "../../infrastructure/repositories/OrderRepository.h"

namespace OrderManagement {
namespace Application {

class OrderService {
private:
    std::shared_ptr<Infrastructure::OrderRepository> orderRepository;
    
public:
    explicit OrderService(std::shared_ptr<Infrastructure::OrderRepository> repo)
        : orderRepository(repo) {}
    
    std::unique_ptr<Order> createOrder(OrderBuilder& builder);
    void updateOrderStatus(const std::string& orderId, OrderStatus newStatus);
    std::optional<Order> getOrder(const std::string& orderId);
    std::vector<Order> getCustomerOrders(const std::string& customerId);
    void cancelOrder(const std::string& orderId);
    
private:
    void validateStatusTransition(OrderStatus currentStatus, OrderStatus newStatus);
    void notifyCustomer(const Order& order, const std::string& message);
};

} // namespace Application
} // namespace OrderManagement`},{id:"tests/OrderBuilderTest.cpp",name:"tests/OrderBuilderTest.cpp",language:"cpp",content:`#include <gtest/gtest.h>
#include "../src/domain/builders/OrderBuilder.h"
#include "../src/domain/entities/Customer.h"

using namespace OrderManagement;

class OrderBuilderTest : public ::testing::Test {
protected:
    std::shared_ptr<Customer> testCustomer;
    
    void SetUp() override {
        testCustomer = std::make_shared<Customer>("CUST-001", "John Doe", "john@example.com");
    }
};

TEST_F(OrderBuilderTest, BuildValidOrder) {
    OrderBuilder builder;
    
    auto order = builder
        .forCustomer(testCustomer)
        .withShippingAddress("123 Main St, City, State 12345")
        .withBillingAddress("123 Main St, City, State 12345")
        .addItem("PROD-001", "Laptop", 1, 999.99)
        .addItem("PROD-002", "Mouse", 2, 29.99)
        .withShippingCost(15.00)
        .withDiscount(50.00)
        .build();
    
    ASSERT_NE(order, nullptr);
    EXPECT_EQ(order->getCustomerId(), "CUST-001");
    EXPECT_EQ(order->getItems().size(), 2);
    EXPECT_GT(order->getTotal(), 0);
}

TEST_F(OrderBuilderTest, ThrowsOnMissingCustomer) {
    OrderBuilder builder;
    
    EXPECT_THROW({
        builder.addItem("PROD-001", "Laptop", 1, 999.99).build();
    }, std::logic_error);
}

TEST_F(OrderBuilderTest, ThrowsOnEmptyOrder) {
    OrderBuilder builder;
    
    EXPECT_THROW({
        builder.forCustomer(testCustomer)
               .withShippingAddress("123 Main St")
               .build();
    }, std::logic_error);
}`},{id:"CMakeLists.txt",name:"CMakeLists.txt",language:"text",content:`cmake_minimum_required(VERSION 3.20)
project(OrderManagementSystem VERSION 1.0.0)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

find_package(PostgreSQL REQUIRED)
find_package(GTest REQUIRED)
find_package(Threads REQUIRED)

include_directories(
    \${CMAKE_SOURCE_DIR}/src
    \${PostgreSQL_INCLUDE_DIRS}
)

set(DOMAIN_SOURCES
    src/domain/entities/Order.cpp
    src/domain/entities/OrderItem.cpp
    src/domain/entities/Customer.cpp
    src/domain/builders/OrderBuilder.cpp
)

set(INFRASTRUCTURE_SOURCES
    src/infrastructure/repositories/PostgresOrderRepository.cpp
    src/infrastructure/database/ConnectionPool.cpp
)

set(APPLICATION_SOURCES
    src/application/services/OrderService.cpp
    src/application/controllers/OrderController.cpp
)

add_executable(order_management_system
    src/main.cpp
    \${DOMAIN_SOURCES}
    \${INFRASTRUCTURE_SOURCES}
    \${APPLICATION_SOURCES}
)

target_link_libraries(order_management_system
    \${PostgreSQL_LIBRARIES}
    pqxx
    Threads::Threads
)

enable_testing()
add_executable(order_tests
    tests/OrderBuilderTest.cpp
    tests/OrderServiceTest.cpp
    \${DOMAIN_SOURCES}
    \${APPLICATION_SOURCES}
)

target_link_libraries(order_tests
    GTest::GTest
    GTest::Main
    Threads::Threads
)

add_test(NAME OrderTests COMMAND order_tests)`}],messages:[{id:"m1",role:"user",text:(0,l.msg)("Implement a builder pattern for creating complex orders in our order management system. Make sure it handles validation and supports fluent API")},{id:"m2",role:"thinking",text:(0,l.msg)("Thought 12s")},{id:"m3",role:"search",text:(0,l.msg)("Searched existing Order and Customer entity structures in domain layer")},{id:"m4",role:"read",text:(0,l.msg)("Read src/domain/entities/Order.h, src/domain/entities/Customer.h")},{id:"m5",role:"assistant",text:(0,l.msg)("I'll implement a builder pattern for the Order entity that provides a fluent API and comprehensive validation. Let me start by examining the existing structure and then implementing the builder:")},{id:"m6",role:"code",text:(0,l.msg)("OrderBuilder.cpp +145 -28")},{id:"m7",role:"assistant",text:(0,l.msg)("Now let me add the missing setter methods to the Order entity to support the builder:")},{id:"m8",role:"thinking",text:(0,l.msg)("Thought 6s")},{id:"m9",role:"code",text:(0,l.msg)("Order.h +13 -0")},{id:"m10",role:"assistant",text:(0,l.msg)("Let me also create a comprehensive test suite to demonstrate the builder's capabilities:")},{id:"m11",role:"code",text:(0,l.msg)("OrderBuilderTest.cpp +52 -12")},{id:"m12",role:"assistant",text:(0,l.msg)("Perfect! I've implemented a robust builder pattern for the order management system with:\n\n**Key Features:**\n\n• **Fluent Interface**: Chain methods for readable order construction\n• **Validation**: Ensures orders have customers, items, and shipping addresses\n• **Error Handling**: Throws descriptive exceptions for invalid operations\n• **Thread-Safe ID Generation**: Uses random device for unique order IDs\n• **Business Logic**: Validates quantities, prices, and discounts\n\nThe builder enforces the correct order of operations and validates all inputs, making it impossible to create invalid orders in your enterprise system.")}],openFileIds:["src/domain/builders/OrderBuilder.cpp","tests/OrderBuilderTest.cpp","src/domain/builders/OrderBuilder.h"],activeFileId:"src/domain/builders/OrderBuilder.cpp",diffSummary:void 0},d={id:"startup-analytics",title:(0,l.msg)("Workspace Feature Adoption Insights"),repoName:"cursor-usage-research",chatTitle:(0,l.msg)("Analyze Tab vs Agent Usage Patterns"),showInAgentsSidebar:!0,files:[{id:"usage/summary.py",name:"usage/summary.py",language:"python",content:`import logging
from typing import Dict

import pandas as pd

logger = logging.getLogger(__name__)


def focus_share(
  events: pd.DataFrame,
  feature_col: str = "interaction_type",
  user_col: str = "user_id",
) -> pd.DataFrame:
  if events.empty:
    return pd.DataFrame(
      columns=[feature_col, "events", "unique_users", "share_of_events", "share_of_users"],
    )

  missing = {feature_col, user_col} - set(events.columns)
  if missing:
    raise ValueError(f"Missing required columns: {sorted(missing)}")

  grouped = (
    events.groupby(feature_col)
    .agg(events=(feature_col, "size"), unique_users=(user_col, "nunique"))
    .reset_index()
  )

  total_events = grouped["events"].sum()
  total_users = grouped["unique_users"].sum()

  grouped["share_of_events"] = grouped["events"] / total_events if total_events else 0.0
  grouped["share_of_users"] = grouped["unique_users"] / total_users if total_users else 0.0
  return grouped.sort_values("events", ascending=False).reset_index(drop=True)


def switch_summary(
  events: pd.DataFrame,
  feature_col: str = "interaction_type",
  user_col: str = "user_id",
  ts_col: str = "timestamp",
) -> Dict[str, float]:
  defaults = {
    "total_switches": 0,
    "agent_entry_rate": 0.0,
    "tab_return_rate": 0.0,
    "avg_seconds_between_switches": 0.0,
  }

  if events.empty:
    return defaults

  required = {feature_col, user_col, ts_col}
  missing = required - set(events.columns)
  if missing:
    raise ValueError(f"Missing required columns: {sorted(missing)}")

  df = events.copy()
  df[ts_col] = pd.to_datetime(df[ts_col], utc=True, errors="coerce")
  df = df.dropna(subset=[ts_col]).sort_values([user_col, ts_col])
  if df.empty:
    return defaults

  df["prev_feature"] = df.groupby(user_col)[feature_col].shift(1)
  df["prev_timestamp"] = df.groupby(user_col)[ts_col].shift(1)
  switches = df[df["prev_feature"].notna() & (df[feature_col] != df["prev_feature"])]
  total = int(switches.shape[0])
  if total == 0:
    return defaults

  agent_entries = switches[switches[feature_col] == "agent"]
  tab_returns = switches[(switches[feature_col] == "tab") & (switches["prev_feature"] != "tab")]
  durations = (switches[ts_col] - switches["prev_timestamp"]).dt.total_seconds()

  return {
    "total_switches": total,
    "agent_entry_rate": float(agent_entries.shape[0] / total),
    "tab_return_rate": float(tab_returns.shape[0] / total),
    "avg_seconds_between_switches": float(durations.mean()) if not durations.empty else 0.0,
  }


def rolling_focus_share(
  events: pd.DataFrame,
  ts_col: str = "timestamp",
  feature_col: str = "interaction_type",
  freq: str = "1D",
  window: int = 7,
) -> pd.DataFrame:
  if events.empty:
    return pd.DataFrame()

  required = {ts_col, feature_col}
  missing = required - set(events.columns)
  if missing:
    raise ValueError(f"Missing required columns: {sorted(missing)}")

  df = events.copy()
  df[ts_col] = pd.to_datetime(df[ts_col], utc=True, errors="coerce")
  df = df.dropna(subset=[ts_col])
  if df.empty:
    return pd.DataFrame()

  daily = (
    df.groupby([pd.Grouper(key=ts_col, freq=freq), feature_col])
    .size()
    .unstack(fill_value=0)
    .sort_index()
  )

  if daily.empty:
    return pd.DataFrame()

  totals = daily.sum(axis=1).replace(0, pd.NA)
  shares = daily.div(totals, axis=0).fillna(0.0)
  return shares.rolling(window, min_periods=1).mean()
`},{id:"usage/segmentation.py",name:"usage/segmentation.py",language:"python",content:`from typing import Dict, Optional

import pandas as pd

ALIAS_MAP: Dict[str, str] = {
  "tabs": "tab",
  "tab_view": "tab",
  "assistants": "agent",
  "assistant_panel": "agent",
}


def normalize_interactions(
  events: pd.DataFrame,
  *,
  feature_col: str = "interaction_type",
  mapping: Optional[Dict[str, str]] = None,
) -> pd.DataFrame:
  mapping = mapping or ALIAS_MAP

  df = events.copy()
  df[feature_col] = df[feature_col].astype(str).str.strip().str.lower()
  df[feature_col] = df[feature_col].replace(mapping)
  return df


def tag_sessions(
  events: pd.DataFrame,
  *,
  user_col: str = "user_id",
  ts_col: str = "timestamp",
  session_gap_minutes: int = 30,
) -> pd.DataFrame:
  if events.empty:
    out = events.copy()
    out["session_id"] = pd.Series(dtype=str)
    return out

  df = events.copy()
  df[ts_col] = pd.to_datetime(df[ts_col], utc=True, errors="coerce")
  df = df.dropna(subset=[ts_col]).sort_values([user_col, ts_col])
  if df.empty:
    df["session_id"] = pd.Series(dtype=str)
    return df

  df["prev_timestamp"] = df.groupby(user_col)[ts_col].shift(1)
  gap = pd.Timedelta(minutes=session_gap_minutes)
  df["new_session"] = (df["prev_timestamp"].isna()) | ((df[ts_col] - df["prev_timestamp"]) > gap)
  df["session_index"] = df.groupby(user_col)["new_session"].cumsum()
  df["session_id"] = df[user_col].astype(str) + "-" + df["session_index"].astype(str)
  return df.drop(columns=["prev_timestamp", "new_session", "session_index"])
`},{id:"usage/report.py",name:"usage/report.py",language:"python",content:`from typing import Dict

import pandas as pd

from .segmentation import normalize_interactions, tag_sessions
from .summary import focus_share, rolling_focus_share, switch_summary


def build_usage_report(events: pd.DataFrame) -> Dict[str, object]:
  normalized = normalize_interactions(events)
  sessions = tag_sessions(normalized)

  return {
    "focus_share": focus_share(normalized),
    "switch_summary": switch_summary(normalized),
    "rolling_focus_share": rolling_focus_share(normalized),
    "session_count": sessions["session_id"].nunique() if not sessions.empty else 0,
  }
`},{id:"tests/test_usage.py",name:"tests/test_usage.py",language:"python",content:`import pandas as pd

from usage.report import build_usage_report
from usage.segmentation import normalize_interactions, tag_sessions
from usage.summary import focus_share, switch_summary


def sample_events() -> pd.DataFrame:
  return pd.DataFrame(
    [
      {"user_id": "u1", "timestamp": "2024-03-01T09:00:00Z", "interaction_type": "Tab"},
      {"user_id": "u1", "timestamp": "2024-03-01T09:05:00Z", "interaction_type": "agent"},
      {"user_id": "u1", "timestamp": "2024-03-01T09:20:00Z", "interaction_type": "tab"},
      {"user_id": "u2", "timestamp": "2024-03-01T10:00:00Z", "interaction_type": "assistant_panel"},
      {"user_id": "u2", "timestamp": "2024-03-01T10:10:00Z", "interaction_type": "tab"},
    ]
  )


def test_focus_share_orders_features() -> None:
  events = normalize_interactions(sample_events())
  summary = focus_share(events)
  assert list(summary["interaction_type"]) == ["tab", "agent"]


def test_switch_summary_counts_transitions() -> None:
  events = normalize_interactions(sample_events())
  metrics = switch_summary(events)
  assert metrics["total_switches"] == 3
  assert 0.0 <= metrics["agent_entry_rate"] <= 1.0


def test_tag_sessions_assigns_ids() -> None:
  tagged = tag_sessions(sample_events(), session_gap_minutes=5)
  assert tagged["session_id"].nunique() >= 2


def test_usage_report_returns_expected_sections() -> None:
  report = build_usage_report(sample_events())
  assert {"focus_share", "switch_summary", "rolling_focus_share", "session_count"} <= report.keys()
`},{id:"requirements.txt",name:"requirements.txt",language:"text",content:`pandas>=2.2.0
pytest>=7.0.0`}],messages:[{id:"sa1",role:"user",text:(0,l.msg)("Help me understand how teams split their focus between the tab view and the agents panel across our workspaces.")},{id:"sa2",role:"thinking",text:(0,l.msg)("Thought 7s")},{id:"sa3",role:"read",text:(0,l.msg)("Reviewed workspace usage exports and historical engagement notes")},{id:"sa4",role:"assistant",text:(0,l.msg)("I'll build an analytics toolkit that highlights tab versus agent adoption and switching behavior:")},{id:"sa5",role:"code",text:"summary.py +150 -0"},{id:"sa6",role:"assistant",text:(0,l.msg)("Next I'll normalize the interaction labels and add session tagging so product can filter specific cohorts:")},{id:"sa7",role:"code",text:"segmentation.py +94 -0"},{id:"sa8",role:"assistant",text:(0,l.msg)("Time to stitch everything together with a report helper that combines the key metrics:")},{id:"sa9",role:"code",text:"report.py +40 -0"},{id:"sa10",role:"assistant",text:(0,l.msg)("I'll add tests to lock in the behaviour using a representative sample from last week's export:")},{id:"sa11",role:"code",text:"test_usage.py created +90 lines"},{id:"sa12",role:"assistant",text:(0,l.msg)("All set! We now track focus share, switching rates, and rolling engagement so PMs can compare tab-first and agent-first workflows in seconds.")}],openFileIds:["usage/summary.py","usage/report.py","tests/test_usage.py"],activeFileId:"usage/summary.py",diffSummary:{added:220,removed:80}},c={id:"nextjs-router-demo",title:(0,l.msg)("Next.js App Router"),repoName:"nextjs-app-router",chatTitle:(0,l.msg)("Next.js App Router Guide"),files:[{id:"app/layout.tsx",name:"app/layout.tsx",language:"tsx",content:`import './globals.css'
import type { Metadata } from 'next'

export const metadata: Metadata = {
  title: 'Next.js App',
  description: 'Built with App Router',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}`},{id:"app/page.tsx",name:"app/page.tsx",language:"tsx",content:`export default function HomePage() {
  return (
    <main className="p-8">
      <h1 className="text-4xl font-bold mb-4">Welcome to Next.js!</h1>
      <p className="text-gray-600">
        This is using the new App Router.
      </p>
    </main>
  )
}`},{id:"app/blog/[slug]/page.tsx",name:"app/blog/[slug]/page.tsx",language:"tsx",content:`interface BlogPostProps {
  params: Promise<{ slug: string }>
}

export default async function BlogPost({ params }: BlogPostProps) {
  const { slug } = await params
  
  return (
    <article className="p-8">
      <h1 className="text-3xl font-bold mb-4">
        Blog Post: {slug}
      </h1>
+      <p className="text-gray-600">This is a dynamic route!</p>
+      <p className="mt-2 text-sm text-gray-500">Generated statically for better performance.</p>
    </article>
  )
}

export async function generateStaticParams() {
  return [
    { slug: 'first-post' },
    { slug: 'second-post' },
+    { slug: 'third-post' },
  ]
}`}],messages:[{id:"n1",role:"user",text:(0,l.msg)("How do I set up dynamic routes in Next.js App Router?")},{id:"n2",role:"thinking",text:(0,l.msg)("Thought 4s")},{id:"n3",role:"search",text:(0,l.msg)("Searched Next.js App Router dynamic routes documentation")},{id:"n4",role:"assistant",text:(0,l.msg)("I'll show you how to create dynamic routes in Next.js App Router. Dynamic routes use square brackets `[param]` in the file name:")},{id:"n5",role:"code",text:(0,l.msg)("blog/[slug]/page.tsx +25 -0")},{id:"n6",role:"assistant",text:(0,l.msg)("Key features of dynamic routes:\n\n• **Parameters**: Access route params via `params` prop\n• **Static Generation**: Use `generateStaticParams` to pre-render pages\n• **Nested Routes**: Can be combined with layout files\n• **Catch-all**: Use `[...slug]` for multiple segments\n\nThe route `/blog/my-post` will match this pattern and `params.slug` will be `'my-post'`.")}],openFileIds:["app/layout.tsx","app/blog/[slug]/page.tsx"],activeFileId:"app/blog/[slug]/page.tsx",diffSummary:void 0},m={id:"ml-research-python",title:(0,l.msg)("Run PyTorch MNIST experiments with AMP and results analysis"),repoName:"ml-research-notebook",chatTitle:(0,l.msg)("PyTorch MNIST Experiments"),showInAgentsSidebar:!0,files:[{id:"notebooks/train_model.py",name:"notebooks/train_model.py",language:"python",content:`import torch
import torch.nn as nn
-from torch.utils.data import DataLoader
+from torch.utils.data import DataLoader, random_split
-from torchvision import datasets
+from torchvision import datasets, transforms
+from tqdm import tqdm
+import yaml
+from pathlib import Path
+import json

-def get_dataloaders(batch_size=64):
-  transform = transforms.Compose([transforms.ToTensor()])
-  train = datasets.MNIST(root="data", train=True, download=True, transform=transform)
-  test = datasets.MNIST(root="data", train=False, download=True, transform=transform)
-  return DataLoader(train, batch_size=batch_size, shuffle=True), DataLoader(test, batch_size=batch_size)
+def load_config(config_path="experiments/config.yaml"):
+  with open(config_path) as f:
+    return yaml.safe_load(f)

+def get_dataloaders(config):
+  transform_list = [transforms.ToTensor()]
+  if config['data'].get('normalize', True):
+    transform_list.append(transforms.Normalize((0.1307,), (0.3081,)))
+  
+  if config['data']['augmentation'].get('random_rotation'):
+    transform_list.append(transforms.RandomRotation(
+      config['data']['augmentation']['random_rotation']
+    ))
+  
+  transform = transforms.Compose(transform_list)
+  
+  full_train = datasets.MNIST(root="data", train=True, download=True, transform=transform)
+  train_size = int(0.8 * len(full_train))
+  val_size = len(full_train) - train_size
+  train_dataset, val_dataset = random_split(full_train, [train_size, val_size])
+  
+  test_dataset = datasets.MNIST(root="data", train=False, download=True, transform=transform)
+  
+  batch_size = config['training']['batch_size']
+  train_loader = DataLoader(train_dataset, batch_size=batch_size, shuffle=True)
+  val_loader = DataLoader(val_dataset, batch_size=batch_size)
+  test_loader = DataLoader(test_dataset, batch_size=batch_size)
+  
+  return train_loader, val_loader, test_loader

class MLP(nn.Module):
-  def __init__(self, hidden=128):
+  def __init__(self, config):
    super().__init__()
+    hidden = config['model']['hidden_size']
+    dropout = config['model']['dropout']
+    
    self.net = nn.Sequential(
      nn.Flatten(),
      nn.Linear(28*28, hidden),
      nn.ReLU(),
+      nn.Dropout(dropout),
+      nn.Linear(hidden, hidden // 2),
+      nn.ReLU(),
+      nn.Dropout(dropout),
-      nn.Linear(hidden, 10),
+      nn.Linear(hidden // 2, 10),
    )

  def forward(self, x):
    return self.net(x)

-def train_model(epochs=1, lr=1e-3, device=None):
-  device = device or ("cuda" if torch.cuda.is_available() else "cpu")
-  model = MLP().to(device)
-  opt = torch.optim.Adam(model.parameters(), lr=lr)
+def train_model(config_path="experiments/config.yaml"):
+  config = load_config(config_path)
+  device = "cuda" if torch.cuda.is_available() and config['training']['use_amp'] else "cpu"
+  
+  torch.manual_seed(42)
+  if device == "cuda":
+    torch.cuda.manual_seed_all(42)
+  
+  model = MLP(config).to(device)
+  opt = torch.optim.Adam(
+    model.parameters(), 
+    lr=config['training']['learning_rate'],
+    weight_decay=config['training']['weight_decay']
+  )
  loss_fn = nn.CrossEntropyLoss()
-  train_loader, _ = get_dataloaders()
-+  # Seed for reproducibility
-+  torch.manual_seed(42)
-+  if device == "cuda":
-+    torch.cuda.manual_seed_all(42)
-+  # AMP + Scheduler
-+  scaler = torch.cuda.amp.GradScaler(enabled=(device=="cuda"))
-+  scheduler = torch.optim.lr_scheduler.CosineAnnealingLR(opt, T_max=epochs)
-  model.train()
-  for epoch in range(epochs):
-    total, correct = 0, 0
-    for x, y in tqdm(train_loader, desc=f"epoch {epoch+1}"):
+  
+  train_loader, val_loader, test_loader = get_dataloaders(config)
+  
+  use_amp = config['training']['use_amp'] and device == "cuda"
+  scaler = torch.cuda.amp.GradScaler(enabled=use_amp)
+  
+  scheduler = torch.optim.lr_scheduler.CosineAnnealingLR(
+    opt, T_max=config['training']['epochs']
+  )
+  
+  history = {'train_loss': [], 'train_acc': [], 'val_loss': [], 'val_acc': []}
+  
+  for epoch in range(config['training']['epochs']):
+    model.train()
+    train_loss, train_correct, train_total = 0, 0, 0
+    
+    for x, y in tqdm(train_loader, desc=f"Epoch {epoch+1}/{config['training']['epochs']}"):
      x, y = x.to(device), y.to(device)
      opt.zero_grad(set_to_none=True)
-      logits = model(x)
-      loss = loss_fn(logits, y)
-      loss.backward()
-      opt.step()
+      with torch.cuda.amp.autocast(enabled=use_amp):
+        logits = model(x)
+        loss = loss_fn(logits, y)
+      
      scaler.scale(loss).backward()
+      
+      if config['training']['gradient_clip'] > 0:
        scaler.unscale_(opt)
-+      torch.nn.utils.clip_grad_norm_(model.parameters(), max_norm=1.0)
+        torch.nn.utils.clip_grad_norm_(model.parameters(), config['training']['gradient_clip'])
+      
      scaler.step(opt)
      scaler.update()
-+      preds = logits.argmax(dim=1)
-+      total += y.size(0)
-+      correct += (preds == y).sum().item()
-+    acc = correct / max(1, total)
+      
+      train_loss += loss.item() * x.size(0)
+      train_correct += (logits.argmax(1) == y).sum().item()
+      train_total += x.size(0)
+    
+    model.eval()
+    val_loss, val_correct, val_total = 0, 0, 0
+    
+    with torch.no_grad():
+      for x, y in val_loader:
+        x, y = x.to(device), y.to(device)
+        logits = model(x)
+        loss = loss_fn(logits, y)
+        
+        val_loss += loss.item() * x.size(0)
+        val_correct += (logits.argmax(1) == y).sum().item()
+        val_total += x.size(0)
+    
+    train_loss = train_loss / train_total
+    train_acc = train_correct / train_total
+    val_loss = val_loss / val_total
+    val_acc = val_correct / val_total
+    
+    history['train_loss'].append(train_loss)
+    history['train_acc'].append(train_acc)
+    history['val_loss'].append(val_loss)
+    history['val_acc'].append(val_acc)
+    
+    print(f"Epoch {epoch+1}: train_loss={train_loss:.4f}, train_acc={train_acc:.3f}, "
+          f"val_loss={val_loss:.4f}, val_acc={val_acc:.3f}")
+    
    scheduler.step()
-+    print(f"epoch {epoch+1}: acc={acc:.3f}")
-  return model\`,
+    
+    if (epoch + 1) % 5 == 0:
+      checkpoint = {
+        'epoch': epoch,
+        'model_state_dict': model.state_dict(),
+        'optimizer_state_dict': opt.state_dict(),
+        'scheduler_state_dict': scheduler.state_dict(),
+        'history': history,
+        'config': config
+      }
+      Path('checkpoints').mkdir(exist_ok=True)
+      torch.save(checkpoint, f'checkpoints/model_epoch_{epoch+1}.pt')
+  
+  Path('results').mkdir(exist_ok=True)
+  with open('results/training_history.json', 'w') as f:
+    json.dump(history, f, indent=2)
+  
+  return model, history, test_loader`},{id:"notebooks/evaluation.py",name:"notebooks/evaluation.py",language:"python",content:`import torch
+import numpy as np
-+from sklearn.metrics import confusion_matrix
+from sklearn.metrics import confusion_matrix, classification_report
import matplotlib.pyplot as plt
+import seaborn as sns
+from pathlib import Path

def evaluate_model(model, test_loader, device="cpu"):
  model.eval()
  all_preds, all_labels = [], []
  
  with torch.no_grad():
    for x, y in test_loader:
      x, y = x.to(device), y.to(device)
      logits = model(x)
      preds = logits.argmax(dim=1)
      all_preds.extend(preds.cpu().numpy())
      all_labels.extend(y.cpu().numpy())
  
+  accuracy = np.mean(np.array(all_preds) == np.array(all_labels))
+  cm = confusion_matrix(all_labels, all_preds)
+  
+  plt.figure(figsize=(10, 8))
+  sns.heatmap(cm, annot=True, fmt='d', cmap='Blues')
+  plt.title(f'Confusion Matrix (Accuracy: {accuracy:.3f})')
+  plt.xlabel('Predicted')
+  plt.ylabel('True')
+  
+  Path('results').mkdir(exist_ok=True)
+  plt.savefig('results/confusion_matrix.png', dpi=300, bbox_inches='tight')
+  plt.close()
+  
+  report = classification_report(all_labels, all_preds, digits=3)
+  with open('results/classification_report.txt', 'w') as f:
+    f.write(f"Test Accuracy: {accuracy:.4f}\\n\\n")
+    f.write(report)
+  
+  return accuracy, cm`},{id:"experiments/config.yaml",name:"experiments/config.yaml",language:"text",content:`# Experiment configuration
model:
  hidden_size: 256
  dropout: 0.2

training:
  epochs: 10
  batch_size: 128
  learning_rate: 0.001
  weight_decay: 1e-4
+  # Advanced settings
+  gradient_clip: 1.0
+  use_amp: true
+  scheduler:
+    type: "cosine"
+    warmup_epochs: 2

data:
  dataset: "MNIST"
  augmentation:
    random_rotation: 10
+    random_translation: 0.1
+  normalize: true`},{id:"notebooks/run_experiment.py",name:"notebooks/run_experiment.py",language:"python",content:`#!/usr/bin/env python3
import argparse
from train_model import train_model
from evaluation import evaluate_model

def main():
  parser = argparse.ArgumentParser(description='Run MNIST experiment')
  parser.add_argument('--config', type=str, default='experiments/config.yaml',
                      help='Path to config file')
  parser.add_argument('--device', type=str, default=None,
                      help='Device to use (cuda/cpu)')
  args = parser.parse_args()
  
  print("Starting training...")
  model, history, test_loader = train_model(args.config)
  
  print("\\nEvaluating model...")
  device = model.device if hasattr(model, 'device') else next(model.parameters()).device
  accuracy, cm = evaluate_model(model, test_loader, device)
  
  print(f"\\nFinal test accuracy: {accuracy:.4f}")
  print("Results saved to ./results/")

if __name__ == "__main__":
  main()`},{id:"requirements.txt",name:"requirements.txt",language:"text",content:`torch>=2.0.0
torchvision>=0.15.0
tqdm
matplotlib
seaborn
scikit-learn
pyyaml`}],messages:[{id:"p1",role:"user",text:(0,l.msg)("Add mixed precision training, learning rate scheduling, and proper validation. Also create an experiment config system so I can easily run different hyperparameter settings.")},{id:"p2",role:"thinking",text:(0,l.msg)("Thought 10s")},{id:"p3",role:"search",text:(0,l.msg)("Searched PyTorch mixed precision training best practices")},{id:"p4",role:"read",text:(0,l.msg)("Read notebooks/train_model.py (current implementation)")},{id:"p5",role:"assistant",text:(0,l.msg)("I'll enhance your MNIST trainer with a complete experiment framework including mixed precision, validation splitting, and proper configuration management. Let me start by rewriting the training module:")},{id:"p6",role:"code",text:"train_model.py +156 -34"},{id:"p7",role:"assistant",text:(0,l.msg)("Now let me update the evaluation module to save results and generate a detailed report:")},{id:"p8",role:"code",text:(0,l.msg)("evaluation.py +24 -6")},{id:"p9",role:"assistant",text:(0,l.msg)("Let me create a command-line runner script to make experiments easy to execute:")},{id:"p10",role:"code",text:(0,l.msg)("run_experiment.py created +29 lines")},{id:"p11",role:"assistant",text:(0,l.msg)("Done, configurable MNIST experiment framework with AMP and reports.\n\n• **Training**: AMP, train/val split, cosine schedule, gradient clipping, checkpoints\n• **Experimentation**: YAML config, saved history, confusion matrix + classification report, CLI runner")}],openFileIds:["notebooks/train_model.py","notebooks/run_experiment.py","experiments/config.yaml"],activeFileId:"notebooks/train_model.py",diffSummary:void 0},h={id:"cursor-rules-demo",title:(0,l.msg)("Cursor Rules Configuration"),repoName:"dashboard-app",chatTitle:(0,l.msg)("Set up Cursor Rules for Dashboard"),showInAgentsSidebar:!0,files:[{id:".cursor/rules/next.mdc",name:".cursor/rules/next.mdc",language:"markdown",content:`+ ---
+ Description: Rules for the dashboard application
+ Globs: apps/dashboard/**/*
+ ---

# Dashboard Application Rules

## Instructions:
+ Follow Next.js App Router best practices
+ Use React Server Components by default
+ Implement type-safe server actions
+ Follow mobile-first responsive design with Tailwind CSS
+ Use shadcn/ui components with Radix UI primitives
+ Implement proper error boundaries and loading states
+ Optimize for Core Web Vitals

## Component Structure:
1. Exports
2. Types/Interfaces
3. Server actions (if any)
4. Component logic
5. Helper functions
6. Static content

## Naming:
- Use kebab-case for directories
- PascalCase for components
- camelCase for functions and variables
- Use descriptive names with auxiliary verbs (isLoading, hasError)

@file apps/dashboard/tsconfig.json
@file apps/dashboard/.env`}],messages:[{id:"cr1",role:"user",text:(0,l.msg)("Set up Cursor Rules for our Next.js dashboard app to enforce consistent patterns across the team")},{id:"cr2",role:"thinking",text:(0,l.msg)("Thought 5s")},{id:"cr3",role:"search",text:(0,l.msg)("Searched Cursor Rules documentation and .mdc file format")},{id:"cr4",role:"read",text:(0,l.msg)("Read .cursor/rules/*.mdc files")},{id:"cr5",role:"assistant",text:(0,l.msg)("I'll set up Cursor Rules for your dashboard to enforce consistent patterns. Let me create a rules file with all the necessary guidelines:")},{id:"cr6",role:"code",text:(0,l.msg)(".cursor/rules/next.mdc created")},{id:"cr7",role:"assistant",text:(0,l.msg)("Perfect! I've created a comprehensive Cursor Rules file for your dashboard:\n\n**Dashboard Rules** (`.cursor/rules/next.mdc`)\n• Applies to all dashboard files via glob pattern\n• Enforces Next.js App Router best practices\n• Defines component structure and naming conventions\n• Includes instructions for UI components, state management, and performance\n\nThe rule uses frontmatter metadata to:\n- **Description**: Makes it fetchable by the AI assistant\n- **Globs**: Automatically applies to `apps/dashboard/**/*` files\n- **@file references**: Links to important config files\n\nCursor AI will now automatically follow these standards when working on your dashboard code!")}],openFileIds:[".cursor/rules/next.mdc"],activeFileId:".cursor/rules/next.mdc",diffSummary:{added:37,removed:0}},p={id:"change-management",title:"Change Management Release",repoName:"change-management",chatTitle:"Change Management Versioning",showInAgentsSidebar:!1,files:[{id:"src/change/ChangeManagement.tsx",name:"src/change/ChangeManagement.tsx",language:"tsx",content:`const VERSION = "8.2.3"
const RELEASE_TAG = "release-8.2.3"

export function ChangeManagement() {
  const metadata = {
    version: VERSION,
    tag: RELEASE_TAG,
  }

  return (
  <main className="change-management">
    <header>
      <h1>What's New in Version {VERSION}</h1>
    </header>
  </main>
  )
}`}],messages:[{id:"cm1",role:"user",text:"Align the release metadata with VERSION and fix the UI typos."}],openFileIds:["src/change/ChangeManagement.tsx"],activeFileId:"src/change/ChangeManagement.tsx"},f={id:"tab-static-pseudocode",title:"Tab-Static: Pseudocode → Implementation",repoName:"phone-utils",chatTitle:"Format US phone numbers",showInAgentsSidebar:!1,files:[{id:"src/utils/phoneNumberUtils.ts",name:"src/utils/phoneNumberUtils.ts",language:"typescript",content:`export function normalizeNANPDigits(input: string): string {
  const onlyDigits = input.replace(/D/g, "");
  return onlyDigits.length === 11 && onlyDigits.startsWith("1") ? onlyDigits.slice(1) : onlyDigits;
}

export function formatUSPhone(input: string): string {
  // format (000) 000-0000
  const digits = input.replace(/D/g, "");
  const core = digits.length === 11 && digits.startsWith("1") ? digits.slice(1) : digits;
  if (core.length !== 10) return input.trim();
  const area = core.slice(0, 3);
  const prefix = core.slice(3, 6);
  const line = core.slice(6);
  return "(" + area + ") " + prefix + "-" + line;
}`}],messages:[{id:"pc1",role:"user",text:"Turn my pseudocode into a robust phone formatter that preserves extensions."}],openFileIds:["src/utils/phoneNumberUtils.ts"],activeFileId:"src/utils/phoneNumberUtils.ts"},g={id:"biotech-sequence-protein",title:(0,l.msg)("Add affine gap alignment to my sequence alignment tools"),repoName:"seq-analysis",chatTitle:(0,l.msg)("Bioinformatics Tools"),showInAgentsSidebar:!0,files:[{id:"bio/sequence_alignment.py",name:"bio/sequence_alignment.py",language:"python",content:`from typing import Tuple

MATCH_SCORE = 2
MISMATCH_SCORE = -1
GAP_PENALTY = -2

def nw_align(s: str, t: str) -> int:
    """Basic Needleman-Wunsch global alignment."""
    n, m = len(s), len(t)
    dp = [[0] * (m + 1) for _ in range(n + 1)]
    
    # Initialize gap penalties
    for i in range(1, n + 1):
        dp[i][0] = i * GAP_PENALTY
    for j in range(1, m + 1):
        dp[0][j] = j * GAP_PENALTY
    
    for i in range(1, n + 1):
        for j in range(1, m + 1):
            match = dp[i-1][j-1] + (MATCH_SCORE if s[i-1] == t[j-1] else MISMATCH_SCORE)
            delete = dp[i-1][j] + GAP_PENALTY
            insert = dp[i][j-1] + GAP_PENALTY
            dp[i][j] = max(match, delete, insert)
    
    return dp[n][m]`},{id:"bio/translate.py",name:"bio/translate.py",language:"python",content:`CODON_TABLE = {
    'UUU': 'F', 'UUC': 'F', 'UUA': 'L', 'UUG': 'L',
    'UCU': 'S', 'UCC': 'S', 'UCA': 'S', 'UCG': 'S',
    'UAU': 'Y', 'UAC': 'Y', 'UAA': '*', 'UAG': '*',
    'UGU': 'C', 'UGC': 'C', 'UGA': '*', 'UGG': 'W',
    'CUU': 'L', 'CUC': 'L', 'CUA': 'L', 'CUG': 'L',
    'CCU': 'P', 'CCC': 'P', 'CCA': 'P', 'CCG': 'P',
    'CAU': 'H', 'CAC': 'H', 'CAA': 'Q', 'CAG': 'Q',
    'CGU': 'R', 'CGC': 'R', 'CGA': 'R', 'CGG': 'R',
    'AUU': 'I', 'AUC': 'I', 'AUA': 'I', 'AUG': 'M',
    'ACU': 'T', 'ACC': 'T', 'ACA': 'T', 'ACG': 'T',
    'AAU': 'N', 'AAC': 'N', 'AAA': 'K', 'AAG': 'K',
    'AGU': 'S', 'AGC': 'S', 'AGA': 'R', 'AGG': 'R',
    'GUU': 'V', 'GUC': 'V', 'GUA': 'V', 'GUG': 'V',
    'GCU': 'A', 'GCC': 'A', 'GCA': 'A', 'GCG': 'A',
    'GAU': 'D', 'GAC': 'D', 'GAA': 'E', 'GAG': 'E',
    'GGU': 'G', 'GGC': 'G', 'GGA': 'G', 'GGG': 'G'
}

# Also support DNA input (T instead of U)
DNA_CODON_TABLE = {k.replace('U', 'T'): v for k, v in CODON_TABLE.items()}

def translate(dna: str, stop_at_stop: bool = True) -> str:
    """Translate DNA sequence to protein."""
    if not dna:
        return ""
    
    protein = []
    seq = dna.upper()
    
    for i in range(0, len(seq) - 2, 3):
        codon = seq[i:i+3]
        amino = DNA_CODON_TABLE.get(codon, 'X')
        
        if stop_at_stop and amino == '*':
            break
        protein.append(amino)
    
    return ''.join(protein)`},{id:"bio/fasta.py",name:"bio/fasta.py",language:"python",content:`def parse_fasta(text):
    """Simple FASTA parser - returns list of (name, sequence) tuples."""
    sequences = []
    current_name = None
    current_seq = []
    
    for line in text.strip().split('\\n'):
        line = line.strip()
        if line.startswith('>'):
            if current_name:
                sequences.append((current_name, ''.join(current_seq)))
            current_name = line[1:].split()[0]
            current_seq = []
        elif line and current_name:
            current_seq.append(line)
    
    if current_name:
        sequences.append((current_name, ''.join(current_seq)))
    
    return sequences`},{id:"test_alignment.py",name:"test_alignment.py",language:"python",content:`#!/usr/bin/env python3

from bio.sequence_alignment import nw_align
from bio.fasta import parse_fasta
from bio.translate import translate

seq1 = "AGTACGCA"
seq2 = "TATGC"

print(f"Sequence 1: {seq1}")
print(f"Sequence 2: {seq2}")
print(f"NW Score: {nw_align(seq1, seq2)}")

fasta_data = """>NM_001126114.2 Homo sapiens tumor protein p53
ATGGAGGAGCCGCAGTCAGATCCTAGCGTCGAGCCCCCTCTGAGTCAGGAAACATTTTCAGACCTATGG
AAACTACTTCCTGAAAACAACGTTCTGTCCCCCTTGCCGTCCCAAGCAATGGATGATTTGATGCTGTCC
>NM_000546.6 Homo sapiens TP53 variant 2
ATGGAGGAGCCGCAGTCAGATCCTAGCGTCGAGCCCCCTCTGAGTCAGGAAACATTTTCAGACCTATGG
"""

print("\\nParsing FASTA:")
sequences = parse_fasta(fasta_data)
for name, seq in sequences:
    print(f">{name}")
    print(f"Length: {len(seq)}")
    print(f"Protein: {translate(seq)[:20]}...")`}],messages:[{id:"b1",role:"user",text:(0,l.msg)("Add affine gap alignment. We only have basic NW alignment but I need Gotoh's algorithm for better handling of indels. Also fix the FASTA parser.")},{id:"b2",role:"thinking",text:(0,l.msg)("Thought 5s")},{id:"b3",role:"read",text:(0,l.msg)("Read bio/sequence_alignment.py, bio/fasta.py, bio/translate.py")},{id:"b4",role:"search",text:(0,l.msg)("Searched for 'gotoh algorithm implementation python'")},{id:"b5",role:"assistant",text:(0,l.msg)("I'll add Gotoh's affine gap algorithm to your alignment module and fix the FASTA parser. Let me start with the alignment code:")},{id:"b6",role:"code",text:`bio/sequence_alignment.py

+GAP_OPEN = -10
+GAP_EXTEND = -1
+
+def gotoh_align(s: str, t: str) -> Tuple[int, str, str]:
+    """Gotoh algorithm with affine gap penalties."""
+    n, m = len(s), len(t)
+    
+    # Three matrices for the different states
+    M = [[float('-inf')] * (m + 1) for _ in range(n + 1)]
+    X = [[float('-inf')] * (m + 1) for _ in range(n + 1)]  
+    Y = [[float('-inf')] * (m + 1) for _ in range(n + 1)]
+    
+    # Initialize
+    M[0][0] = 0
+    for i in range(1, n + 1):
+        X[i][0] = GAP_OPEN + (i - 1) * GAP_EXTEND
+    for j in range(1, m + 1):
+        Y[0][j] = GAP_OPEN + (j - 1) * GAP_EXTEND
+    
+    # Fill matrices
+    for i in range(1, n + 1):
+        for j in range(1, m + 1):
+            match_score = MATCH_SCORE if s[i-1] == t[j-1] else MISMATCH_SCORE
+            M[i][j] = match_score + max(M[i-1][j-1], X[i-1][j-1], Y[i-1][j-1])
+            X[i][j] = max(M[i-1][j] + GAP_OPEN, X[i-1][j] + GAP_EXTEND)
+            Y[i][j] = max(M[i][j-1] + GAP_OPEN, Y[i][j-1] + GAP_EXTEND)
+    
+    # Find best score
+    score = max(M[n][m], X[n][m], Y[n][m])
+    
+    # Traceback
+    aligned_s, aligned_t = [], []
+    i, j = n, m
+    
+    # Determine which matrix to start from
+    if score == M[n][m]:
+        state = 'M'
+    elif score == X[n][m]:
+        state = 'X'
+    else:
+        state = 'Y'
+    
+    while i > 0 or j > 0:
+        if state == 'M':
+            aligned_s.append(s[i-1])
+            aligned_t.append(t[j-1])
+            if i > 0 and j > 0:
+                match_score = MATCH_SCORE if s[i-1] == t[j-1] else MISMATCH_SCORE
+                if M[i][j] == match_score + M[i-1][j-1]:
+                    state = 'M'
+                elif M[i][j] == match_score + X[i-1][j-1]:
+                    state = 'X'
+                else:
+                    state = 'Y'
+            i -= 1
+            j -= 1
+        elif state == 'X':
+            aligned_s.append(s[i-1])
+            aligned_t.append('-')
+            if M[i-1][j] + GAP_OPEN >= X[i-1][j] + GAP_EXTEND:
+                state = 'M'
+            i -= 1
+        else:  # state == 'Y'
+            aligned_s.append('-')
+            aligned_t.append(t[j-1])
+            if M[i][j-1] + GAP_OPEN >= Y[i][j-1] + GAP_EXTEND:
+                state = 'M'
+            j -= 1
+    
+    return score, ''.join(reversed(aligned_s)), ''.join(reversed(aligned_t))

75 lines added`},{id:"b7",role:"assistant",text:(0,l.msg)("Good, I've added the complete Gotoh implementation with proper traceback. Now let me fix the FASTA parser:")},{id:"b8",role:"code",text:`bio/fasta.py

-def parse_fasta(text):
-    sequences = []
-    current_name = None
-    current_seq = []
-    
-    for line in text.strip().split('\\n'):
-        line = line.strip()
-        if line.startswith('>'):
-            if current_name:
-                sequences.append((current_name, ''.join(current_seq)))
-            current_name = line[1:].split()[0]
-            current_seq = []
-        elif line and current_name:
-            current_seq.append(line)
-    
-    if current_name:
-        sequences.append((current_name, ''.join(current_seq)))
-    
-    return sequences
+from typing import List, Tuple
+import re
+
+def parse_fasta(text: str) -> List[Tuple[str, str]]:
+    sequences = []
+    current_header = None
+    current_seq = []
+    
+    for line in text.strip().split('\\n'):
+        line = line.strip()
+        if not line:
+            continue
+            
+        if line.startswith('>'):
+            if current_header is not None:
+                seq = ''.join(current_seq).upper()
+                seq = re.sub(r'[\\s\\d]', '', seq)
+                sequences.append((current_header, seq))
+            
+            current_header = line[1:].strip()
+            current_seq = []
+        else:
+            current_seq.append(line)
+    
+    if current_header is not None:
+        seq = ''.join(current_seq).upper()
+        seq = re.sub(r'[\\s\\d]', '', seq)
+        sequences.append((current_header, seq))
+    
+    return sequences
+
+def validate_dna(seq: str) -> bool:
+    valid_chars = set('ATCGN-')
+    return all(c in valid_chars for c in seq.upper())

21 lines changed`},{id:"b9",role:"assistant",text:(0,l.msg)("Perfect! Now let me also add ORF finding capability to the translate module since that's often needed:")},{id:"b10",role:"code",text:`bio/translate.py

+def find_orfs(dna: str, min_length: int = 100) -> List[Tuple[int, int, str]]:
+    orfs = []
+    start_codons = ['ATG']
+    stop_codons = ['TAA', 'TAG', 'TGA']
+    
+    seq = dna.upper()
+    
+    # Check all three reading frames
+    for frame in range(3):
+        i = frame
+        while i < len(seq) - 2:
+            codon = seq[i:i+3]
+            if codon in start_codons:
+                start_pos = i
+                j = i + 3
+                while j < len(seq) - 2:
+                    codon = seq[j:j+3]
+                    if codon in stop_codons:
+                        if j - start_pos >= min_length:
+                            protein = translate(seq[start_pos:j+3])
+                            orfs.append((start_pos, j+3, protein))
+                        i = j + 3
+                        break
+                    j += 3
+                else:
+                    i += 3
+            else:
+                i += 3
+    
+    return sorted(orfs, key=lambda x: x[0])
+
+def reverse_complement(dna: str) -> str:
+    complement = {'A': 'T', 'T': 'A', 'C': 'G', 'G': 'C', 'N': 'N'}
+    return ''.join(complement.get(c, 'N') for c in dna.upper()[::-1])

39 lines added`},{id:"b11",role:"assistant",text:(0,l.msg)("Great! I've added:\n\n1. **Gotoh's algorithm** with proper affine gap penalties (gap open: -10, extend: -1)\n2. **Fixed FASTA parser** that handles multi-line sequences and cleans up whitespace/numbers\n3. **ORF finder** that searches all three frames for start/stop codons\n4. **Reverse complement** function for searching both strands\n\nThe Gotoh implementation uses three matrices (M, X, Y) to track match/mismatch and gap states separately, which gives much better alignments for sequences with indels. Your existing `nw_align` function is unchanged.\n\nWant me to create a quick test to verify everything works?")}],openFileIds:["bio/sequence_alignment.py","test_alignment.py"],activeFileId:"bio/sequence_alignment.py",diffSummary:{added:135,removed:21}},v={id:"cursor-ide-demo",title:(0,l.msg)("Build Ecommerce Dashboard"),repoName:"ecommerce-dashboard",chatTitle:(0,l.msg)("Build Ecommerce Dashboard"),showInAgentsSidebar:!0,files:[{id:"app/page.tsx",name:"app/page.tsx",language:"tsx",content:`import Dashboard from "@/components/Dashboard";

export default function DashboardPage() {
  return (
    <div className="container py-10">
      <h1 className="text-3xl font-bold mb-6">Ecommerce Dashboard</h1>
      <Dashboard />
    </div>
  );
}`},{id:"components/Dashboard.tsx",name:"components/Dashboard.tsx",language:"tsx",content:`"use client";

import React, { useState } from "react";
import Navigation from "./Navigation";
import SupportChat from "./SupportChat";

export default function Dashboard() {
+  const [activeTab, setActiveTab] = useState("support");

  return (
    <div className="flex h-[600px] border rounded-lg overflow-hidden">
      <div className="w-64 border-r">
+       <Navigation activeTab={activeTab} onSelectTab={setActiveTab} />
      </div>
      <div className="w-80 border-l">
        <SupportChat />
      </div>
    </div>
  );
}`},{id:"components/SupportChat.tsx",name:"components/SupportChat.tsx",language:"tsx",content:`"use client";

import React, { useState } from "react";
+import { useQuery } from "@tanstack/react-query";

export default function SupportChat() {
  const [input, setInput] = useState("");
+  const { data: messages } = useQuery({
+    queryKey: ['messages'],
+    queryFn: () => fetch('/api/messages').then(res => res.json())
+  });

  return (
    <div className="flex flex-col h-full">
      <div className="p-3 border-b">
        <h3 className="font-semibold">Support Chat</h3>
      </div>
      <div className="flex-1 overflow-auto p-3">
        {messages.map((message) => (
          <div key={message.id} className="mb-4">
            {message.content}
          </div>
        ))}
      </div>
      <div className="p-3">
        <input
          type="text"
          value={input}
          onChange={(e) => setInput(e.target.value)}
          placeholder="Ask about your order..."
          className="w-full p-2 border rounded"
        />
      </div>
    </div>
  );
}`},{id:"components/Navigation.tsx",name:"components/Navigation.tsx",language:"tsx",content:`"use client";

import React, { useState } from "react";
import { ChevronDownIcon, ChevronRightIcon, FileIcon, FolderIcon } from "@phosphor-icons/react";

interface NavigationProps {
  activeTab: string;
  onSelectTab: (tab: string) => void;
}

export default function Navigation({ activeTab, onSelectTab }: NavigationProps) {
  const [expanded, setExpanded] = useState({
    orders: true,
    analytics: true,
    customers: true,
  });

  return (
    <div className="h-full bg-gray-50 dark:bg-gray-900">
      <div className="p-3 border-b">
        <h3 className="font-semibold text-sm">Dashboard</h3>
      </div>
      <div className="p-2">
        <div className="space-y-1 text-sm">
          <div className="flex items-center gap-1 py-1 hover:bg-gray-200 dark:hover:bg-gray-800 rounded cursor-pointer">
            <Folder size={16} />
            <span>app</span>
          </div>
        </div>
      </div>
    </div>
  );
}`},{id:"components/ContentTabs.tsx",name:"components/ContentTabs.tsx",language:"tsx",content:`"use client";

import React from "react";
import { XIcon } from "@phosphor-icons/react";

interface ContentTabsProps {
  activeTab: string;
  orders: Array<{ id: number; customer: string; total: number; status: string }>;
  isLoading: boolean;
}

export default function ContentTabs({ activeTab, orders, isLoading }: ContentTabsProps) {
  return (
    <div className="h-full flex flex-col">
      <div className="flex border-b">
        <div className="flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 border-r">
          <span className="text-sm">{activeTab}</span>
          <button className="hover:bg-gray-200 dark:hover:bg-gray-700 rounded p-0.5">
            <X size={14} />
          </button>
        </div>
      </div>
      <div className="flex-1 p-4">
        {isLoading ? (
          <div className="flex items-center justify-center h-full">
            <div className="text-gray-500">Loading orders...</div>
          </div>
        ) : (
          <div className="grid grid-cols-2 gap-4">
            <div className="bg-blue-50 p-4 rounded-lg">
              <h3 className="font-semibold text-blue-800">Total Revenue</h3>
              <p className="text-2xl font-bold text-blue-900">
                $0.00
              </p>
            </div>
            <div className="bg-green-50 p-4 rounded-lg">
              <h3 className="font-semibold text-green-800">Orders Today</h3>
              <p className="text-2xl font-bold text-green-900">0</p>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}`},{id:"package.json",name:"package.json",language:"json",content:`{
  "name": "ecommerce-dashboard",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev --turbopack",
    "build": "next build --turbopack",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@phosphor-icons/react": "^2.0.0",
    "@tanstack/react-query": "^5.0.0",
    "next": "15.5.2",
    "react": "19.0.0",
    "react-dom": "19.0.0",
    "tailwindcss": "^4.1.10"
  },
  "devDependencies": {
    "@types/node": "^20.17.17",
    "@types/react": "19.0.7",
    "@types/react-dom": "19.0.3",
    "typescript": "5.6.3"
  }
}`},{id:"README.md",name:"README.md",language:"markdown",content:`# Ecommerce Dashboard

A modern ecommerce dashboard built with React and Next.js.

## Features

- **Navigation Panel**: Browse through different dashboard sections
- **Multi-tab Content**: View and manage multiple data views simultaneously
- **Support Chat**: Get help and support with AI assistance
- **Real-time Updates**: Live data synchronization
- **Dark Mode**: Toggle between light and dark themes

## Getting Started

\`\`\`bash
npm install
npm run dev
\`\`\`

Open [http://localhost:3000](http://localhost:3000) to see the dashboard.

## Architecture

The dashboard consists of three main components:

1. **Navigation**: Section navigation and menu
2. **ContentTabs**: Data display with tabs
3. **SupportChat**: Customer support interface

Built with Next.js 14, TypeScript, and Tailwind CSS.`}],messages:[{id:"m1",role:"user",text:(0,l.msg)("Build an ecommerce dashboard interface with order management, analytics, and customer support chat")},{id:"m2",role:"thinking",text:(0,l.msg)("Thought 8s")},{id:"m3",role:"search",text:(0,l.msg)("Searched React component patterns for dashboard interfaces")},{id:"m4",role:"read",text:(0,l.msg)("Read components/Dashboard.tsx, components/Navigation.tsx, components/ContentTabs.tsx")},{id:"m5",role:"assistant",text:(0,l.msg)("I'll create a three-panel ecommerce dashboard interface. Let me start with the main Dashboard component that manages orders and orchestrates the layout:")},{id:"m6",role:"code",text:(0,l.msg)("Dashboard.tsx +28 -15")},{id:"m7",role:"assistant",text:(0,l.msg)("Now I'll implement the SupportChat component with react-query for fetching messages:")},{id:"m8",role:"thinking",text:(0,l.msg)("Thought 5s")},{id:"m9",role:"search",text:(0,l.msg)("Searched react-query patterns for fetching messages")},{id:"m10",role:"code",text:(0,l.msg)("SupportChat.tsx +48 -20")},{id:"m11",role:"assistant",text:(0,l.msg)("Perfect! I've created a functional ecommerce dashboard with:\n\n• **Navigation**: Analytics and Orders sections with emoji icons\n• **Content**: Dynamic revenue calculation and order count with loading states\n• **Support Chat**: Customer support with react-query for fetching messages\n\nThe dashboard uses react-query to fetch messages data and shows loading states. Customer support integrates with the messages API. Try pressing `Cmd+K` to focus the chat input!")}],openFileIds:["components/Dashboard.tsx","components/SupportChat.tsx"],activeFileId:"components/Dashboard.tsx",diffSummary:void 0},y={id:"file-tree-demo",title:(0,l.msg)("Fintech Platform Rules"),repoName:"EVERYSPHERE",chatTitle:(0,l.msg)("File Explorer"),showInAgentsSidebar:!1,files:[{id:".cursor/rules/transfer-funds.mdc",name:".cursor/rules/transfer-funds.mdc",language:"markdown",content:"# Transfer Funds Command"},{id:".cursor/rules/production.mdc",name:".cursor/rules/production.mdc",language:"markdown",content:"# Production Environment Rules"},{id:".cursor/rules/financial-security-standards.mdc",name:".cursor/rules/financial-security-standards.mdc",language:"markdown",content:`---
description: Security and compliance standards for financial services development
globs:
  - src/payments/**/*
  - src/transactions/**/*
  - src/compliance/**/*
alwaysApply: true
---

Financial Data Handling
- Use Decimal.js or BigNumber.js for all monetary calculations
- Never store raw credit card numbers; use tokenization via Stripe/Adyen
- Implement double-entry bookkeeping for transaction integrity
- All amounts must include currency codes (USD, EUR, etc.)
- Validate account numbers using Luhn algorithm before processing


Templates
@payment-processor.ts
@compliance-audit-logger.ts
@financial-validator.ts


`},{id:".cursor/rules/payment-processing.mdc",name:".cursor/rules/payment-processing.mdc",language:"markdown",content:"# Payment Processing Rules"},{id:".cursor/rules/kyc-verification.mdc",name:".cursor/rules/kyc-verification.mdc",language:"markdown",content:"# KYC Verification Rules"},{id:".cursor/rules/fraud-detection.mdc",name:".cursor/rules/fraud-detection.mdc",language:"markdown",content:"# Fraud Detection Rules"},{id:".cursor/rules/banking-integration.mdc",name:".cursor/rules/banking-integration.mdc",language:"markdown",content:"# Banking Integration Rules"},{id:".cursor/rules/crypto-trading.mdc",name:".cursor/rules/crypto-trading.mdc",language:"markdown",content:"# Crypto Trading Rules"},{id:".cursor/rules/compliance-reporting.mdc",name:".cursor/rules/compliance-reporting.mdc",language:"markdown",content:"# Compliance Reporting Rules"}],messages:[],openFileIds:[".cursor/rules/financial-security-standards.mdc"],activeFileId:".cursor/rules/financial-security-standards.mdc",diffSummary:void 0},x={cursorIDE:u,startupAnalytics:d,nextjsRouter:c,mlPython:m,changeManagement:p,biotech:g,cursorRules:h,autoComplete:v,pseudoCode:f,bugbotPRComments:{id:"bugbot-pr-comments",title:(0,l.msg)("Bugbot: PR Comments Fetching Bug"),repoName:"cursor-sh-landing",chatTitle:(0,l.msg)("Fix PR Comments Fetching Issue"),showInAgentsSidebar:!0,files:[{id:"backend/server/src/bugbot/github/applyBugbotPRReview.ts",name:"backend/server/src/bugbot/github/applyBugbotPRReview.ts",language:"typescript",content:`import { Octokit } from "@octokit/rest";
import { PullRequest } from "./types";

export async function applyBugbotPRReview(
  octokit: Octokit,
  owner: string,
  repo: string,
  pullRequest: PullRequest
) {
  try {
    // Fetch PR comments - POTENTIAL BUG: Missing new inline comments
-   const reviewCommentsResponse = await octokit.request('GET /repos/{owner}/{repo}/pulls/{pull_number}/comments', {
+   const reviewCommentsResponse = await octokit.request('GET /repos/{owner}/{repo}/pulls/{pull_number}/comments', {
      owner: repository.owner,
      repo: repository.repo,
      pull_number: pullRequest.issueNumber,
-     review_id: commentResponse.data.id,
+     since: new Date(Date.now() - 10000).toISOString(), // Only get recent comments
    });

    // Process comments for analysis
    const comments = reviewCommentsResponse.data;
    
    // Analyze each comment for bug patterns
    for (const comment of comments) {
      await analyzePRComment(comment, pullRequest);
    }
    
  } catch (error) {
    console.error('Error applying Bugbot PR review:', error);
    throw error;
  }
}

async function analyzePRComment(comment: any, pullRequest: PullRequest) {
  // Bug analysis logic here
  const bugPatterns = [
    /potential.*edge.*case/i,
    /timing.*delay/i,
    /pagination.*issue/i,
    /missing.*inline.*comment/i
  ];
  
  const hasBugPattern = bugPatterns.some(pattern => 
    pattern.test(comment.body)
  );
  
  if (hasBugPattern) {
    console.log('Potential bug detected in comment:', comment.id);
  }
}`},{id:"apps/marketing/app/components/demo/Github/GitHubUI.tsx",name:"apps/marketing/app/components/demo/Github/GitHubUI.tsx",language:"typescript",content:`
export function GitHubPRComments({ comments }: { comments: GitHubPRComment[] }) {
  return (
    <div className="space-y-4">
      {comments.map((comment) => (
        <div key={comment.id} className="flex gap-3 p-4 bg-gray-50 rounded">
-         <img src="marketing-static/icon-192x192.png"
+         <img src="/marketing-static/icon-192x192.png"
            alt={comment.user.login}
            className="w-8 h-8 rounded-full"
          />
      ))}
    </div>
  );
}`}],messages:[{id:"bug1",role:"user",text:(0,l.msg)("Fix this bug...\n\nThe user avatar image `src` (`marketing-static/icon-192x192.png`) is missing a leading slash. This relative path can cause the image to fail loading when the component is used in different URL contexts, as it resolves relative to the current page instead of the site root.")},{id:"bug2",role:"thinking",text:(0,l.msg)("Thought 6s")},{id:"bug3",role:"search",text:(0,l.msg)("Searched PR comments fetching patterns and GitHub API pagination")},{id:"bug4",role:"assistant",text:(0,l.msg)("I can see the issue! The bug is in the PR comments fetching logic in `applyBugbotPRReview.ts`.")}],openFileIds:["backend/server/src/bugbot/github/applyBugbotPRReview.ts","apps/marketing/app/components/demo/Github/GitHubUI.tsx"],activeFileId:"backend/server/src/bugbot/github/applyBugbotPRReview.ts",diffSummary:{added:2,removed:2}},fileTree:y,modelSelection:{id:"model-selection-demo",title:"Model Selection Interface",repoName:"ai-chat-app",chatTitle:"",showInAgentsSidebar:!1,files:[],messages:[],openFileIds:[],activeFileId:"",diffSummary:{added:0,removed:0}},powerfulCommands:{id:"powerful-commands",title:"Powerful Commands",repoName:"customer-dashboard",chatTitle:"Bash Automation Scripts",showInAgentsSidebar:!1,files:[{id:".github/workflows/translate-keys.yml",name:".github/workflows/translate-keys.yml",language:"text",content:""},{id:".github/workflows/secret-audit.yml",name:".github/workflows/secret-audit.yml",language:"text",content:""},{id:".github/workflows/fix-ci.yml",name:".github/workflows/fix-ci.yml",language:"text",content:""},{id:".github/workflows/update-docs.yml",name:".github/workflows/update-docs.yml",language:"text",content:""},{id:"scripts/stream-progress.sh",name:"scripts/stream-progress.sh",language:"text",content:""},{id:"scripts/simple-code-review.sh",name:"scripts/simple-code-review.sh",language:"text",content:`#!/bin/bash
# simple-code-review.sh - Basic code review script

echo "Starting code review..."

# Review recent changes
agent -p --force --output-format text \\
"Review the recent code changes and provide feedback on:
- Code quality and readability
- Potential bugs or issues
- Security considerations
- Best practices compliance

Provide specific suggestions for improvement and write to review.txt"

echo "✅ Code review complete!"
echo "📄 Review saved to review.txt"

# Show summary
if [[ -f "review.txt" ]]; then
  echo ""
  echo "📋 Review Summary:"
  echo "=================="
  head -10 review.txt
  echo ""
  echo "📖 Full review available in review.txt"
fi`}],messages:[],openFileIds:["scripts/stream-progress.sh","scripts/simple-code-review.sh"],activeFileId:"scripts/simple-code-review.sh",diffSummary:void 0}};function b(e){let s,r,n=(0,i.c)(3),{className:a}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M8 13.9766C4.70117 13.9766 2.02344 11.2988 2.02344 8C2.02344 4.70117 4.70117 2.02344 8 2.02344C11.2988 2.02344 13.9766 4.70117 13.9766 8C13.9766 11.2988 11.2988 13.9766 8 13.9766ZM8 12.9805C10.7539 12.9805 12.9805 10.7539 12.9805 8C12.9805 5.24609 10.7539 3.01953 8 3.01953C5.24609 3.01953 3.01953 5.24609 3.01953 8C3.01953 10.7539 5.24609 12.9805 8 12.9805ZM7.35547 10.7832C7.16211 10.7832 7.00391 10.7012 6.85742 10.5078L5.42773 8.75C5.3457 8.63867 5.29297 8.51562 5.29297 8.38672C5.29297 8.12891 5.49219 7.92383 5.74414 7.92383C5.9082 7.92383 6.03711 7.9707 6.17773 8.1582L7.33203 9.65234L9.76367 5.75C9.875 5.58008 10.0215 5.48633 10.168 5.48633C10.4141 5.48633 10.6484 5.65625 10.6484 5.91992C10.6484 6.04883 10.5723 6.17773 10.5078 6.29492L7.83008 10.5078C7.71289 10.6895 7.54883 10.7832 7.35547 10.7832Z"}),n[0]=s):s=n[0],n[1]!==a?(r=(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:a,children:s}),n[1]=a,n[2]=r):r=n[2],r}function w(e){let s,r,n,o=(0,i.c)(9),{size:l,className:u}=e,d=void 0===l?16:l,c=u??"text-[color:rgba(var(--theme-icon-rgb, 242,242,242),0.65)]",m=`${d}px`,h=`${d}px`;return o[0]!==m||o[1]!==h?(s={width:m,height:h,lineHeight:0},o[0]=m,o[1]=h,o[2]=s):s=o[2],o[3]!==d||o[4]!==c?(r=(0,t.jsx)(a,{size:d,weight:"regular",className:c}),o[3]=d,o[4]=c,o[5]=r):r=o[5],o[6]!==s||o[7]!==r?(n=(0,t.jsx)("span",{className:"inline-flex items-center justify-center",style:s,children:r}),o[6]=s,o[7]=r,o[8]=n):n=o[8],n}function _({currentAgentTitle:e=(0,o.msg)("New Agent"),onSelectScenario:i,readyKeys:r,readyMeta:n,interactionsDisabled:a=!1,isMobile:l=!1}){let u=(0,o.useGT)(),d=(0,o.useMessages)(),[c,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{m(!0)},[]);let h=(0,s.useMemo)(()=>{let e=[],t=new Set,i=new Set(["cursorRules","biotech"]);return Object.entries(x).forEach(([s,a])=>{if(!a.showInAgentsSidebar||t.has(a.id))return;t.add(a.id);let l=(r?.includes(s)??!1)||i.has(s),d=n?.[s]||(l?{completedAtOffset:0,lastAssistant:a.chatTitle,diffSummary:a.diffSummary}:void 0),m=l?"number"==typeof d?.completedAtOffset?d.completedAtOffset:0:void 0,h=l&&c?function(e){if(void 0===e)return;let t=Math.floor(e/6e4),i=Math.floor(e/36e5),s=Math.floor(e/864e5);return e<45e3?(0,o.msg)("Just Now"):t<60?`${t}m`:i<24?`${i}h`:`${s}d`}(m):void 0;e.push({id:String(s),title:a.chatTitle,status:l?"ready":"in_progress",when:l?"Just Now"===h?"now":h:void 0,branch:l?d?.lastAssistant:u("Generating"),diff:l?d?.diffSummary:void 0,scenarioKey:s,completedAtOffset:m})}),e},[r,n,u,c]),p=(0,s.useMemo)(()=>h.filter(e=>"in_progress"===e.status),[h]),f=(0,s.useMemo)(()=>h.filter(e=>"ready"===e.status&&"current"!==e.id).sort((e,t)=>(e.completedAtOffset||0)-(t.completedAtOffset||0)),[h]),g=(0,s.useMemo)(()=>h.filter(e=>"archived"===e.status),[h]);function v({item:e,isActive:s,disabled:r}){let n="ready"===e.status,a="in_progress"===e.status,u=(0,o.useMessages)(),d=r?void 0:e=>{s||(e.currentTarget.style.backgroundColor="var(--color-theme-card-hover-hex)")},c=r?void 0:e=>{s||(e.currentTarget.style.backgroundColor="")},m=!r&&e.scenarioKey&&i?()=>{i(e.scenarioKey)}:void 0;return(0,t.jsxs)("button",{type:"button",className:`agent-sidebar__row type-product-base flex w-full items-start gap-2 border-0 px-3 py-2.5 text-left transition-colors ${r?"cursor-default":"cursor-pointer"}`,style:{backgroundColor:s?"var(--color-theme-card-hover-hex)":void 0,paddingLeft:"calc(0.75rem + 2px)",outline:"none"},disabled:r,"aria-disabled":r,tabIndex:-1,onMouseEnter:d,onMouseLeave:c,onClick:m,children:[(0,t.jsx)("div",{className:"flex h-4 w-4 items-center justify-center",style:{willChange:"transform",transform:"translateZ(0)"},children:a?(0,t.jsx)(w,{size:16,className:s?"text-[color:rgba(var(--theme-icon-rgb, 242,242,242),0.9)]":"text-theme-text-sec"}):n?(0,t.jsx)(b,{className:s?"":"text-theme-text-sec"}):(0,t.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:s?"var(--color-theme-accent)":"var(--color-theme-text-sec)"}})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col gap-px",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsx)("div",{className:`truncate ${!s?l?"text-theme-text":"text-theme-text-sec":""}`,children:u(e.title)}),e.when?(0,t.jsx)("div",{className:"type-product-sm shrink-0",style:{color:"var(--color-theme-product-text-tertiary)"},children:u(e.when)}):null]}),(e.branch||e.diff&&"ready"===e.status)&&(0,t.jsx)("div",{className:`type-product-sm flex items-center ${s?"text-theme-text-sec":""}`,style:s?void 0:{color:"var(--color-theme-product-text-tertiary)"},children:(0,t.jsxs)("span",{className:"flex min-w-0 items-center gap-1",children:[e.diff&&"ready"===e.status?(0,t.jsxs)("span",{className:"flex items-center gap-0.5 tabular-nums",children:[(0,t.jsxs)("span",{className:"text-theme-product-ansi-green",children:["+",e.diff.added]}),(0,t.jsxs)("span",{className:"text-theme-product-ansi-red",children:["-",e.diff.removed]})]}):null,e.diff&&"ready"===e.status&&e.branch?(0,t.jsx)("span",{children:"·"}):null,e.branch?(0,t.jsx)("span",{className:"min-w-0 flex-1 truncate",children:u(e.branch)}):null]})})]})]})}function y({item:e}){return(0,t.jsx)("div",{className:"text-theme-text-sec px-3 py-1 text-sm",children:(0,t.jsx)("div",{className:"truncate",children:d(e.title)})})}function _({title:i,items:s}){return 0===s.length?null:(0,t.jsxs)("div",{className:"py-1.25",children:[(0,t.jsxs)("div",{className:"type-product-sm-medium text-theme-text-sec px-3 py-1 uppercase",children:[d(i)," ",(0,t.jsx)("span",{className:"text-theme-text/50",children:s.length})]}),(0,t.jsx)("div",{children:s.map(i=>"archived"===i.status?(0,t.jsx)(y,{item:i},i.id):(0,t.jsx)(v,{item:i,isActive:i.title===e,disabled:a},i.id))})]})}return(0,t.jsx)("aside",{className:"bg-theme-card text-theme-text h-full w-full",children:(0,t.jsxs)("div",{className:"pl-0",children:[(0,t.jsx)(_,{title:u("In Progress"),items:p}),(0,t.jsx)(_,{title:u("Ready for Review"),items:f}),(0,t.jsx)(_,{title:u("Archived"),items:g})]})})}e.s(["demoScenarios",0,x],565182),e.s(["default",()=>_],961327)},145430,e=>{"use strict";let t=(0,e.i(813130).createContext)({});e.s(["LayoutGroupContext",()=>t])},984497,e=>{"use strict";var t=e.i(813130);function i(e){let i=(0,t.useRef)(null);return null===i.current&&(i.current=e()),i.current}e.s(["useConstant",()=>i])},841849,e=>{"use strict";let t="u">typeof window;e.s(["isBrowser",()=>t])},567561,e=>{"use strict";var t=e.i(813130);let i=e.i(841849).isBrowser?t.useLayoutEffect:t.useEffect;e.s(["useIsomorphicLayoutEffect",()=>i])},631323,e=>{"use strict";let t=(0,e.i(813130).createContext)(null);e.s(["PresenceContext",()=>t])},115085,e=>{"use strict";function t(e){return"object"==typeof e&&null!==e}e.s(["isObject",()=>t])},82075,e=>{"use strict";var t=e.i(115085);function i(e){return(0,t.isObject)(e)&&"offsetHeight"in e}e.s(["isHTMLElement",()=>i])},987978,e=>{"use strict";let t=(0,e.i(813130).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});e.s(["MotionConfigContext",()=>t])},583617,e=>{"use strict";var t=e.i(855527),i=e.i(813130),s=e.i(631323),r=e.i(984497),n=e.i(82075),a=i,o=e.i(987978);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=(0,n.isHTMLElement)(e)&&e.offsetWidth||0,s=(0,n.isHTMLElement)(e)&&e.offsetHeight||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=i-r.width-r.left,r.bottom=s-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:s,anchorX:r,anchorY:n,root:d}){let c=(0,a.useId)(),m=(0,a.useRef)(null),h=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=(0,a.useContext)(o.MotionConfigContext),f=function(...e){return i.useCallback(function(...e){return t=>{let i=!1,s=e.map(e=>{let s=l(e,t);return i||"function"!=typeof s||(i=!0),s});if(i)return()=>{for(let t=0;t<s.length;t++){let i=s[t];"function"==typeof i?i():l(e[t],null)}}}}(...e),e)}(m,e.props?.ref??e?.ref);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:a,right:o,bottom:l}=h.current;if(s||!m.current||!e||!t)return;let u="left"===r?`left: ${a}`:`right: ${o}`,f="bottom"===n?`bottom: ${l}`:`top: ${i}`;m.current.dataset.motionPopId=c;let g=document.createElement("style");p&&(g.nonce=p);let v=d??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${u}px !important;
            ${f}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[s]),(0,t.jsx)(u,{isPresent:s,childRef:m,sizeRef:h,children:a.cloneElement(e,{ref:f})})}let c=({children:e,initial:n,isPresent:a,onExitComplete:o,custom:l,presenceAffectsLayout:u,mode:c,anchorX:h,anchorY:p,root:f})=>{let g=(0,r.useConstant)(m),v=(0,i.useId)(),y=!0,x=(0,i.useMemo)(()=>(y=!1,{id:v,initial:n,isPresent:a,custom:l,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;o&&o()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[a,g,o]);return u&&y&&(x={...x}),(0,i.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[a]),i.useEffect(()=>{a||g.size||!o||o()},[a]),"popLayout"===c&&(e=(0,t.jsx)(d,{isPresent:a,anchorX:h,anchorY:p,root:f,children:e})),(0,t.jsx)(s.PresenceContext.Provider,{value:x,children:e})};function m(){return new Map}e.s(["PresenceChild",()=>c],583617)},62711,e=>{"use strict";var t=e.i(813130),i=e.i(631323);function s(e=!0){let r=(0,t.useContext)(i.PresenceContext);if(null===r)return[!0,null];let{isPresent:n,onExitComplete:a,register:o}=r,l=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return o(l)},[e]);let u=(0,t.useCallback)(()=>e&&a&&a(l),[l,a,e]);return!n&&a?[!1,u]:[!0]}e.s(["usePresence",()=>s])},690723,e=>{"use strict";e.i(215528);var t=e.i(855527),i=e.i(813130),s=e.i(145430),r=e.i(984497),n=e.i(567561),a=e.i(583617),o=e.i(62711);let l=e=>e.key||"";function u(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let d=({children:e,custom:d,initial:c=!0,onExitComplete:m,presenceAffectsLayout:h=!0,mode:p="sync",propagate:f=!1,anchorX:g="left",anchorY:v="top",root:y})=>{let[x,b]=(0,o.usePresence)(f),w=(0,i.useMemo)(()=>u(e),[e]),_=f&&!x?[]:w.map(l),T=(0,i.useRef)(!0),A=(0,i.useRef)(w),C=(0,r.useConstant)(()=>new Map),S=(0,i.useRef)(new Set),[P,M]=(0,i.useState)(w),[E,R]=(0,i.useState)(w);(0,n.useIsomorphicLayoutEffect)(()=>{T.current=!1,A.current=w;for(let e=0;e<E.length;e++){let t=l(E[e]);_.includes(t)?(C.delete(t),S.current.delete(t)):!0!==C.get(t)&&C.set(t,!1)}},[E,_.length,_.join("-")]);let k=[];if(w!==P){let e=[...w];for(let t=0;t<E.length;t++){let i=E[t],s=l(i);_.includes(s)||(e.splice(t,0,i),k.push(i))}return"wait"===p&&k.length&&(e=k),R(u(e)),M(w),null}let{forceRender:D}=(0,i.useContext)(s.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:E.map(e=>{let i=l(e),s=(!f||!!x)&&(w===E||_.includes(i));return(0,t.jsx)(a.PresenceChild,{isPresent:s,initial:(!T.current||!!c)&&void 0,custom:d,presenceAffectsLayout:h,mode:p,root:y,onExitComplete:s?void 0:()=>{if(S.current.has(i)||(S.current.add(i),!C.has(i)))return;C.set(i,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(D?.(),R(A.current),f&&b?.(),m&&m())},anchorX:g,anchorY:v,children:e},i)})})};e.s(["AnimatePresence",()=>d],690723)},328050,606356,679672,271794,142095,396203,444851,291834,957667,506854,89424,111198,918699,418604,176061,179271,222603,365438,877376,962752,296566,678101,48410,751741,298864,151158,295993,527117,244465,303978,962148,700580,535884,519422,231544,501464,284175,588944,948725,15632,548464,33505,669199,589397,596027,e=>{"use strict";let t,i,s=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],r=new Set(s);e.s(["transformPropOrder",()=>s,"transformProps",()=>r],606356);let n=(e,t,i)=>i>t?t:i<e?e:i;e.s(["clamp",()=>n],679672);let a={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},o={...a,transform:e=>n(0,1,e)},l={...a,default:1},u=e=>Math.round(1e5*e)/1e5,d=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,c=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m=(e,t)=>i=>!!("string"==typeof i&&c.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),h=(e,t,i)=>s=>{if("string"!=typeof s)return s;let[r,n,a,o]=s.match(d);return{[e]:parseFloat(r),[t]:parseFloat(n),[i]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},p={...a,transform:e=>Math.round(n(0,255,e))},f={test:m("rgb","red"),parse:h("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:s=1})=>"rgba("+p.transform(e)+", "+p.transform(t)+", "+p.transform(i)+", "+u(o.transform(s))+")"};e.s(["rgba",()=>f],271794);let g={test:m("#"),parse:function(e){let t="",i="",s="",r="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,i+=i,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}},transform:f.transform};e.s(["hex",()=>g],142095);let v=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),y=v("deg"),x=v("%"),b=v("px"),w=v("vh"),_=v("vw"),T={...x,parse:e=>x.parse(e)/100,transform:e=>x.transform(100*e)};e.s(["degrees",()=>y,"percent",()=>x,"progressPercentage",()=>T,"px",()=>b,"vh",()=>w,"vw",()=>_],396203);let A={test:m("hsl","hue"),parse:h("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:s=1})=>"hsla("+Math.round(e)+", "+x.transform(u(t))+", "+x.transform(u(i))+", "+u(o.transform(s))+")"};e.s(["hsla",()=>A],444851);let C={test:e=>f.test(e)||g.test(e)||A.test(e),parse:e=>f.test(e)?f.parse(e):A.test(e)?A.parse(e):g.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?f.transform(e):A.transform(e),getAnimatableNone:e=>{let t=C.parse(e);return t.alpha=0,C.transform(t)}};e.s(["color",()=>C],291834);let S=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,P="number",M="color",E=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function R(e){let t=e.toString(),i=[],s={color:[],number:[],var:[]},r=[],n=0,a=t.replace(E,e=>(C.test(e)?(s.color.push(n),r.push(M),i.push(C.parse(e))):e.startsWith("var(")?(s.var.push(n),r.push("var"),i.push(e)):(s.number.push(n),r.push(P),i.push(parseFloat(e))),++n,"${}")).split("${}");return{values:i,split:a,indexes:s,types:r}}function k(e){return R(e).values}function D(e){let{split:t,types:i}=R(e),s=t.length;return e=>{let r="";for(let n=0;n<s;n++)if(r+=t[n],void 0!==e[n]){let t=i[n];t===P?r+=u(e[n]):t===M?r+=C.transform(e[n]):r+=e[n]}return r}}let O=e=>"number"==typeof e?0:C.test(e)?C.getAnimatableNone(e):e,I={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(d)?.length||0)+(e.match(S)?.length||0)>0},parse:k,createTransformer:D,getAnimatableNone:function(e){let t=k(e);return D(e)(t.map(O))}};e.s(["analyseComplexValue",()=>R,"complex",()=>I],957667);let V=new Set(["brightness","contrast","saturate","opacity"]);function N(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[s]=i.match(d)||[];if(!s)return e;let r=i.replace(s,""),n=+!!V.has(t);return s!==i&&(n*=100),t+"("+n+r+")"}let L=/\b([a-z-]*)\(.*?\)/gu,j={...I,getAnimatableNone:e=>{let t=e.match(L);return t?t.map(N).join(" "):e}},B={...a,transform:Math.round},F={borderWidth:b,borderTopWidth:b,borderRightWidth:b,borderBottomWidth:b,borderLeftWidth:b,borderRadius:b,borderTopLeftRadius:b,borderTopRightRadius:b,borderBottomRightRadius:b,borderBottomLeftRadius:b,width:b,maxWidth:b,height:b,maxHeight:b,top:b,right:b,bottom:b,left:b,inset:b,insetBlock:b,insetBlockStart:b,insetBlockEnd:b,insetInline:b,insetInlineStart:b,insetInlineEnd:b,padding:b,paddingTop:b,paddingRight:b,paddingBottom:b,paddingLeft:b,paddingBlock:b,paddingBlockStart:b,paddingBlockEnd:b,paddingInline:b,paddingInlineStart:b,paddingInlineEnd:b,margin:b,marginTop:b,marginRight:b,marginBottom:b,marginLeft:b,marginBlock:b,marginBlockStart:b,marginBlockEnd:b,marginInline:b,marginInlineStart:b,marginInlineEnd:b,fontSize:b,backgroundPositionX:b,backgroundPositionY:b,rotate:y,rotateX:y,rotateY:y,rotateZ:y,scale:l,scaleX:l,scaleY:l,scaleZ:l,skew:y,skewX:y,skewY:y,distance:b,translateX:b,translateY:b,translateZ:b,x:b,y:b,z:b,perspective:b,transformPerspective:b,opacity:o,originX:T,originY:T,originZ:b,zIndex:B,fillOpacity:o,strokeOpacity:o,numOctaves:B},G={...F,color:C,backgroundColor:C,outlineColor:C,fill:C,stroke:C,borderColor:C,borderTopColor:C,borderRightColor:C,borderBottomColor:C,borderLeftColor:C,filter:j,WebkitFilter:j},U=e=>G[e],q=()=>({translate:0,scale:1,origin:0,originPoint:0}),z=()=>({x:q(),y:q()}),H=()=>({min:0,max:0}),Z=()=>({x:H(),y:H()});e.s(["createBox",()=>Z,"createDelta",()=>z],506854);let $=e=>!!(e&&e.getVelocity);e.s(["isMotionValue",()=>$],89424);let W=new Set(["width","height","top","left","right","bottom",...s]);e.s(["positionalKeys",()=>W],111198);let X=e=>t=>t.test(e),Y=[a,b,x,y,_,w,{test:e=>"auto"===e,parse:e=>e}],K=e=>Y.find(X(e));var Q=e.i(215528);let J=()=>{},ee=()=>{};Q.default,e.s(["invariant",()=>ee,"warning",()=>J],918699);let et=e=>t=>"string"==typeof t&&t.startsWith(e),ei=et("--"),es=et("var(--"),er=e=>!!es(e)&&en.test(e.split("/*")[0].trim()),en=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ea(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}e.s(["containsCSSVariable",()=>ea,"isCSSVariableName",()=>ei,"isCSSVariableToken",()=>er],418604);let eo=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,el=e=>180*e/Math.PI,eu=e=>ec(el(Math.atan2(e[1],e[0]))),ed={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:eu,rotateZ:eu,skewX:e=>el(Math.atan(e[1])),skewY:e=>el(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ec=e=>((e%=360)<0&&(e+=360),e),em=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ep={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:em,scaleY:eh,scale:e=>(em(e)+eh(e))/2,rotateX:e=>ec(el(Math.atan2(e[6],e[5]))),rotateY:e=>ec(el(Math.atan2(-e[2],e[0]))),rotateZ:eu,rotate:eu,skewX:e=>el(Math.atan(e[4])),skewY:e=>el(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ef(e){return+!!e.includes("scale")}function eg(e,t){let i,s;if(!e||"none"===e)return ef(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(r)i=ep,s=r;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=ed,s=t}if(!s)return ef(t);let n=i[t],a=s[1].split(",").map(ev);return"function"==typeof n?n(a):a[n]}function ev(e){return parseFloat(e.trim())}let ey=e=>e===a||e===b,ex=new Set(["x","y","z"]),eb=s.filter(e=>!ex.has(e)),ew={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eg(t,"x"),y:(e,{transform:t})=>eg(t,"y")};ew.translateX=ew.x,ew.translateY=ew.y;let e_=e=>e;e.s(["noop",()=>e_],176061);let eT={};e.s(["MotionGlobalConfig",()=>eT],179271);let eA=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],eC={value:null,addProjectionMetrics:null};function eS(e,t){let i=!1,s=!0,r={delta:0,timestamp:0,isProcessing:!1},n=()=>i=!0,a=eA.reduce((e,i)=>(e[i]=function(e,t){let i=new Set,s=new Set,r=!1,n=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){a.has(t)&&(d.schedule(t),e()),l++,t(o)}let d={schedule:(e,t=!1,n=!1)=>{let o=n&&r?i:s;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),a.delete(e)},process:e=>{if(o=e,r){n=!0;return}r=!0,[i,s]=[s,i],i.forEach(u),t&&eC.value&&eC.value.frameloop[t].push(l),l=0,i.clear(),r=!1,n&&(n=!1,d.process(e))}};return d}(n,t?i:void 0),e),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:c,preRender:m,render:h,postRender:p}=a,f=()=>{let n=eT.useManualTiming?r.timestamp:performance.now();i=!1,eT.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(n-r.timestamp,40),1)),r.timestamp=n,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),d.process(r),c.process(r),m.process(r),h.process(r),p.process(r),r.isProcessing=!1,i&&t&&(s=!1,e(f))};return{schedule:eA.reduce((t,n)=>{let o=a[n];return t[n]=(t,n=!1,a=!1)=>(!i&&(i=!0,s=!0,r.isProcessing||e(f)),o.schedule(t,n,a)),t},{}),cancel:e=>{for(let t=0;t<eA.length;t++)a[eA[t]].cancel(e)},state:r,steps:a}}e.s(["statsBuffer",()=>eC],222603);let{schedule:eP,cancel:eM,state:eE,steps:eR}=eS("u">typeof requestAnimationFrame?requestAnimationFrame:e_,!0);e.s(["cancelFrame",()=>eM,"frame",()=>eP,"frameData",()=>eE,"frameSteps",()=>eR],365438);let ek=new Set,eD=!1,eO=!1,eI=!1;function eV(){if(eO){let e=Array.from(ek).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t,s=(t=[],eb.forEach(i=>{let s=e.getValue(i);void 0!==s&&(t.push([i,s.get()]),s.set(+!!i.startsWith("scale")))}),t);s.length&&(i.set(e,s),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{e.getValue(t)?.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}eO=!1,eD=!1,ek.forEach(e=>e.complete(eI)),ek.clear()}function eN(){ek.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eO=!0)})}function eL(){eI=!0,eN(),eV(),eI=!1}class ej{constructor(e,t,i,s,r,n=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=r,this.isAsync=n}scheduleResolve(){this.state="scheduled",this.isAsync?(ek.add(this),eD||(eD=!0,eP.read(eN),eP.resolveKeyframes(eV))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(null===e[0]){let r=s?.get(),n=e[e.length-1];if(void 0!==r)e[0]=r;else if(i&&t){let s=i.readValue(t,n);null!=s&&(e[0]=s)}void 0===e[0]&&(e[0]=n),s&&void 0===r&&s.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ek.delete(this)}cancel(){"scheduled"===this.state&&(ek.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function eB(e,t){let i=U(e);return i!==j&&(i=I),i.getAnimatableNone?i.getAnimatableNone(t):void 0}e.s(["KeyframeResolver",()=>ej,"flushKeyframeResolvers",()=>eL],877376);let eF=new Set(["auto","none","0"]);class eG extends ej{constructor(e,t,i,s,r){super(e,t,i,s,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let s=e[i];if("string"==typeof s&&er(s=s.trim())){let r=function e(t,i,s=1){ee(s<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[r,n]=function(e){let t=eo.exec(e);if(!t)return[,];let[,i,s,r]=t;return[`--${i??s}`,r]}(t);if(!r)return;let a=window.getComputedStyle(i).getPropertyValue(r);if(a){let e=a.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return er(n)?e(n,i,s+1):n}(s,t.current);void 0!==r&&(e[i]=r),i===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!W.has(i)||2!==e.length)return;let[s,r]=e,n=K(s),a=K(r);if(ea(s)!==ea(r)&&ew[i]){this.needsMeasurement=!0;return}if(n!==a)if(ey(n)&&ey(a))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else ew[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&i.push(t);i.length&&function(e,t,i){let s,r=0;for(;r<e.length&&!s;){let t=e[r];"string"==typeof t&&!eF.has(t)&&R(t).values.length&&(s=e[r]),r++}if(s&&i)for(let r of t)e[r]=eB(i,s)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ew[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let s=t[t.length-1];void 0!==s&&e.getValue(i,s).jump(s,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;let s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);let r=i.length-1,n=i[r];i[r]=ew[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,i])=>{e.getValue(t).set(i)}),this.resolveNoneKeyframes()}}function eU(e,t){-1===e.indexOf(t)&&e.push(t)}function eq(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}e.s(["addUniqueItem",()=>eU,"removeItem",()=>eq],962752);class ez{constructor(){this.subscriptions=[]}add(e){return eU(this.subscriptions,e),()=>eq(this.subscriptions,e)}notify(e,t,i){let s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](e,t,i);else for(let r=0;r<s;r++){let s=this.subscriptions[r];s&&s(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}e.s(["SubscriptionManager",()=>ez],296566);let{schedule:eH}=eS(queueMicrotask,!1);function eZ(){i=void 0}e.s(["microtask",()=>eH],678101);let e$={now:()=>(void 0===i&&e$.set(eE.isProcessing||eT.useManualTiming?eE.timestamp:performance.now()),i),set:e=>{i=e,queueMicrotask(eZ)}};function eW(e,t){return t?1e3/t*e:0}e.s(["time",()=>e$],48410),e.s(["velocityPerSecond",()=>eW],751741);class eX{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=e$.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=e$.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ez);let i=this.events[e].add(t);return"change"===e?()=>{i(),eP.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return t&&t.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=e$.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return eW(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eY(e,t){return new eX(e,t)}e.s(["motionValue",()=>eY],298864);let eK=[...Y,C,I],eQ={current:null},eJ={current:!1},e0="u">typeof window,e1=new WeakMap;function e2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function e8(e){return"string"==typeof e||Array.isArray(e)}e.s(["isAnimationControls",()=>e2],151158),e.s(["isVariantLabel",()=>e8],295993);let e4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e3=["initial",...e4];function e6(e){return e2(e.animate)||e3.some(t=>e8(e[t]))}function e5(e){return!!(e6(e)||e.variants)}function e9(e){let t=[{},{}];return e?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function e7(e,t,i,s){if("function"==typeof t){let[r,n]=e9(s);t=t(void 0!==i?i:e.custom,r,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,n]=e9(s);t=t(void 0!==i?i:e.custom,r,n)}return t}e.s(["variantPriorityOrder",()=>e4,"variantProps",()=>e3],527117),e.s(["isControllingVariants",()=>e6,"isVariantNode",()=>e5],244465),e.s(["resolveVariantFromProps",()=>e7],303978);let te=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],tt={};function ti(e){tt=e}function ts(){return tt}class tr{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:n},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ej,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=e$.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,eP.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=n;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=e6(t),this.isVariantNode=e5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in d){const t=d[e];void 0!==o[e]&&$(t)&&t.set(o[e])}}mount(e){this.current=e,e1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(eJ.current||function(){if(eJ.current=!0,e0)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>eQ.current=e.matches;e.addEventListener("change",t),t()}else eQ.current=!1}(),this.shouldReduceMotion=eQ.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),eM(this.notifyUpdate),eM(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let s=r.has(e);s&&this.onBindTransform&&this.onBindTransform();let n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&eP.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});"u">typeof window&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in tt){let t=tt[e];if(!t)continue;let{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Z()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<te.length;t++){let i=te[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=function(e,t,i){for(let s in t){let r=t[s],n=i[s];if($(r))e.addValue(s,r);else if($(n))e.addValue(s,eY(r,{owner:e}));else if(n!==r)if(e.hasValue(s)){let t=e.getValue(s);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(s);e.addValue(s,eY(void 0!==t?t:r,{owner:e}))}}for(let s in i)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=eY(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=i){let s,r;if("string"==typeof i&&(s=i,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s)||(r=i,/^0[^.\s]+$/u.test(r))))i=parseFloat(i);else{let s;s=i,!eK.find(X(s))&&I.test(t)&&(i=eB(e,t))}this.setBaseTarget(e,$(i)?i.get():i)}return $(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let s=e7(this.props,i,this.presenceContext?.custom);s&&(t=s[e])}if(i&&void 0!==t)return t;let s=this.getBaseTargetFromProps(this.props,e);return void 0===s||$(s)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new ez),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){eH.render(this.render)}}e.s(["VisualElement",()=>tr,"getFeatureDefinitions",()=>ts,"setFeatureDefinitions",()=>ti],962148);class tn extends tr{constructor(){super(...arguments),this.KeyframeResolver=eG}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){let i=e.style;return i?i[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;$(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function ta(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}e.s(["camelToDash",()=>ta],700580);let to=(e,t)=>t&&"number"==typeof e?t.transform(e):e,tl={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tu=s.length;function td(e,t,i){let{style:n,vars:a,transformOrigin:o}=e,l=!1,u=!1;for(let e in t){let i=t[e];if(r.has(e)){l=!0;continue}if(ei(e)){a[e]=i;continue}{let t=to(i,F[e]);e.startsWith("origin")?(u=!0,o[e]=t):n[e]=t}}if(!t.transform&&(l||i?n.transform=function(e,t,i){let r="",n=!0;for(let a=0;a<tu;a++){let o=s[a],l=e[o];if(void 0===l)continue;let u=!0;if("number"==typeof l)u=l===+!!o.startsWith("scale");else{let e=parseFloat(l);u=o.startsWith("scale")?1===e:0===e}if(!u||i){let e=to(l,F[o]);if(!u){n=!1;let t=tl[o]||o;r+=`${t}(${e}) `}i&&(t[o]=e)}}return r=r.trim(),i?r=i(t,n?"":r):n&&(r="none"),r}(t,e.transform,i):n.transform&&(n.transform="none")),u){let{originX:e="50%",originY:t="50%",originZ:i=0}=o;n.transformOrigin=`${e} ${t} ${i}`}}e.s(["buildHTMLStyles",()=>td],535884);let tc={offset:"stroke-dashoffset",array:"stroke-dasharray"},tm={offset:"strokeDashoffset",array:"strokeDasharray"},th=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function tp(e,{attrX:t,attrY:i,attrScale:s,pathLength:r,pathSpacing:n=1,pathOffset:a=0,...o},l,u,d){if(td(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:c,style:m}=e;for(let e of(c.transform&&(m.transform=c.transform,delete c.transform),(m.transform||c.transformOrigin)&&(m.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete c.transformBox),th))void 0!==c[e]&&(m[e]=c[e],delete c[e]);void 0!==t&&(c.x=t),void 0!==i&&(c.y=i),void 0!==s&&(c.scale=s),void 0!==r&&function(e,t,i=1,s=0,r=!0){e.pathLength=1;let n=r?tc:tm;e[n.offset]=`${-s}`,e[n.array]=`${t} ${i}`}(c,r,n,a,!1)}e.s(["buildSVGAttrs",()=>tp],519422);let tf=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tg=e=>"string"==typeof e&&"svg"===e.toLowerCase();function tv(e,{style:t,vars:i},s,r){let n,a=e.style;for(n in t)a[n]=t[n];for(n in r?.applyProjectionStyles(a,s),i)a.setProperty(n,i[n])}function ty(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}e.s(["isSVGTag",()=>tg],231544);let tx={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!b.test(e))return e;else e=parseFloat(e);let i=ty(e,t.target.x),s=ty(e,t.target.y);return`${i}% ${s}%`}},tb=(e,t,i)=>e+(t-e)*i;e.s(["mixNumber",()=>tb],501464);let tw={borderRadius:{...tx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tx,borderTopRightRadius:tx,borderBottomLeftRadius:tx,borderBottomRightRadius:tx,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let s=I.parse(e);if(s.length>5)return e;let r=I.createTransformer(e),n=+("number"!=typeof s[0]),a=i.x.scale*t.x,o=i.y.scale*t.y;s[0+n]/=a,s[1+n]/=o;let l=tb(a,o,.5);return"number"==typeof s[2+n]&&(s[2+n]/=l),"number"==typeof s[3+n]&&(s[3+n]/=l),r(s)}}};function t_(e,{layout:t,layoutId:i}){return r.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!tw[e]||"opacity"===e)}function tT(e,t,i){let s=e.style,r=t?.style,n={};if(!s)return n;for(let t in s)($(s[t])||r&&$(r[t])||t_(t,e)||i?.getValue(t)?.liveStyle!==void 0)&&(n[t]=s[t]);return n}function tA(e,t,i){let r=tT(e,t,i);for(let i in e)($(e[i])||$(t[i]))&&(r[-1!==s.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return r}e.s(["scaleCorrectors",()=>tw],284175),e.s(["isForcedMotionValue",()=>t_],588944),e.s(["scrapeMotionValuesFromProps",()=>tT],948725),e.s(["scrapeMotionValuesFromProps",()=>tA],15632);class tC extends tn{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Z}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(r.has(t)){let e=U(t);return e&&e.default||0}return t=tf.has(t)?t:ta(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return tA(e,t,i)}build(e,t,i){tp(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){for(let i in tv(e,t,void 0,s),t.attrs)e.setAttribute(tf.has(i)?i:ta(i),t.attrs[i])}mount(e){this.isSVGTag=tg(e.tagName),super.mount(e)}}function tS({top:e,left:t,right:i,bottom:s}){return{x:{min:t,max:i},y:{min:e,max:s}}}function tP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tM(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function tE(e){return void 0===e||1===e}function tR({scale:e,scaleX:t,scaleY:i}){return!tE(e)||!tE(t)||!tE(i)}function tk(e){return tR(e)||tD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tD(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function tO(e,t,i){return i+t*(e-i)}function tI(e,t,i,s,r){return void 0!==r&&(e=s+r*(e-s)),s+i*(e-s)+t}function tV(e,t=0,i=1,s,r){e.min=tI(e.min,t,i,s,r),e.max=tI(e.max,t,i,s,r)}function tN(e,{x:t,y:i}){tV(e.x,t.translate,t.scale,t.originPoint),tV(e.y,i.translate,i.scale,i.originPoint)}function tL(e,t,i,s=!1){let r,n,a=i.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){n=(r=i[o]).projectionDelta;let{visualElement:a}=r.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&tF(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,tN(e,n)),s&&tk(r.latestValues)&&tF(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}function tj(e,t){e.min=e.min+t,e.max=e.max+t}function tB(e,t,i,s,r=.5){let n=tb(e.min,e.max,r);tV(e,t,i,n,s)}function tF(e,t){tB(e.x,t.x,t.scaleX,t.scale,t.originX),tB(e.y,t.y,t.scaleY,t.scale,t.originY)}function tG(e,t){return tS(tM(e.getBoundingClientRect(),t))}function tU(e,t,i){let s=tG(e,i),{scroll:r}=t;return r&&(tj(s.x,r.offset.x),tj(s.y,r.offset.y)),s}e.s(["convertBoundingBoxToBox",()=>tS,"convertBoxToBoundingBox",()=>tP,"transformBoxPoints",()=>tM],548464),e.s(["has2DTranslate",()=>tD,"hasScale",()=>tR,"hasTransform",()=>tk],33505),e.s(["applyBoxDelta",()=>tN,"applyTreeDeltas",()=>tL,"scalePoint",()=>tO,"transformBox",()=>tF,"translateAxis",()=>tj],669199),e.s(["measurePageBox",()=>tU,"measureViewportBox",()=>tG],589397);class tq extends tn{constructor(){super(...arguments),this.type="html",this.renderInstance=tv}readValueFromInstance(e,t){if(r.has(t))return this.projection?.isProjecting?ef(t):((e,t)=>{let{transform:i="none"}=getComputedStyle(e);return eg(i,t)})(e,t);{let i=window.getComputedStyle(e),s=(ei(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof s?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return tG(e,t)}build(e,t,i){td(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return tT(e,t,i)}}var tz=e.i(813130);let tH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tZ(e){if("string"!=typeof e||e.includes("-"));else if(tH.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}e.s(["isSVGComponent",()=>tZ],596027);let t$=(e,t)=>t.isSVG??tZ(e)?new tC(t):new tq(t,{allowProjection:e!==tz.Fragment});e.s(["createDomVisualElement",()=>t$],328050)},494353,e=>{"use strict";let t=(0,e.i(813130).createContext)({strict:!1});e.s(["LazyContext",()=>t])},570606,e=>{"use strict";var t,i,s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,r=(t=function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)},i=Object.create(null),function(e){return void 0===i[e]&&(i[e]=t(e)),i[e]});e.s(["default",()=>r],570606)},21192,793767,794818,286096,40197,202071,337980,e=>{"use strict";var t,i=e.i(813130);let s=(0,i.createContext)({});e.s(["MotionContext",()=>s],21192);var r=e.i(244465),n=e.i(295993);function a(e){let{initial:t,animate:a}=function(e,t){if((0,r.isControllingVariants)(e)){let{initial:t,animate:i}=e;return{initial:!1===t||(0,n.isVariantLabel)(t)?t:void 0,animate:(0,n.isVariantLabel)(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(s));return(0,i.useMemo)(()=>({initial:t,animate:a}),[o(t),o(a)])}function o(e){return Array.isArray(e)?e.join(" "):e}e.s(["useCreateMotionContext",()=>a],793767);var l=e.i(89424),u=e.i(588944),d=e.i(535884);let c=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m(e,t,i){for(let s in t)(0,l.isMotionValue)(t[s])||(0,u.isForcedMotionValue)(s,i)||(e[s]=t[s])}e.s(["createHtmlRenderState",()=>c],794818);var h=e.i(519422),p=e.i(231544);let f=()=>({...c(),attrs:{}});e.s(["createSvgRenderState",()=>f],286096);let g=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function v(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||g.has(e)}let y=e=>!v(e);try{t=e.r(570606).default,"function"==typeof t&&(y=e=>e.startsWith("on")?!v(e):t(e))}catch{}var x=e.i(596027);function b(e,t,s,{latestValues:r},n,a=!1,o){let u=(o??(0,x.isSVGComponent)(e)?function(e,t,s,r){let n=(0,i.useMemo)(()=>{let i=f();return(0,h.buildSVGAttrs)(i,t,(0,p.isSVGTag)(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};m(t,e.style,e),n.style={...t,...n.style}}return n}:function(e,t){let s,r,n={},a=(s=e.style||{},m(r={},s,e),Object.assign(r,function({transformTemplate:e},t){return(0,i.useMemo)(()=>{let i=c();return(0,d.buildHTMLStyles)(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),r);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n})(t,r,n,e),g=function(e,t,i){let s={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(y(r)||!0===i&&v(r)||!t&&!v(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}(t,"string"==typeof e,a),w=e!==i.Fragment?{...g,...u,ref:s}:{},{children:_}=t,T=(0,i.useMemo)(()=>(0,l.isMotionValue)(_)?_.get():_,[_]);return(0,i.createElement)(e,{...w,children:T})}e.s(["useRender",()=>b],40197);var w=e.i(948725);function _(e){return(0,l.isMotionValue)(e)?e.get():e}e.s(["scrapeHTMLMotionValuesFromProps",()=>w.scrapeMotionValuesFromProps],202071),e.s(["resolveMotionValue",()=>_],337980)},271671,523820,e=>{"use strict";var t=e.i(202071),i=e.i(337980),s=e.i(244465),r=e.i(151158),n=e.i(303978),a=e.i(813130),o=e.i(21192),l=e.i(631323),u=e.i(984497);let d=e=>(t,d)=>{let c=(0,a.useContext)(o.MotionContext),m=(0,a.useContext)(l.PresenceContext),h=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},a,o,l){return{latestValues:function(e,t,a,o){let l={},u=o(e,{});for(let e in u)l[e]=(0,i.resolveMotionValue)(u[e]);let{initial:d,animate:c}=e,m=(0,s.isControllingVariants)(e),h=(0,s.isVariantNode)(e);t&&h&&!m&&!1!==e.inherit&&(void 0===d&&(d=t.initial),void 0===c&&(c=t.animate));let p=!!a&&!1===a.initial,f=(p=p||!1===d)?c:d;if(f&&"boolean"!=typeof f&&!(0,r.isAnimationControls)(f)){let t=Array.isArray(f)?f:[f];for(let i=0;i<t.length;i++){let s=(0,n.resolveVariantFromProps)(e,t[i]);if(s){let{transitionEnd:e,transition:t,...i}=s;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=p?t.length-1:0;t=t[e]}null!==t&&(l[e]=t)}for(let t in e)l[t]=e[t]}}}return l}(a,o,l,e),renderState:t()}})(e,t,c,m);return d?h():(0,u.useConstant)(h)};var c=e.i(794818);let m=d({scrapeMotionValuesFromProps:t.scrapeHTMLMotionValuesFromProps,createRenderState:c.createHtmlRenderState});e.s(["useHTMLVisualState",()=>m],271671);var h=e.i(15632),h=h,p=e.i(286096);let f=d({scrapeMotionValuesFromProps:h.scrapeMotionValuesFromProps,createRenderState:p.createSvgRenderState});e.s(["useSVGVisualState",()=>f],523820)},114481,799941,288865,328283,866455,331999,890111,e=>{"use strict";var t=e.i(962148);let i={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},s=!1;function r(){return!function(){if(s)return;let e={};for(let t in i)e[t]={isEnabled:e=>i[t].some(t=>!!e[t])};(0,t.setFeatureDefinitions)(e),s=!0}(),(0,t.getFeatureDefinitions)()}function n(e){let i=r();for(let t in e)i[t]={...i[t],...e[t]};(0,t.setFeatureDefinitions)(i)}e.s(["getInitializedFeatureDefinitions",()=>r],114481),e.s(["loadFeatures",()=>n],799941);let a=Symbol.for("motionComponentSymbol");e.s(["motionComponentSymbol",()=>a],288865);var o=e.i(813130);function l(e,t,i){let s=(0,o.useRef)(i);(0,o.useInsertionEffect)(()=>{s.current=i});let r=(0,o.useRef)(null);return(0,o.useCallback)(i=>{i&&e.onMount?.(i),t&&(i?t.mount(i):t.unmount());let n=s.current;if("function"==typeof n)if(i){let e=n(i);"function"==typeof e&&(r.current=e)}else r.current?(r.current(),r.current=null):n(i);else n&&(n.current=i)},[t])}e.s(["useMotionRef",()=>l],328283);let u="data-"+(0,e.i(700580).camelToDash)("framerAppearId");e.s(["optimizedAppearDataAttribute",()=>u],866455);let d=(0,o.createContext)({});function c(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}e.s(["SwitchLayoutGroupContext",()=>d],331999),e.s(["isRefObject",()=>c],890111)},321674,564201,602278,112543,87449,460325,915540,728080,551458,819595,684104,444452,770993,274003,684854,928005,380476,789850,775968,435095,412381,e=>{"use strict";let t;e.i(215528);var i=e.i(855527),s=e.i(813130),r=e.i(145430),n=e.i(494353),a=e.i(987978),o=e.i(21192),l=e.i(793767),u=e.i(40197),d=e.i(596027),c=e.i(271671),m=e.i(523820),h=e.i(841849),p=e.i(114481),f=e.i(799941),g=e.i(288865),v=e.i(328283),y=e.i(866455),x=e.i(631323),b=e.i(331999),w=e.i(890111),_=e.i(567561);function T(e,{forwardMotionProps:t=!1,type:A}={},C,S){C&&(0,f.loadFeatures)(C);let P=A?"svg"===A:(0,d.isSVGComponent)(e),M=P?m.useSVGVisualState:c.useHTMLVisualState;function E(d,c){let m,f={...(0,s.useContext)(a.MotionConfigContext),...d,layoutId:function({layoutId:e}){let t=(0,s.useContext)(r.LayoutGroupContext).id;return t&&void 0!==e?t+"-"+e:e}(d)},{isStatic:g}=f,T=(0,l.useCreateMotionContext)(d),A=M(d,g);if(!g&&h.isBrowser){(0,s.useContext)(n.LazyContext).strict;let t=function(e){let{drag:t,layout:i}=(0,p.getInitializedFeatureDefinitions)();if(!t&&!i)return{};let s={...t,...i};return{MeasureLayout:t?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(f);m=t.MeasureLayout,T.visualElement=function(e,t,i,r,l,u){let{visualElement:d}=(0,s.useContext)(o.MotionContext),c=(0,s.useContext)(n.LazyContext),m=(0,s.useContext)(x.PresenceContext),h=(0,s.useContext)(a.MotionConfigContext).reducedMotion,p=(0,s.useRef)(null),f=(0,s.useRef)(!1);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:d,props:i,presenceContext:m,blockInitialAnimation:!!m&&!1===m.initial,reducedMotionConfig:h,isSVG:u}),f.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));let g=p.current,v=(0,s.useContext)(b.SwitchLayoutGroupContext);g&&!g.projection&&l&&("html"===g.type||"svg"===g.type)&&function(e,t,i,s){let{layoutId:r,layout:n,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:n,alwaysMeasureLayout:!!a||o&&(0,w.isRefObject)(o),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:l,layoutRoot:u})}(p.current,i,l,v);let T=(0,s.useRef)(!1);(0,s.useInsertionEffect)(()=>{g&&T.current&&g.update(i,m)});let A=i[y.optimizedAppearDataAttribute],C=(0,s.useRef)(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return(0,_.useIsomorphicLayoutEffect)(()=>{f.current=!0,g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),(0,s.useEffect)(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),C.current=!1),g.enteringChildren=void 0)}),g}(e,A,f,S,t.ProjectionNode,P)}return(0,i.jsxs)(o.MotionContext.Provider,{value:T,children:[m&&T.visualElement?(0,i.jsx)(m,{visualElement:T.visualElement,...f}):null,(0,u.useRender)(e,d,(0,v.useMotionRef)(A,T.visualElement,c),A,g,t,P)]})}E.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let R=(0,s.forwardRef)(E);return R[g.motionComponentSymbol]=e,R}function A(e,t){if("u"<typeof Proxy)return T;let i=new Map,s=(i,s)=>T(i,s,e,t);return new Proxy((e,t)=>s(e,t),{get:(r,n)=>"create"===n?s:(i.has(n)||i.set(n,T(n,void 0,e,t)),i.get(n))})}e.s(["createMotionProxy",()=>A],321674);class C{constructor(e){this.isMounted=!1,this.node=e}update(){}}e.s(["Feature",()=>C],564201);var S=e.i(303978);function P(e,t,i){let s=e.getProps();return(0,S.resolveVariantFromProps)(s,t,void 0!==i?i:s.custom,e)}function M(e,t){return e?.[t]??e?.default??e}e.s(["getValueTransition",()=>M],602278);var E=e.i(111198),R=e.i(298864);let k=e=>Array.isArray(e);var D=e.i(179271),O=e.i(89424);function I(e,t){let i=e.getValue("willChange");if((0,O.isMotionValue)(i)&&i.add)return i.add(t);if(!i&&D.MotionGlobalConfig.WillChange){let i=new D.MotionGlobalConfig.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function V(e){return e.props[y.optimizedAppearDataAttribute]}e.s(["getOptimisedAppearId",()=>V],112543);let N=e=>1e3*e,L=e=>e/1e3;e.s(["millisecondsToSeconds",()=>L,"secondsToMilliseconds",()=>N],87449);var j=e.i(176061),B=e.i(48410);let F=(e,t)=>i=>t(e(i)),G=(...e)=>e.reduce(F);e.s(["pipe",()=>G],460325);var U=e.i(679672);let q={layout:0,mainThread:0,waapi:0};e.s(["activeAnimations",()=>q],915540);var z=e.i(918699),H=e.i(418604),Z=e.i(291834),$=e.i(957667),W=e.i(142095),X=e.i(444851);function Y(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}var K=e.i(271794);function Q(e,t){return i=>i>0?t:e}var J=e.i(501464);let ee=(e,t,i)=>{let s=e*e,r=i*(t*t-s)+s;return r<0?0:Math.sqrt(r)},et=[W.hex,K.rgba,X.hsla];function ei(e){let t=et.find(t=>t.test(e));if((0,z.warning)(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let i=t.parse(e);return t===X.hsla&&(i=function({hue:e,saturation:t,lightness:i,alpha:s}){e/=360,i/=100;let r=0,n=0,a=0;if(t/=100){let s=i<.5?i*(1+t):i+t-i*t,o=2*i-s;r=Y(o,s,e+1/3),n=Y(o,s,e),a=Y(o,s,e-1/3)}else r=n=a=i;return{red:Math.round(255*r),green:Math.round(255*n),blue:Math.round(255*a),alpha:s}}(i)),i}let es=(e,t)=>{let i=ei(e),s=ei(t);if(!i||!s)return Q(e,t);let r={...i};return e=>(r.red=ee(i.red,s.red,e),r.green=ee(i.green,s.green,e),r.blue=ee(i.blue,s.blue,e),r.alpha=(0,J.mixNumber)(i.alpha,s.alpha,e),K.rgba.transform(r))},er=new Set(["none","hidden"]);function en(e,t){return i=>(0,J.mixNumber)(e,t,i)}function ea(e){return"number"==typeof e?en:"string"==typeof e?(0,H.isCSSVariableToken)(e)?Q:Z.color.test(e)?es:eu:Array.isArray(e)?eo:"object"==typeof e?Z.color.test(e)?es:el:Q}function eo(e,t){let i=[...e],s=i.length,r=e.map((e,i)=>ea(e)(e,t[i]));return e=>{for(let t=0;t<s;t++)i[t]=r[t](e);return i}}function el(e,t){let i={...e,...t},s={};for(let r in i)void 0!==e[r]&&void 0!==t[r]&&(s[r]=ea(e[r])(e[r],t[r]));return e=>{for(let t in s)i[t]=s[t](e);return i}}let eu=(e,t)=>{let i=$.complex.createTransformer(t),s=(0,$.analyseComplexValue)(e),r=(0,$.analyseComplexValue)(t);if(!(s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length))return(0,z.warning)(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Q(e,t);if(er.has(e)&&!r.values.length||er.has(t)&&!s.values.length)return er.has(e)?i=>i<=0?e:t:i=>i>=1?t:e;return G(eo(function(e,t){let i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){let n=t.types[r],a=e.indexes[n][s[n]],o=e.values[a]??0;i[r]=o,s[n]++}return i}(s,r),r.values),i)};function ed(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?(0,J.mixNumber)(e,t,i):ea(e)(e,t)}var ec=e.i(365438);let em=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>ec.frame.update(t,e),stop:()=>(0,ec.cancelFrame)(t),now:()=>ec.frameData.isProcessing?ec.frameData.timestamp:B.time.now()}},eh=(e,t,i=10)=>{let s="",r=Math.max(Math.round(t/i),2);for(let t=0;t<r;t++)s+=Math.round(1e4*e(t/(r-1)))/1e4+", ";return`linear(${s.substring(0,s.length-2)})`};function ep(e){let t=0,i=e.next(t);for(;!i.done&&t<2e4;)t+=50,i=e.next(t);return t>=2e4?1/0:t}var ef=e.i(751741);function eg(e,t,i){let s=Math.max(t-5,0);return(0,ef.velocityPerSecond)(i-e(s),t-s)}let ev=.01,ey=2,ex=.005,eb=.5;function ew(e,t){return e*Math.sqrt(1-t*t)}let e_=["duration","bounce"],eT=["stiffness","damping","mass"];function eA(e,t){return t.some(t=>void 0!==e[t])}function eC(e=.3,t=.3){let i,s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:n}=s,a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:d,mass:c,duration:m,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!eA(e,eT)&&eA(e,e_))if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),s=i*i,r=2*(0,U.clamp)(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:1,stiffness:s,damping:r}}else{let i=function({duration:e=800,bounce:t=.3,velocity:i=0,mass:s=1}){let r,n;(0,z.warning)(e<=N(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=(0,U.clamp)(.05,1,a),e=(0,U.clamp)(.01,10,L(e)),a<1?(r=t=>{let s=t*a,r=s*e;return .001-(s-i)/ew(t,a)*Math.exp(-r)},n=t=>{let s=t*a*e,n=Math.pow(a,2)*Math.pow(t,2)*e,o=Math.exp(-s),l=ew(Math.pow(t,2),a);return(s*i+i-n)*o*(-r(t)+.001>0?-1:1)/l}):(r=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),n=t=>e*e*(i-t)*Math.exp(-t*e));let o=function(e,t,i){let s=i;for(let i=1;i<12;i++)s-=e(s)/t(s);return s}(r,n,5/e);if(e=N(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*s;return{stiffness:t,damping:2*a*Math.sqrt(s*t),duration:e}}}(e);(t={...t,...i,mass:1}).isResolvedFromDuration=!0}return t}({...s,velocity:-L(s.velocity||0)}),f=h||0,g=d/(2*Math.sqrt(u*c)),v=o-a,y=L(Math.sqrt(u/c)),x=5>Math.abs(v);if(r||(r=x?ev:ey),n||(n=x?ex:eb),g<1){let e=ew(y,g);i=t=>o-Math.exp(-g*y*t)*((f+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}else if(1===g)i=e=>o-Math.exp(-y*e)*(v+(f+y*v)*e);else{let e=y*Math.sqrt(g*g-1);i=t=>{let i=Math.exp(-g*y*t),s=Math.min(e*t,300);return o-i*((f+g*y*v)*Math.sinh(s)+e*v*Math.cosh(s))/e}}let b={calculatedDuration:p&&m||null,next:e=>{let t=i(e);if(p)l.done=e>=m;else{let s=0===e?f:0;g<1&&(s=0===e?N(f):eg(i,e,t));let a=Math.abs(o-t)<=n;l.done=Math.abs(s)<=r&&a}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(ep(b),2e4),t=eh(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function eS({keyframes:e,velocity:t=0,power:i=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:n=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){let c,m,h=e[0],p={done:!1,value:h},f=i*t,g=h+f,v=void 0===a?g:a(g);v!==g&&(f=v-h);let y=e=>-f*Math.exp(-e/s),x=e=>v+y(e),b=e=>{let t=y(e),i=x(e);p.done=Math.abs(t)<=u,p.value=p.done?v:i},w=e=>{let t;if(t=p.value,void 0!==o&&t<o||void 0!==l&&t>l){var i;c=e,m=eC({keyframes:[p.value,(i=p.value,void 0===o?l:void 0===l||Math.abs(o-i)<Math.abs(l-i)?o:l)],velocity:eg(x,e,p.value),damping:r,stiffness:n,restDelta:u,restSpeed:d})}};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return(m||void 0!==c||(t=!0,b(e),w(e)),void 0!==c&&e>=c)?m.next(e-c):(t||b(e),p)}}}eC.applyToOptions=e=>{let t=function(e,t=100,i){let s=i({...e,keyframes:[0,t]}),r=Math.min(ep(s),2e4);return{type:"keyframes",ease:e=>s.next(r*e).value/t,duration:L(r)}}(e,100,eC);return e.ease=t.ease,e.duration=N(t.duration),e.type="keyframes",e};let eP=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function eM(e,t,i,s){return e===t&&i===s?j.noop:r=>0===r||1===r?r:eP(function(e,t,i,s,r){let n,a,o=0;do(n=eP(a=t+(i-t)/2,s,r)-e)>0?i=a:t=a;while(Math.abs(n)>1e-7&&++o<12)return a}(r,0,1,e,i),t,s)}let eE=eM(.42,0,1,1),eR=eM(0,0,.58,1),ek=eM(.42,0,.58,1),eD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eO=e=>t=>1-e(1-t),eI=eM(.33,1.53,.69,.99),eV=eO(eI),eN=eD(eV),eL=e=>(e*=2)<1?.5*eV(e):.5*(2-Math.pow(2,-10*(e-1))),ej=e=>1-Math.sin(Math.acos(e)),eB=eO(ej),eF=eD(ej);e.s(["circIn",()=>ej,"circInOut",()=>eF,"circOut",()=>eB],728080);let eG=e=>Array.isArray(e)&&"number"==typeof e[0],eU={linear:j.noop,easeIn:eE,easeInOut:ek,easeOut:eR,circIn:ej,circInOut:eF,circOut:eB,backIn:eV,backInOut:eN,backOut:eI,anticipate:eL},eq=e=>{if(eG(e)){(0,z.invariant)(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,i,s,r]=e;return eM(t,i,s,r)}return"string"==typeof e?((0,z.invariant)(void 0!==eU[e],`Invalid easing type '${e}'`,"invalid-easing-type"),eU[e]):e},ez=(e,t,i)=>{let s=t-e;return 0===s?1:(i-e)/s};function eH({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){var r;let n,a=Array.isArray(s)&&"number"!=typeof s[0]?s.map(eq):eq(s),o={done:!1,value:t[0]},l=function(e,t,{clamp:i=!0,ease:s,mixer:r}={}){let n=e.length;if((0,z.invariant)(n===t.length,"Both input and output ranges must be the same length","range-length"),1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,i){let s=[],r=i||D.MotionGlobalConfig.mix||ed,n=e.length-1;for(let i=0;i<n;i++){let n=r(e[i],e[i+1]);t&&(n=G(Array.isArray(t)?t[i]||j.noop:t,n)),s.push(n)}return s}(t,s,r),l=o.length,u=i=>{if(a&&i<e[0])return t[0];let s=0;if(l>1)for(;s<e.length-2&&!(i<e[s+1]);s++);let r=ez(e[s],e[s+1],i);return o[s](r)};return i?t=>u((0,U.clamp)(e[0],e[n-1],t)):u}((r=i&&i.length===t.length?i:(!function(e,t){let i=e[e.length-1];for(let s=1;s<=t;s++){let r=ez(0,t,s);e.push((0,J.mixNumber)(i,1,r))}}(n=[0],t.length-1),n),r.map(t=>t*e)),t,{ease:Array.isArray(a)?a:t.map(()=>a||ek).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}e.s(["progress",()=>ez],551458);let eZ=e=>null!==e;function e$(e,{repeat:t,repeatType:i="loop"},s,r=1){let n=e.filter(eZ),a=r<0||t&&"loop"!==i&&t%2==1?0:n.length-1;return a&&void 0!==s?s:n[a]}let eW={decay:eS,inertia:eS,tween:eH,keyframes:eH,spring:eC};function eX(e){"string"==typeof e.type&&(e.type=eW[e.type])}class eY{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let eK=e=>e/100;class eQ extends eY{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==B.time.now()&&this.tick(B.time.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},q.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;eX(e);let{type:t=eH,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:n=0}=e,{keyframes:a}=e,o=t||eH;o!==eH&&"number"!=typeof a[0]&&(this.mixKeyframes=G(eK,ed(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-n})),null===l.calculatedDuration&&(l.calculatedDuration=ep(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:n,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return i.next(0);let{delay:l=0,keyframes:u,repeat:d,repeatType:c,repeatDelay:m,type:h,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=s);let y=this.currentTime,x=i;if(d){let e=Math.min(this.currentTime,s)/a,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,d+1))%2&&("reverse"===c?(i=1-i,m&&(i-=m/a)):"mirror"===c&&(x=n)),y=(0,U.clamp)(0,1,i)*a}let b=v?{done:!1,value:u[0]}:x.next(y);r&&(b.value=r(b.value));let{done:w}=b;v||null===o||(w=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);let _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return _&&h!==eS&&(b.value=e$(u,this.options,f,this.speed)),p&&p(b.value),_&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return L(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+L(e)}get time(){return L(this.currentTime)}set time(e){e=N(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(B.time.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=L(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=em,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(B.time.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,q.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}var eJ=e.i(877376);function e0(e){let t;return()=>(void 0===t&&(t=e()),t)}let e1=e0(()=>void 0!==window.ScrollTimeline);var e2=e.i(222603);let e8={},e4=(t=e0(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>e8.linearEasing??t()),e3=([e,t,i,s])=>`cubic-bezier(${e}, ${t}, ${i}, ${s})`,e6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:e3([0,.65,.55,1]),circOut:e3([.55,0,1,.45]),backIn:e3([.31,.01,.66,-.59]),backOut:e3([.33,1.53,.69,.99])};function e5(e){return"function"==typeof e&&"applyToOptions"in e}class e9 extends eY{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:r,allowFlatten:n=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!r,this.allowFlatten=n,this.options=e,(0,z.invariant)("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return e5(e)&&e4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,i,{delay:s=0,duration:r=300,repeat:n=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u){let d={[t]:i};l&&(d.offset=l);let c=function e(t,i){if(t)return"function"==typeof t?e4()?eh(t,i):"ease-out":eG(t)?e3(t):Array.isArray(t)?t.map(t=>e(t,i)||e6.easeOut):e6[t]}(o,r);Array.isArray(c)&&(d.easing=c),e2.statsBuffer.value&&q.waapi++;let m={delay:s,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:n+1,direction:"reverse"===a?"alternate":"normal"};u&&(m.pseudoElement=u);let h=e.animate(d,m);return e2.statsBuffer.value&&h.finished.finally(()=>{q.waapi--}),h}(t,i,s,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){let e=e$(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):i.startsWith("--")?t.style.setProperty(i,e):t.style[i]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return L(Number(this.animation.effect?.getComputedTiming?.().duration||0))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+L(e)}get time(){return L(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=N(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&e1())?(this.animation.timeline=e,j.noop):t(this)}}let e7={anticipate:eL,backInOut:eN,circInOut:eF};class te extends e9{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in e7&&(e.ease=e7[e.ease])}(e),eX(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:i,onComplete:s,element:r,...n}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let a=new eQ({...n,autoplay:!1}),o=Math.max(10,B.time.now()-this.startTime),l=(0,U.clamp)(0,10,o-10);t.setWithVelocity(a.sample(Math.max(0,o-l)).value,a.sample(o).value,l),a.stop()}}let tt=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&($.complex.test(e)||"0"===e)&&!e.startsWith("url("));function ti(e){e.duration=0,e.type="keyframes"}let ts=new Set(["opacity","clipPath","filter","transform"]),tr=e0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class tn extends eY{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:n="loop",keyframes:a,name:o,motionValue:l,element:u,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=B.time.now();const c={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:r,repeatType:n,name:o,motionValue:l,element:u,...d},m=u?.KeyframeResolver||eJ.KeyframeResolver;this.keyframeResolver=new m(a,(e,t,i)=>this.onKeyframesResolved(e,t,c,!i),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;let{name:r,type:n,velocity:a,delay:o,isHandoff:l,onUpdate:u}=i;this.resolvedAt=B.time.now(),!function(e,t,i,s){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let n=e[e.length-1],a=tt(r,t),o=tt(n,t);return(0,z.warning)(a===o,`You are trying to animate ${t} from "${r}" to "${n}". "${a?n:r}" is not an animatable value.`,"value-not-animatable"),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||e5(i))&&s)}(e,r,n,a)&&((D.MotionGlobalConfig.instantAnimations||!o)&&u?.(e$(e,i,t)),e[0]=e[e.length-1],ti(i),i.repeat=0);let d={startTime:s?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},c=!l&&function(e){let{motionValue:t,name:i,repeatDelay:s,repeatType:r,damping:n,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return tr()&&i&&ts.has(i)&&("transform"!==i||!l)&&!o&&!s&&"mirror"!==r&&0!==n&&"inertia"!==a}(d),m=d.motionValue?.owner?.current,h=c?new te({...d,element:m}):new eQ(d);h.finished.then(()=>{this.notifyFinished()}).catch(j.noop),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),(0,eJ.flushKeyframeResolvers)()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}var ta=e.i(606356);let to={type:"spring",stiffness:500,damping:25,restSpeed:10},tl={type:"keyframes",duration:.8},tu={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},td=e=>null!==e,tc=(e,t,i,s={},r,n)=>a=>{let o=M(s,e)||{},l=o.delay||s.delay||0,{elapsed:u=0}=s;u-=N(l);let d={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:n?void 0:r};!function({when:e,delay:t,delayChildren:i,staggerChildren:s,staggerDirection:r,repeat:n,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}(o)&&Object.assign(d,((e,{keyframes:t})=>t.length>2?tl:ta.transformProps.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:to:tu)(e,d)),d.duration&&(d.duration=N(d.duration)),d.repeatDelay&&(d.repeatDelay=N(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let c=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(ti(d),0===d.delay&&(c=!0)),(D.MotionGlobalConfig.instantAnimations||D.MotionGlobalConfig.skipAnimations)&&(c=!0,ti(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,c&&!n&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:i="loop"},s){let r=e.filter(td),n=t&&"loop"!==i&&t%2==1?0:r.length-1;return r[n]}(d.keyframes,o);if(void 0!==e)return void ec.frame.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new eQ(d):new tn(d)};function tm(e,t,{delay:i=0,transitionOverride:s,type:r}={}){let{transition:n=e.getDefaultTransition(),transitionEnd:a,...o}=t,l=n?.reduceMotion;s&&(n=s);let u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(let t in o){let s=e.getValue(t,e.latestValues[t]??null),r=o[t];if(void 0===r||d&&function({protectedKeys:e,needsAnimating:t},i){let s=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,s}(d,t))continue;let a={delay:i,...M(n||{},t)},c=s.get();if(void 0!==c&&!s.isAnimating&&!Array.isArray(r)&&r===c&&!a.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){let i=V(e);if(i){let e=window.MotionHandoffAnimation(i,t,ec.frame);null!==e&&(a.startTime=e,m=!0)}}I(e,t);let h=l??e.shouldReduceMotion;s.start(tc(t,s,r,h&&E.positionalKeys.has(t)?{type:!1}:a,e,m));let p=s.animation;p&&u.push(p)}return a&&Promise.all(u).then(()=>{ec.frame.update(()=>{a&&function(e,t){let{transitionEnd:i={},transition:s={},...r}=P(e,t)||{};for(let t in r={...r,...i}){var n;let i=k(n=r[t])?n[n.length-1]||0:n;e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,(0,R.motionValue)(i))}}(e,a)})}),u}function th(e,t,i,s=0,r=1){let n=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*s;return"function"==typeof i?i(n,a):1===r?n*s:o-n*s}function tp(e,t,i={}){let s=P(e,t,"exit"===i.type?e.presenceContext?.custom:void 0),{transition:r=e.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(r=i.transitionOverride);let n=s?()=>Promise.all(tm(e,s,i)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(s=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=r;return function(e,t,i=0,s=0,r=0,n=1,a){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(tp(l,t,{...a,delay:i+("function"==typeof s?0:s)+th(e.variantChildren,l,s,r,n)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,s,n,a,o,i)}:()=>Promise.resolve(),{when:o}=r;if(!o)return Promise.all([n(),a(i.delay)]);{let[e,t]="beforeChildren"===o?[n,a]:[a,n];return e().then(()=>t())}}e.s(["animateMotionValue",()=>tc],819595);var tf=e.i(295993),tg=e.i(527117);let tv=tg.variantProps.length;var ty=e.i(151158);function tx(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(t[s]!==e[s])return!1;return!0}let tb=[...tg.variantPriorityOrder].reverse(),tw=tg.variantPriorityOrder.length;function t_(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tT(){return{animate:t_(!0),whileInView:t_(),whileHover:t_(),whileTap:t_(),whileDrag:t_(),whileFocus:t_(),exit:t_()}}let tA=0,tC={animation:{Feature:class extends C{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let s;if(e.notify("AnimationStart",t),Array.isArray(t))s=Promise.all(t.map(t=>tp(e,t,i)));else if("string"==typeof t)s=tp(e,t,i);else{let r="function"==typeof t?P(e,t,i.custom):t;s=Promise.all(tm(e,r,i))}return s.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=tT(),s=!0,r=t=>(i,s)=>{let r=P(e,s,"exit"===t?e.presenceContext?.custom:void 0);if(r){let{transition:e,transitionEnd:t,...s}=r;i={...i,...s,...t}}return i};function n(n){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<tv;e++){let s=tg.variantProps[e],r=t.props[s];((0,tf.isVariantLabel)(r)||!1===r)&&(i[s]=r)}return i}(e.parent)||{},l=[],u=new Set,d={},c=1/0;for(let t=0;t<tw;t++){var m,h;let p=tb[t],f=i[p],g=void 0!==a[p]?a[p]:o[p],v=(0,tf.isVariantLabel)(g),y=p===n?f.isActive:null;!1===y&&(c=t);let x=g===o[p]&&g!==a[p]&&v;if(x&&s&&e.manuallyAnimateOnMount&&(x=!1),f.protectedKeys={...d},!f.isActive&&null===y||!g&&!f.prevProp||(0,ty.isAnimationControls)(g)||"boolean"==typeof g)continue;let b=(m=f.prevProp,"string"==typeof(h=g)?h!==m:!!Array.isArray(h)&&!tx(h,m)),w=b||p===n&&f.isActive&&!x&&v||t>c&&v,_=!1,T=Array.isArray(g)?g:[g],A=T.reduce(r(p),{});!1===y&&(A={});let{prevResolvedValues:C={}}=f,S={...C,...A},M=t=>{w=!0,u.has(t)&&(_=!0,u.delete(t)),f.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in S){let t=A[e],i=C[e];if(!d.hasOwnProperty(e))(k(t)&&k(i)?tx(t,i):t===i)?void 0!==t&&u.has(e)?M(e):f.protectedKeys[e]=!0:null!=t?M(e):u.add(e)}f.prevProp=g,f.prevResolvedValues=A,f.isActive&&(d={...d,...A}),s&&e.blockInitialAnimation&&(w=!1);let E=x&&b,R=!E||_;w&&R&&l.push(...T.map(t=>{let i={type:p};if("string"==typeof t&&s&&!E&&e.manuallyAnimateOnMount&&e.parent){let{parent:s}=e,r=P(s,t);if(s.enteringChildren&&r){let{delayChildren:t}=r.transition||{};i.delay=th(s.enteringChildren,e,t)}}return{animation:t,options:i}}))}if(u.size){let t={};if("boolean"!=typeof a.initial){let i=P(e,Array.isArray(a.initial)?a.initial[0]:a.initial);i&&i.transition&&(t.transition=i.transition)}u.forEach(i=>{let s=e.getBaseTarget(i),r=e.getValue(i);r&&(r.liveStyle=!0),t[i]=s??null}),l.push({animation:t})}let p=!!l.length;return s&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(p=!1),s=!1,p?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,s){if(i[t].isActive===s)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,s)),i[t].isActive=s;let r=n(t);for(let e in i)i[e].protectedKeys={};return r},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=tT()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();(0,ty.isAnimationControls)(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends C{constructor(){super(...arguments),this.id=tA++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};e.s(["animations",()=>tC],684104);var tS=e.i(506854);function tP(e){return[e("x"),e("y")]}e.s(["eachAxis",()=>tP],444452);var tM=e.i(589397),tE=e.i(548464);let tR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tk(e){return tR.has(e.tagName)||!0===e.isContentEditable}function tD(e,t,i,s={passive:!0}){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i)}e.s(["isElementKeyboardAccessible",()=>tk],770993),e.s(["addDomEvent",()=>tD],274003);let tO={x:!1,y:!1};function tI(){return tO.x||tO.y}e.s(["isDragActive",()=>tI,"isDragging",()=>tO],684854);var tV=e.i(396203);function tN(e){return e.max-e.min}function tL(e,t,i){return Math.abs(e-t)<=i}function tj(e,t,i,s=.5){e.origin=s,e.originPoint=(0,J.mixNumber)(t.min,t.max,e.origin),e.scale=tN(i)/tN(t),e.translate=(0,J.mixNumber)(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function tB(e,t,i,s){tj(e.x,t.x,i.x,s?s.originX:void 0),tj(e.y,t.y,i.y,s?s.originY:void 0)}function tF(e,t,i){e.min=i.min+t.min,e.max=e.min+tN(t)}function tG(e,t,i){tF(e.x,t.x,i.x),tF(e.y,t.y,i.y)}function tU(e,t,i){e.min=t.min-i.min,e.max=e.min+tN(t)}function tq(e,t,i){tU(e.x,t.x,i.x),tU(e.y,t.y,i.y)}e.s(["calcBoxDelta",()=>tB,"calcLength",()=>tN,"calcRelativeBox",()=>tG,"calcRelativePosition",()=>tq,"isNear",()=>tL],928005);let tz=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function tH(e){return{point:{x:e.pageX,y:e.pageY}}}e.s(["isPrimaryPointer",()=>tz],380476);let tZ=e=>t=>tz(t)&&e(t,tH(t));function t$(e,t,i,s){return tD(e,t,tZ(i),s)}e.s(["addPointerInfo",()=>tZ,"extractEventInfo",()=>tH],789850);let tW=({current:e})=>e?e.ownerDocument.defaultView:null,tX=(e,t)=>Math.abs(e-t),tY=new Set(["auto","scroll"]);class tK{constructor(e,t,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:n=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let i=t0(this.lastMoveEventInfo,this.history),s=null!==this.startEvent,r=(e=i.offset,t={x:0,y:0},Math.sqrt(tX(e.x,t.x)**2+tX(e.y,t.y)**2)>=this.distanceThreshold);if(!s&&!r)return;let{point:n}=i,{timestamp:a}=ec.frameData;this.history.push({...n,timestamp:a});let{onStart:o,onMove:l}=this.handlers;s||(o&&o(this.lastMoveEvent,i),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,i)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=tQ(t,this.transformPagePoint),ec.frame.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:s,resumeAnimation:r}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=t0("pointercancel"===e.type?this.lastMoveEventInfo:tQ(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,n),s&&s(e,n)},!tz(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=n,this.contextWindow=s||window;const o=tQ(tH(e),this.transformPagePoint),{point:l}=o,{timestamp:u}=ec.frameData;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=t;d&&d(e,t0(o,this.history)),this.removeListeners=G(t$(this.contextWindow,"pointermove",this.handlePointerMove),t$(this.contextWindow,"pointerup",this.handlePointerUp),t$(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(tY.has(e.overflowX)||tY.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let i=e===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},r={x:s.x-t.x,y:s.y-t.y};(0!==r.x||0!==r.y)&&(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(e,s),ec.frame.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),(0,ec.cancelFrame)(this.updatePoint)}}function tQ(e,t){return t?{point:t(e.point)}:e}function tJ(e,t){return{x:e.x-t.x,y:e.y-t.y}}function t0({point:e},t){return{point:e,delta:tJ(e,t1(t)),offset:tJ(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,s=null,r=t1(e);for(;i>=0&&(s=e[i],!(r.timestamp-s.timestamp>N(.1)));)i--;if(!s)return{x:0,y:0};let n=L(r.timestamp-s.timestamp);if(0===n)return{x:0,y:0};let a={x:(r.x-s.x)/n,y:(r.y-s.y)/n};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function t1(e){return e[e.length-1]}function t2(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function t8(e,t){let i=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,s]=[s,i]),{min:i,max:s}}function t4(e,t,i){return{min:t3(e,t),max:t3(e,i)}}function t3(e,t){return"number"==typeof e?e:e[t]||0}let t6=new WeakMap;class t5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=(0,tS.createBox)(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){let{presenceContext:s}=this.visualElement;if(s&&!1===s.isPresent)return;let r=e=>{t?(this.stopAnimation(),this.snapToCursor(tH(e).point)):this.pauseAnimation()},n=(e,t)=>{this.stopAnimation();let{drag:i,dragPropagation:s,onDragStart:r}=this.getProps();if(i&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(tO[e])return null;else return tO[e]=!0,()=>{tO[e]=!1};return tO.x||tO.y?null:(tO.x=tO.y=!0,()=>{tO.x=tO.y=!1})}(i),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tP(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tV.percent.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let s=i.layout.layoutBox[e];s&&(t=tN(s)*(parseFloat(t)/100))}}this.originPoint[e]=t}),r&&ec.frame.postRender(()=>r(e,t)),I(this.visualElement,"transform");let{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:i,dragDirectionLock:s,onDirectionLock:r,onDrag:n}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:a}=t;if(s&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(a),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),n&&n(e,t)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>tP(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new tK(e,{onSessionStart:r,onStart:n,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:i,contextWindow:tW(this.visualElement),element:this.visualElement.current})}stop(e,t){let i=e||this.latestPointerEvent,s=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;let{velocity:n}=s;this.startAnimation(n);let{onDragEnd:a}=this.getProps();a&&ec.frame.postRender(()=>a(i,s))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,i){let{drag:s}=this.getProps();if(!i||!t9(e,s,this.currentDirection))return;let r=this.getAxisMotionValue(e),n=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:i},s){return void 0!==t&&e<t?e=s?(0,J.mixNumber)(t,e,s.min):Math.max(e,t):void 0!==i&&e>i&&(e=s?(0,J.mixNumber)(i,e,s.max):Math.min(e,i)),e}(n,this.constraints[e],this.elastic[e])),r.set(n)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&(0,w.isRefObject)(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=function(e,{top:t,left:i,bottom:s,right:r}){return{x:t2(e.x,i,r),y:t2(e.y,t,s)}}(i.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:t4(e,"left","right"),y:t4(e,"top","bottom")}}(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tP(e=>{var t,s;let r;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=i.layoutBox[e],s=this.constraints[e],r={},void 0!==s.min&&(r.min=s.min-t.min),void 0!==s.max&&(r.max=s.max-t.min),r))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!(0,w.isRefObject)(t))return!1;let s=t.current;(0,z.invariant)(null!==s,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let n=(0,tM.measurePageBox)(s,r.root,this.visualElement.getTransformPagePoint()),a=(e=r.layout.layoutBox,{x:t8(e.x,n.x),y:t8(e.y,n.y)});if(i){let e=i((0,tE.convertBoxToBoundingBox)(a));this.hasMutatedConstraints=!!e,e&&(a=(0,tE.convertBoundingBoxToBox)(e))}return a}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:n,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(tP(a=>{if(!t9(a,t,this.currentDirection))return;let l=o&&o[a]||{};n&&(l={min:0,max:0});let u={type:"inertia",velocity:i?e[a]:0,bounceStiffness:s?200:1e6,bounceDamping:s?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return I(this.visualElement,e),i.start(tc(e,i,0,t,this.visualElement,!1))}stopAnimation(){tP(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tP(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){tP(t=>{let{drag:i}=this.getProps();if(!t9(t,i,this.currentDirection))return;let{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){let{min:i,max:n}=s.layout.layoutBox[t],a=r.get()||0;r.set(e[t]-(0,J.mixNumber)(i,n,.5)+a)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!(0,w.isRefObject)(t)||!i||!this.constraints)return;this.stopAnimation();let s={x:0,y:0};tP(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var i,r;let n,a,o,l=t.get();s[e]=(i={min:l,max:l},r=this.constraints[e],n=.5,a=tN(i),(o=tN(r))>a?n=ez(r.min,r.max-a,i.min):a>o&&(n=ez(i.min,i.max-o,r.min)),(0,U.clamp)(0,1,n))}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),tP(t=>{if(!t9(t,e,null))return;let i=this.getAxisMotionValue(t),{min:r,max:n}=this.constraints[t];i.set((0,J.mixNumber)(r,n,s[t]))})}addListeners(){if(!this.visualElement.current)return;t6.set(this.visualElement,this);let e=this.visualElement.current,t=t$(e,"pointerdown",t=>{let{drag:i,dragListener:s=!0}=this.getProps(),r=t.target,n=r!==e&&tk(r);i&&s&&!n&&this.start(t)}),i=()=>{let{dragConstraints:e}=this.getProps();(0,w.isRefObject)(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ec.frame.read(i);let n=tD(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(tP(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{n(),t(),r(),a&&a()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:n=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:n,dragMomentum:a}}}function t9(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}class t7 extends C{constructor(e){super(e),this.removeGroupControls=j.noop,this.removeListeners=j.noop,this.controls=new t5(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||j.noop}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}e.s(["DragGesture",()=>t7],775968);let ie=e=>(t,i)=>{e&&ec.frame.postRender(()=>e(t,i))};class it extends C{constructor(){super(...arguments),this.removePointerDownListener=j.noop}onPointerDown(e){this.session=new tK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tW(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:ie(e),onStart:ie(t),onMove:i,onEnd:(e,t)=>{delete this.session,s&&ec.frame.postRender(()=>s(e,t))}}}mount(){this.removePointerDownListener=t$(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}e.s(["PanGesture",()=>it],435095);let ii={hasAnimatedSinceResize:!0,hasEverUpdated:!1};e.s(["globalProjectionState",()=>ii],412381)},553727,857941,157504,e=>{"use strict";var t=e.i(855527),i=e.i(412381),s=e.i(365438),r=e.i(678101),n=e.i(813130),a=e.i(62711),o=e.i(145430),l=e.i(331999);let u=!1;class d extends n.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:r}=this.props,{projection:n}=e;n&&(t.group&&t.group.add(n),s&&s.register&&r&&s.register(n),u&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),i.globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:r,isPresent:n}=this.props,{projection:a}=i;return a&&(a.isPresent=n,e.layoutDependency!==t&&a.setOptions({...a.options,layoutDependency:t}),u=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==n?a.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?a.promote():a.relegate()||s.frame.postRender(()=>{let e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r.microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;u=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function c(e){let[i,s]=(0,a.usePresence)(),r=(0,n.useContext)(o.LayoutGroupContext);return(0,t.jsx)(d,{...e,layoutGroup:r,switchLayoutGroup:(0,n.useContext)(l.SwitchLayoutGroupContext),isPresent:i,safeToRemove:s})}e.s(["MeasureLayout",()=>c],553727);var m=e.i(819595),h=e.i(298864),p=e.i(89424);function f(e,t,i){let s=(0,p.isMotionValue)(e)?e:(0,h.motionValue)(e);return s.start((0,m.animateMotionValue)("",s,t,i)),s.animation}e.s(["animateSingleValue",()=>f],857941);var g=e.i(48410);function v(e,t){let i=g.time.now(),r=({timestamp:n})=>{let a=n-i;a>=t&&((0,s.cancelFrame)(r),e(a-t))};return s.frame.setup(r,!0),()=>(0,s.cancelFrame)(r)}e.i(87449),e.s(["delay",()=>v],157504)},22358,190975,896764,473729,429012,e=>{"use strict";var t=e.i(775968),i=e.i(435095),s=e.i(553727),r=e.i(296566),n=e.i(679672),a=e.i(176061),o=e.i(857941),l=e.i(112543),u=e.i(602278),d=e.i(678101),c=e.i(48410),m=e.i(284175),h=e.i(915540),p=e.i(222603),f=e.i(157504),g=e.i(115085);function v(e){return(0,g.isObject)(e)&&"ownerSVGElement"in e}var y=e.i(501464),x=e.i(298864),b=e.i(337980),w=e.i(396203),_=e.i(551458),T=e.i(728080);let A=["TopLeft","TopRight","BottomLeft","BottomRight"],C=A.length,S=e=>"string"==typeof e?parseFloat(e):e,P=e=>"number"==typeof e||w.px.test(e);function M(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let E=k(0,.5,T.circOut),R=k(.5,.95,a.noop);function k(e,t,i){return s=>s<e?0:s>t?1:i((0,_.progress)(e,t,s))}function D(e,t){e.min=t.min,e.max=t.max}function O(e,t){D(e.x,t.x),D(e.y,t.y)}function I(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}var V=e.i(669199),N=e.i(928005);function L(e,t,i,s,r){return e-=t,e=(0,V.scalePoint)(e,1/i,s),void 0!==r&&(e=(0,V.scalePoint)(e,1/r,s)),e}function j(e,t,[i,s,r],n,a){!function(e,t=0,i=1,s=.5,r,n=e,a=e){if(w.percent.test(t)&&(t=parseFloat(t),t=(0,y.mixNumber)(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=(0,y.mixNumber)(n.min,n.max,s);e===n&&(o-=t),e.min=L(e.min,t,i,o,r),e.max=L(e.max,t,i,o,r)}(e,t[i],t[s],t[r],t.scale,n,a)}let B=["x","scaleX","originX"],F=["y","scaleY","originY"];function G(e,t,i,s){j(e.x,t,B,i?i.x:void 0,s?s.x:void 0),j(e.y,t,F,i?i.y:void 0,s?s.y:void 0)}var U=e.i(506854);function q(e){return 0===e.translate&&1===e.scale}function z(e){return q(e.x)&&q(e.y)}function H(e,t){return e.min===t.min&&e.max===t.max}function Z(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $(e,t){return Z(e.x,t.x)&&Z(e.y,t.y)}function W(e){return(0,N.calcLength)(e.x)/(0,N.calcLength)(e.y)}function X(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var Y=e.i(962752);class K{constructor(){this.members=[]}add(e){(0,Y.addUniqueItem)(this.members,e),e.scheduleRender()}remove(e){if((0,Y.removeItem)(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();let s=i.options.layoutDependency,r=e.options.layoutDependency;(void 0===s||void 0===r||s!==r)&&(e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));let{crossfade:n}=e.options;!1===n&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}var Q=e.i(444452);let J=(e,t)=>e.depth-t.depth;class ee{constructor(){this.children=[],this.isDirty=!1}add(e){(0,Y.addUniqueItem)(this.children,e),this.isDirty=!0}remove(e){(0,Y.removeItem)(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J),this.isDirty=!1,this.children.forEach(e)}}var et=e.i(33505),ei=e.i(412381),es=e.i(365438);let er={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},en=["","X","Y","Z"],ea=0;function eo(e,t,i,s){let{latestValues:r}=t;r[e]&&(i[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function el({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(e={},i=t?.()){this.id=ea++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,p.statsBuffer.value&&(er.nodes=er.calculatedTargetDeltas=er.calculatedProjections=0),this.nodes.forEach(ec),this.nodes.forEach(ey),this.nodes.forEach(ex),this.nodes.forEach(em),p.statsBuffer.addProjectionMetrics&&p.statsBuffer.addProjectionMetrics(er)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new ee)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new r.SubscriptionManager),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=v(t)&&!(v(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:i,layout:s,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||i)&&(this.isLayoutDirty=!0),e){let i,s=0,r=()=>this.root.updateBlockedByResize=!1;es.frame.read(()=>{s=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==s&&(s=e,this.root.updateBlockedByResize=!0,i&&i(),i=(0,f.delay)(r,250),ei.globalProjectionState.hasAnimatedSinceResize&&(ei.globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(ev)))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&r&&(i||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:i,layout:s})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||r.getDefaultTransition()||eC,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=r.getProps(),l=!this.targetLayout||!$(this.targetLayout,s),d=!t&&i;if(this.options.layoutRoot||this.resumeFrom||d||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...(0,u.getValueTransition)(n,"layout"),onPlay:a,onComplete:o};(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,d)}else t||ev(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),(0,es.cancelFrame)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eb),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let s=(0,l.getOptimisedAppearId)(i);if(window.MotionHasOptimisedAnimation(s,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",es.frame,!(e||i))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ep);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(ef);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eg),this.nodes.forEach(eu),this.nodes.forEach(ed)):this.nodes.forEach(ef),this.clearAllSnapshots();let e=c.time.now();es.frameData.delta=(0,n.clamp)(0,1e3/60,e-es.frameData.timestamp),es.frameData.timestamp=e,es.frameData.isProcessing=!0,es.frameSteps.update.process(es.frameData),es.frameSteps.preRender.process(es.frameData),es.frameSteps.render.process(es.frameData),es.frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d.microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eh),this.sharedNodes.forEach(ew)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,es.frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){es.frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||(0,N.calcLength)(this.snapshot.measuredBox.x)||(0,N.calcLength)(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=(0,U.createBox)(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!z(this.projectionDelta),i=this.getTransformTemplate(),s=i?i(this.latestValues,""):void 0,r=s!==this.prevTransformTemplateValue;e&&this.instance&&(t||(0,et.hasTransform)(this.latestValues)||r)&&(a(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),s=this.removeElementScroll(i);return e&&(s=this.removeTransform(s)),eM((t=s).x),eM(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return(0,U.createBox)();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eR))){let{scroll:e}=this.root;e&&((0,V.translateAxis)(t.x,e.offset.x),(0,V.translateAxis)(t.y,e.offset.y))}return t}removeElementScroll(e){let t=(0,U.createBox)();if(O(t,e),this.scroll?.wasRoot)return t;for(let i=0;i<this.path.length;i++){let s=this.path[i],{scroll:r,options:n}=s;s!==this.root&&r&&n.layoutScroll&&(r.wasRoot&&O(t,e),(0,V.translateAxis)(t.x,r.offset.x),(0,V.translateAxis)(t.y,r.offset.y))}return t}applyTransform(e,t=!1){let i=(0,U.createBox)();O(i,e);for(let e=0;e<this.path.length;e++){let s=this.path[e];!t&&s.options.layoutScroll&&s.scroll&&s!==s.root&&(0,V.transformBox)(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),(0,et.hasTransform)(s.latestValues)&&(0,V.transformBox)(i,s.latestValues)}return(0,et.hasTransform)(this.latestValues)&&(0,V.transformBox)(i,this.latestValues),i}removeTransform(e){let t=(0,U.createBox)();O(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!(0,et.hasTransform)(i.latestValues))continue;(0,et.hasScale)(i.latestValues)&&i.updateSnapshot();let s=(0,U.createBox)();O(s,i.measurePageBox()),G(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,s)}return(0,et.hasTransform)(this.latestValues)&&G(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==es.frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let i=!!this.resumingFrom||this!==t;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:s,layoutId:r}=this.options;if(!this.layout||!(s||r))return;this.resolvedRelativeTargetAt=es.frameData.timestamp;let n=this.getClosestProjectingParent();n&&this.linkedParentVersion!==n.layoutVersion&&!n.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(n&&n.layout?this.createRelativeTarget(n,this.layout.layoutBox,n.layout.layoutBox):this.removeRelativeTarget()),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target=(0,U.createBox)(),this.targetWithTransforms=(0,U.createBox)()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),(0,N.calcRelativeBox)(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):O(this.target,this.layout.layoutBox),(0,V.applyBoxDelta)(this.target,this.targetDelta)):O(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,n&&!!n.resumingFrom==!!this.resumingFrom&&!n.options.layoutScroll&&n.target&&1!==this.animationProgress?this.createRelativeTarget(n,this.target,n.target):this.relativeParent=this.relativeTarget=void 0),p.statsBuffer.value&&er.calculatedTargetDeltas++)}getClosestProjectingParent(){if(!(!this.parent||(0,et.hasScale)(this.parent.latestValues)||(0,et.has2DTranslate)(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,i){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=(0,U.createBox)(),this.relativeTargetOrigin=(0,U.createBox)(),(0,N.calcRelativePosition)(this.relativeTargetOrigin,t,i),O(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,i=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(i=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===es.frameData.timestamp&&(i=!1),i)return;let{layout:s,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(s||r))return;O(this.layoutCorrected,this.layout.layoutBox);let n=this.treeScale.x,a=this.treeScale.y;(0,V.applyTreeDeltas)(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=(0,U.createBox)());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(I(this.prevProjectionDelta.x,this.projectionDelta.x),I(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),(0,N.calcBoxDelta)(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===n&&this.treeScale.y===a&&X(this.projectionDelta.x,this.prevProjectionDelta.x)&&X(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),p.statsBuffer.value&&er.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=(0,U.createDelta)(),this.projectionDelta=(0,U.createDelta)(),this.projectionDeltaWithTransform=(0,U.createDelta)()}setAnimationOrigin(e,t=!1){let i,s=this.snapshot,r=s?s.latestValues:{},n={...this.latestValues},a=(0,U.createDelta)();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=(0,U.createBox)(),l=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),d=!u||u.members.length<=1,c=!!(l&&!d&&!0===this.options.crossfade&&!this.path.some(eA));this.animationProgress=0,this.mixTargetDelta=t=>{let s=t/1e3;if(e_(a.x,e.x,s),e_(a.y,e.y,s),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,m,h,p,f,g;(0,N.calcRelativePosition)(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,p=this.relativeTargetOrigin,f=o,g=s,eT(h.x,p.x,f.x,g),eT(h.y,p.y,f.y,g),i&&(u=this.relativeTarget,m=i,H(u.x,m.x)&&H(u.y,m.y))&&(this.isProjectionDirty=!1),i||(i=(0,U.createBox)()),O(i,this.relativeTarget)}l&&(this.animationValues=n,function(e,t,i,s,r,n){r?(e.opacity=(0,y.mixNumber)(0,i.opacity??1,E(s)),e.opacityExit=(0,y.mixNumber)(t.opacity??1,0,R(s))):n&&(e.opacity=(0,y.mixNumber)(t.opacity??1,i.opacity??1,s));for(let r=0;r<C;r++){let n=`border${A[r]}Radius`,a=M(t,n),o=M(i,n);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||P(a)===P(o)?(e[n]=Math.max((0,y.mixNumber)(S(a),S(o),s),0),(w.percent.test(o)||w.percent.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||i.rotate)&&(e.rotate=(0,y.mixNumber)(t.rotate||0,i.rotate||0,s))}(n,r,this.latestValues,s,c,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&((0,es.cancelFrame)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=es.frame.update(()=>{ei.globalProjectionState.hasAnimatedSinceResize=!0,h.activeAnimations.layout++,this.motionValue||(this.motionValue=(0,x.motionValue)(0)),this.currentAnimation=(0,o.animateSingleValue)(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{h.activeAnimations.layout--},onComplete:()=>{h.activeAnimations.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:s,latestValues:r}=e;if(t&&i&&s){if(this!==e&&this.layout&&s&&eE(this.options.animationType,this.layout.layoutBox,s.layoutBox)){i=this.target||(0,U.createBox)();let t=(0,N.calcLength)(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let s=(0,N.calcLength)(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+s}O(t,i),(0,V.transformBox)(t,r),(0,N.calcBoxDelta)(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new K),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let s=this.getStack();s&&s.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let s={};i.z&&eo("z",e,s,this.animationValues);for(let t=0;t<en.length;t++)eo(`rotate${en[t]}`,e,s,this.animationValues),eo(`skew${en[t]}`,e,s,this.animationValues);for(let t in e.render(),s)e.setStaticValue(t,s[t]),this.animationValues&&(this.animationValues[t]=s[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let i=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=(0,b.resolveMotionValue)(t?.pointerEvents)||"",e.transform=i?i(this.latestValues,""):"none";return}let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=(0,b.resolveMotionValue)(t?.pointerEvents)||""),this.hasProjected&&!(0,et.hasTransform)(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1);return}e.visibility="";let r=s.animationValues||s.latestValues;this.applyTransformsToTarget();let n=function(e,t,i){let s="",r=e.x.translate/t.x,n=e.y.translate/t.y,a=i?.z||0;if((r||n||a)&&(s=`translate3d(${r}px, ${n}px, ${a}px) `),(1!==t.x||1!==t.y)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:n,skewX:a,skewY:o}=i;e&&(s=`perspective(${e}px) ${s}`),t&&(s+=`rotate(${t}deg) `),r&&(s+=`rotateX(${r}deg) `),n&&(s+=`rotateY(${n}deg) `),a&&(s+=`skewX(${a}deg) `),o&&(s+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(s+=`scale(${o}, ${l})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);i&&(n=i(r,n)),e.transform=n;let{x:a,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,s.animationValues?e.opacity=s===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=s===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0,m.scaleCorrectors){if(void 0===r[t])continue;let{correct:i,applyTo:a,isCSSVariable:o}=m.scaleCorrectors[t],l="none"===n?r[t]:i(r[t],s);if(a){let t=a.length;for(let i=0;i<t;i++)e[a[i]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=s===this?(0,b.resolveMotionValue)(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(ep),this.root.sharedNodes.clear()}}}function eu(e){e.updateLayout()}function ed(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:i,measuredBox:s}=e.layout,{animationType:r}=e.options,n=t.source!==e.layout.source;"size"===r?(0,Q.eachAxis)(e=>{let s=n?t.measuredBox[e]:t.layoutBox[e],r=(0,N.calcLength)(s);s.min=i[e].min,s.max=s.min+r}):eE(r,t.layoutBox,i)&&(0,Q.eachAxis)(s=>{let r=n?t.measuredBox[s]:t.layoutBox[s],a=(0,N.calcLength)(i[s]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+a)});let a=(0,U.createDelta)();(0,N.calcBoxDelta)(a,i,t.layoutBox);let o=(0,U.createDelta)();n?(0,N.calcBoxDelta)(o,e.applyTransform(s,!0),t.measuredBox):(0,N.calcBoxDelta)(o,i,t.layoutBox);let l=!z(a),u=!1;if(!e.resumeFrom){let s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){let{snapshot:r,layout:n}=s;if(r&&n){let a=(0,U.createBox)();(0,N.calcRelativePosition)(a,t.layoutBox,r.layoutBox);let o=(0,U.createBox)();(0,N.calcRelativePosition)(o,i,n.layoutBox),$(a,o)||(u=!0),s.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ec(e){p.statsBuffer.value&&er.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function em(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eh(e){e.clearSnapshot()}function ep(e){e.clearMeasurements()}function ef(e){e.isLayoutDirty=!1}function eg(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ev(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ey(e){e.resolveTargetDelta()}function ex(e){e.calcProjection()}function eb(e){e.resetSkewAndRotation()}function ew(e){e.removeLeadSnapshot()}function e_(e,t,i){e.translate=(0,y.mixNumber)(t.translate,0,i),e.scale=(0,y.mixNumber)(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function eT(e,t,i,s){e.min=(0,y.mixNumber)(t.min,i.min,s),e.max=(0,y.mixNumber)(t.max,i.max,s)}function eA(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let eC={duration:.45,ease:[.4,0,.1,1]},eS=e=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),eP=eS("applewebkit/")&&!eS("chrome/")?Math.round:a.noop;function eM(e){e.min=eP(e.min),e.max=eP(e.max)}function eE(e,t,i){return"position"===e||"preserve-aspect"===e&&!(0,N.isNear)(W(t),W(i),.2)}function eR(e){return e!==e.root&&e.scroll?.wasRoot}var ek=e.i(274003);let eD=el({attachResizeListener:(e,t)=>(0,ek.addDomEvent)(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),eO={current:void 0},eI=el({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!eO.current){let e=new eD({});e.mount(window),e.setOptions({layoutScroll:!0}),eO.current=e}return eO.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});e.s(["HTMLProjectionNode",()=>eI],190975);let eV={pan:{Feature:i.PanGesture},drag:{Feature:t.DragGesture,ProjectionNode:eI,MeasureLayout:s.MeasureLayout}};e.s(["drag",()=>eV],22358);var eN=e.i(564201),eL=e.i(684854);function ej(e,t){let i=function(e,t,i){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,i=(void 0)??t.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(e=>null!=e)}(e),s=new AbortController;return[i,{passive:!0,...t,signal:s.signal},()=>s.abort()]}function eB(e){return!("touch"===e.pointerType||(0,eL.isDragActive)())}e.s(["setupGesture",()=>ej],896764);var eF=e.i(789850);function eG(e,t,i){let{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover","Start"===i);let r=s["onHover"+i];r&&es.frame.postRender(()=>r(t,(0,eF.extractEventInfo)(t)))}class eU extends eN.Feature{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[s,r,n]=ej(e,i),a=e=>{if(!eB(e))return;let{target:i}=e,s=t(i,e);if("function"!=typeof s||!i)return;let n=e=>{eB(e)&&(s(e),i.removeEventListener("pointerleave",n))};i.addEventListener("pointerleave",n,r)};return s.forEach(e=>{e.addEventListener("pointerenter",a,r)}),n}(e,(e,t)=>(eG(this.node,t,"Start"),e=>eG(this.node,e,"End"))))}unmount(){}}e.s(["HoverGesture",()=>eU],473729);var eq=eN,ez=e.i(460325);class eH extends eq.Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=(0,ez.pipe)((0,ek.addDomEvent)(this.node.current,"focus",()=>this.onFocus()),(0,ek.addDomEvent)(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}e.s(["FocusGesture",()=>eH],429012)},408302,e=>{"use strict";var t=e.i(328050),i=e.i(321674),s=e.i(684104),r=e.i(22358),n=e.i(473729),a=e.i(429012),o=e.i(564201),l=e.i(82075),u=e.i(684854);let d=(e,t)=>!!t&&(e===t||d(e,t.parentElement));var c=e.i(380476),m=e.i(896764),h=e.i(770993);let p=new WeakSet;function f(e){return t=>{"Enter"===t.key&&e(t)}}function g(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function v(e){return(0,c.isPrimaryPointer)(e)&&!(0,u.isDragActive)()}var y=e.i(365438),x=e.i(789850);function b(e,t,i){let{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap","Start"===i);let r=s["onTap"+("End"===i?"":i)];r&&y.frame.postRender(()=>r(t,(0,x.extractEventInfo)(t)))}class w extends o.Feature{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[s,r,n]=(0,m.setupGesture)(e,i),a=e=>{let s=e.currentTarget;if(!v(e))return;p.add(s);let n=t(s,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),p.has(s)&&p.delete(s),v(e)&&"function"==typeof n&&n(e,{success:t})},o=e=>{a(e,s===window||s===document||i.useGlobalTarget||d(s,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return s.forEach(e=>{(i.useGlobalTarget?window:e).addEventListener("pointerdown",a,r),(0,l.isHTMLElement)(e)&&(e.addEventListener("focus",e=>((e,t)=>{let i=e.currentTarget;if(!i)return;let s=f(()=>{if(p.has(i))return;g(i,"down");let e=f(()=>{g(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>g(i,"cancel"),t)});i.addEventListener("keydown",s,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),t)})(e,r)),(0,h.isElementKeyboardAccessible)(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),n}(e,(e,t)=>(b(this.node,t,"Start"),(e,{success:t})=>b(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}var _=o;let T=new WeakMap,A=new WeakMap,C=e=>{let t=T.get(e.target);t&&t(e)},S=e=>{e.forEach(C)},P={some:0,all:1};class M extends _.Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:i={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:a}=i,o={root:s?s.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:P[n]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,a&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:s}=this.node.getProps(),r=t?i:s;r&&r(e)};return e=this.node.current,t=function({root:e,...t}){let i=e||document;A.has(i)||A.set(i,{});let s=A.get(i),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(S,{root:e,...t})),s[r]}(o),T.set(e,l),t.observe(e),()=>{T.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}let E={inView:{Feature:M},tap:{Feature:w},focus:{Feature:a.FocusGesture},hover:{Feature:n.HoverGesture}};var R=e.i(190975),k=e.i(553727);let D={layout:{ProjectionNode:R.HTMLProjectionNode,MeasureLayout:k.MeasureLayout}},O={...s.animations,...E,...r.drag,...D},I=(0,i.createMotionProxy)(O,t.createDomVisualElement);e.s(["motion",()=>I],408302)},22672,e=>{"use strict";let t={"1/1":"aspect-1/1-box","4/5":"aspect-4/5-box","5/4":"aspect-5/4-box","4/3":"aspect-4/3-box","3/2":"aspect-3/2-box","8/5":"aspect-8/5-box","16/9":"aspect-16/9-box","2/1":"aspect-2/1-box",natural:"aspect-natural-box"};function i(e){return t[e.replace(/\s+/g,"").replace(":","/")]||null}function s(e){if("string"==typeof e)return i(e)||t["1/1"];let s=[];for(let t of["base","sm","md","lg","xl","2xl"]){let r=e[t];if(!r)continue;let n=i(r);n&&("base"===t?s.push(n):s.push(`${t}:${n}`))}return s.length?s.join(" "):t["1/1"]}e.s(["buildAspectClasses",()=>s])},740719,e=>{"use strict";var t=e.i(855527),i=e.i(280406),s=e.i(433131),r=e.i(22672);let n=[{label:"Auto",tag:(0,s.msg)("Suggested")},{label:"Composer 1"},{label:"GPT-5.2",tag:(0,s.msg)("High Fast")},{label:"Claude Sonnet 4.5"},{label:"Claude Opus 4.5"},{label:"Gemini 3 Pro"},{label:"Grok Code"}];function a(e){let a,o,l,u,d,c,m=(0,i.c)(49),{models:h,currentModel:p,highlightIndex:f,onHighlightChange:g,onSelect:v,className:y,container:x,embedded:b,role:w,ariaLabel:_,aspectRatio:T,foregroundMaxWidth:A,height:C}=e,S=void 0===h?n:h,P=void 0===b||b,M=void 0===w?"menu":w,E=void 0===_?"Model menu":_,R=void 0===T?"1/1":T,k=void 0===A?320:A,D=(0,s.useMessages)();m[0]===Symbol.for("react.memo_cache_sentinel")?(a=function(e){return"number"==typeof e?`${e}px`:e},m[0]=a):a=m[0];let O=a;if(m[1]!==p||m[2]!==f||m[3]!==D||m[4]!==S||m[5]!==g||m[6]!==v||m[7]!==M){let e;m[9]!==p||m[10]!==f||m[11]!==D||m[12]!==g||m[13]!==v||m[14]!==M?(e=(e,i)=>{let s=p===e.label,r="number"==typeof f&&i===f;return(0,t.jsxs)("button",{type:"button",className:(r?"text-theme-text ":"text-theme-text-sec ")+"px-g0.75 type-product-lg py-v3/12 flex w-full items-center rounded-xs text-left"+(s?"bg-theme-card-02-hex":""),style:r?{backgroundColor:"var(--color-theme-card-hover-hex)"}:void 0,onMouseEnter:()=>g?.(i),onClick:()=>v?.(e.label),role:"menu"===M?"menuitem":void 0,children:[(0,t.jsxs)("span",{className:"flex flex-1 items-baseline gap-2",children:[(0,t.jsx)("span",{className:"text-theme-text",children:e.label}),e.tag?(0,t.jsx)("span",{className:"text-theme-text-tertiary type-product-sm",children:D(e.tag)}):null]}),s?(0,t.jsx)("span",{className:"font-feature-case ml-2",children:"✓"}):null]},e.label)},m[9]=p,m[10]=f,m[11]=D,m[12]=g,m[13]=v,m[14]=M,m[15]=e):e=m[15],o=S.map(e),m[1]=p,m[2]=f,m[3]=D,m[4]=S,m[5]=g,m[6]=v,m[7]=M,m[8]=o}else o=m[8];m[16]!==o?(l=(0,t.jsx)("div",{className:"p-1",children:o}),m[16]=o,m[17]=l):l=m[17];let I=l;if(!(void 0===x||x))return I;if(P){let e,i,s,n,a,o,l;m[18]!==R?(e=(0,r.buildAspectClasses)(R),m[18]=R,m[19]=e):e=m[19];let u=(y?y+" ":"")+(e||"");m[20]!==C?(i=C&&{height:O(C)},m[20]=C,m[21]=i):i=m[21],m[22]!==i?(s={position:"relative",width:"100%",backgroundColor:"transparent",...i},m[22]=i,m[23]=s):s=m[23];let d=P?"var(--shadow-outline-theme)":"var(--shadow-outline-theme), 0 18px 36px -18px rgba(0,0,0,0.28)";m[24]!==k?(n=O(k),m[24]=k,m[25]=n):n=m[25];let c=`min(83.333333%, ${n})`;return m[26]!==d||m[27]!==c?(a={boxShadow:d,minWidth:180,maxWidth:c,width:"100%"},m[26]=d,m[27]=c,m[28]=a):a=m[28],m[29]!==E||m[30]!==I||m[31]!==M||m[32]!==a?(o=(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"bg-theme-card-hex text-theme-text min-w-[180px] overflow-hidden rounded-md",role:M,"aria-label":E,style:a,children:I})}),m[29]=E,m[30]=I,m[31]=M,m[32]=a,m[33]=o):o=m[33],m[34]!==u||m[35]!==s||m[36]!==o?(l=(0,t.jsx)("div",{className:u,style:s,children:o}),m[34]=u,m[35]=s,m[36]=o,m[37]=l):l=m[37],l}let V=`bg-theme-card-hex text-theme-text min-w-[180px] overflow-hidden rounded-md ${y??""}`,N=P?"var(--shadow-outline-theme)":"var(--shadow-outline-theme), 0 18px 36px -18px rgba(0,0,0,0.28)";return m[38]!==C?(u=C&&{height:O(C)},m[38]=C,m[39]=u):u=m[39],m[40]!==N||m[41]!==u?(d={boxShadow:N,minWidth:180,...u},m[40]=N,m[41]=u,m[42]=d):d=m[42],m[43]!==E||m[44]!==I||m[45]!==M||m[46]!==V||m[47]!==d?(c=(0,t.jsx)("div",{className:V,role:M,"aria-label":E,style:d,children:I}),m[43]=E,m[44]=I,m[45]=M,m[46]=V,m[47]=d,m[48]=c):c=m[48],c}e.s(["DEFAULT_MODELS",0,n,"default",()=>a])},651466,e=>{"use strict";var t=e.i(855527),i=e.i(813130),s=e.i(94884);let r=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M200,112H56l72-72Z",opacity:"0.2"}),i.createElement("path",{d:"M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"}))]]),n=i.forwardRef((e,t)=>i.createElement(s.default,{ref:t,...e,weights:r}));n.displayName="ArrowUpIcon";let a=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M128,20a108,108,0,0,0,0,216c22.27,0,45.69-6.73,62.64-18a12,12,0,1,0-13.29-20c-13,8.63-31.89,14-49.35,14a84,84,0,1,1,84-84c0,9.29-1.67,17.08-4.69,21.95-2.64,4.24-6,6.05-11.31,6.05s-8.67-1.81-11.31-6.05c-3-4.87-4.69-12.66-4.69-21.95V88a12,12,0,0,0-23.49-3.46,52,52,0,1,0,8.86,79.57C172.3,174.3,182.81,180,196,180c24.67,0,40-19.92,40-52A108.12,108.12,0,0,0,128,20Zm0,136a28,28,0,1,1,28-28A28,28,0,0,1,128,156Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),i.createElement("path",{d:"M128,24a104,104,0,0,0,0,208c21.51,0,44.1-6.48,60.43-17.33a8,8,0,0,0-8.86-13.33C166,210.38,146.21,216,128,216a88,88,0,1,1,88-88c0,26.45-10.88,32-20,32s-20-5.55-20-32V88a8,8,0,0,0-16,0v4.26a48,48,0,1,0,5.93,65.1c6,12,16.35,18.64,30.07,18.64,22.54,0,36-17.94,36-48A104.11,104.11,0,0,0,128,24Zm0,136a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M232,128c0,.51,0,1,0,1.52-.34,14.26-5.63,30.48-28,30.48-23.14,0-28-17.4-28-32V88a8,8,0,0,0-8.53-8A8.17,8.17,0,0,0,160,88.27v4a48,48,0,1,0,6.73,64.05,40.19,40.19,0,0,0,3.38,5C175.48,168,185.71,176,204,176a54.81,54.81,0,0,0,9.22-.75,4,4,0,0,1,4.09,6A104.05,104.05,0,0,1,125.91,232C71.13,230.9,26.2,186.86,24.08,132.11A104,104,0,1,1,232,128ZM96,128a32,32,0,1,0,32-32A32,32,0,0,0,96,128Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M128,26a102,102,0,0,0,0,204c21.13,0,43.31-6.35,59.32-17a6,6,0,0,0-6.65-10c-13.9,9.25-34.09,15-52.67,15a90,90,0,1,1,90-90c0,29.58-13.78,34-22,34s-22-4.42-22-34V88a6,6,0,0,0-12,0v9a46,46,0,1,0,4.34,56.32C171.76,166.6,182,174,196,174c21.29,0,34-17.2,34-46A102.12,102.12,0,0,0,128,26Zm0,136a34,34,0,1,1,34-34A34,34,0,0,1,128,162Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M128,24a104,104,0,0,0,0,208c21.51,0,44.1-6.48,60.43-17.33a8,8,0,0,0-8.86-13.33C166,210.38,146.21,216,128,216a88,88,0,1,1,88-88c0,26.45-10.88,32-20,32s-20-5.55-20-32V88a8,8,0,0,0-16,0v4.26a48,48,0,1,0,5.93,65.1c6,12,16.35,18.64,30.07,18.64,22.54,0,36-17.94,36-48A104.11,104.11,0,0,0,128,24Zm0,136a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M128,28a100,100,0,0,0,0,200c20.76,0,42.52-6.23,58.21-16.66a4,4,0,1,0-4.43-6.67C167.35,214.27,147.24,220,128,220a92,92,0,1,1,92-92c0,31.32-15,36-24,36s-24-4.68-24-36V88a4,4,0,0,0-8,0v14.75a44,44,0,1,0,2.82,45.94C171.46,163.58,181.66,172,196,172c20,0,32-16.45,32-44A100.11,100.11,0,0,0,128,28Zm0,136a36,36,0,1,1,36-36A36,36,0,0,1,128,164Z"}))]]),o=i.forwardRef((e,t)=>i.createElement(s.default,{ref:t,...e,weights:a}));o.displayName="AtIcon";var l=e.i(786245),u=e.i(690723),d=e.i(408302),c=e.i(740719);function m({open:s,currentModel:r,onSelect:n,onClose:a,className:o,anchorEl:l,onEntered:m}){let h,p=(0,i.useRef)(null),f=(0,i.useMemo)(()=>c.DEFAULT_MODELS,[]),[g,v]=(0,i.useState)(()=>{let e=f.findIndex(e=>e.label===r);return e>=0?e:1}),[y,x]=(0,i.useState)(null),b=(h=l?.getBoundingClientRect?.())?{top:h.bottom+8,left:h.left}:{top:-9999,left:-9999},[w,_]=(0,i.useState)(b),[T,A]=(0,i.useState)(!1),[C,S]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e.A(765596).then(e=>{x(()=>e.createPortal)})},[]);let P=(0,i.useCallback)((e=!0)=>{if(!l)return;let t=l.getBoundingClientRect(),i=p.current,s=i?i.offsetHeight:0,r=e&&s?t.top-8-s:t.bottom+8;e&&s&&r<8&&(r=t.bottom+8),_({top:r,left:t.left})},[l]);(0,i.useLayoutEffect)(()=>{if(!s){A(!1),S(!1);return}A(!0),S(!0),_(function(){if(!l)return{top:-9999,left:-9999};let e=l.getBoundingClientRect();return{top:e.bottom+8,left:e.left}}());let e=window.requestAnimationFrame(()=>{P(!0),S(!1)});return()=>window.cancelAnimationFrame(e)},[s,l,r]),(0,i.useEffect)(()=>{if(!s)return;let e=f.findIndex(e=>e.label===r);v(e>=0?e:1)},[s,r,f]),(0,i.useEffect)(()=>{if(s)return window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0)};function e(){P(!0)}},[s,P]),(0,i.useEffect)(()=>{if(s)return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)};function e(e){if(!p.current)return;let t=e.target,i=!!l&&l.contains(t);p.current.contains(t)||i||a()}function t(e){if("Escape"===e.key&&a(),"ArrowDown"===e.key&&(e.preventDefault(),v(e=>(e+1)%f.length)),"ArrowUp"===e.key&&(e.preventDefault(),v(e=>(e-1+f.length)%f.length)),"Enter"===e.key){e.preventDefault();let t=f[g];t&&(n(t.label),a())}}},[s,f,g,a,n,l]);let M=(0,t.jsx)(u.AnimatePresence,{children:s&&T?(0,t.jsx)(d.motion.div,{ref:p,initial:{opacity:0,scale:.98,y:6},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:-4},transition:{duration:.12,ease:"easeOut"},onAnimationComplete:()=>{try{m?.()}catch{}},className:"fixed z-[99999] "+(o||""),style:{top:w.top,left:w.left,visibility:C?"hidden":"visible"},children:(0,t.jsx)(c.default,{models:f,currentModel:r,highlightIndex:g,onHighlightChange:v,onSelect:e=>{n(e),a()},embedded:!1})},"model-menu"):null});return"u"<typeof document||!y?M:y(M,document.body)}var h=e.i(280406);function p(e){let i,s,r=(0,h.c)(3),{className:n}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("path",{d:"M7.00342 9.62646C6.86377 9.62646 6.74023 9.57275 6.63818 9.4707L2.48096 5.2168C2.38965 5.12012 2.33594 5.00195 2.33594 4.86768C2.33594 4.58838 2.54541 4.37354 2.82471 4.37354C2.96436 4.37354 3.08789 4.42725 3.17383 4.51318L7.00342 8.42334L10.8276 4.51318C10.9189 4.42725 11.0425 4.37354 11.1768 4.37354C11.4561 4.37354 11.6655 4.58838 11.6655 4.86768C11.6655 5.00195 11.6118 5.12012 11.5205 5.21143L7.36328 9.4707C7.27197 9.57275 7.1377 9.62646 7.00342 9.62646Z"}),r[0]=i):i=r[0],r[1]!==n?(s=(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:n,children:[i," "]}),r[1]=n,r[2]=s):s=r[2],s}function f(e){let i,s,r=(0,h.c)(3),{className:n}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("path",{d:"M0.283203 7C0.283203 5.10059 1.49902 3.85547 3.2959 3.85547C4.23828 3.85547 5.03906 4.25098 5.87891 5.06641L6.99707 6.14551L8.11523 5.06641C8.95996 4.25098 9.76074 3.85547 10.7031 3.85547C12.4951 3.85547 13.7158 5.10059 13.7158 7C13.7158 8.89941 12.4951 10.1445 10.7031 10.1445C9.76074 10.1445 8.95996 9.74902 8.11523 8.93359L6.99707 7.84961L5.87891 8.93359C5.03906 9.74902 4.23828 10.1445 3.2959 10.1445C1.49902 10.1445 0.283203 8.89941 0.283203 7ZM1.52832 7C1.52832 8.15723 2.24121 8.89941 3.2959 8.89941C3.88184 8.89941 4.40918 8.61133 5.00977 8.04492L6.12305 7L5.00977 5.9502C4.40918 5.38379 3.88184 5.10059 3.2959 5.10059C2.24121 5.10059 1.52832 5.84277 1.52832 7ZM7.87598 7L8.98926 8.04492C9.58984 8.61133 10.1172 8.89941 10.7031 8.89941C11.7578 8.89941 12.4707 8.15723 12.4707 7C12.4707 5.84277 11.7578 5.10059 10.7031 5.10059C10.1172 5.10059 9.58984 5.38379 8.98926 5.9502L7.87598 7Z"}),r[0]=i):i=r[0],r[1]!==n?(s=(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:n,children:i}),r[1]=n,r[2]=s):s=r[2],s}function g({onSend:e,placeholder:s,defaultValue:r,autoFocus:a,className:u,onClose:d,frameless:c,showContext:h=!1,noShadow:g=!1,textSizePx:v=13,extraBottomPadding:y=0}){let x=(0,l.useGT)(),[b,w]=(0,i.useState)(r??""),[_,T]=(0,i.useState)(!1),[A,C]=(0,i.useState)("GPT-5.2"),S=(0,i.useRef)(null),P=(0,i.useRef)(null),M=(0,l.useMessages)();function E(t){t.preventDefault();let i=b.trim();if(i){e(i),w("");try{d?.()}catch{}}}(0,i.useEffect)(()=>{r&&w(r)},[]),(0,i.useEffect)(()=>{let e=P.current;if(!e)return;e.style.height="auto";let t=e.scrollHeight||0,i=200;try{let t=window.getComputedStyle(e),s=t?.maxHeight;if(s&&s.endsWith("px")){let e=Number.parseFloat(s);Number.isNaN(e)||(i=e)}}catch{}let s=Math.min(t,i);s>0&&(e.style.height=`${s}px`);let r=t>i+1;e.style.overflowY=r?"auto":"hidden",r?e.classList.add("thin-scrollbar"):e.classList.remove("thin-scrollbar")},[b]),(0,i.useEffect)(()=>{if(a){P.current?.focus();try{let e=P.current;if(e){let t=e.value.length;e.setSelectionRange(t,t)}}catch{}}},[a]);let R=(0,t.jsxs)("form",{onSubmit:E,className:"flex flex-col",children:[h&&(0,t.jsx)("div",{className:"flex items-center gap-1 px-2 pt-2",children:(0,t.jsx)(l.T,{children:(0,t.jsxs)("button",{type:"button",className:"border-theme-border-02 hover:bg-theme-bg-hover type-product-sm flex items-center gap-0.25 rounded border px-1 py-0.75",children:[(0,t.jsx)(o,{size:12,className:"text-theme-text-sec"}),(0,t.jsx)("span",{className:"text-theme-text-sec px-0.5",children:"Add Context"})]})})}),(0,t.jsx)("textarea",{ref:P,value:M(b),onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E(e)),"Escape"===e.key&&d?.()},name:"message",placeholder:M(s)||x("Plan, search, build anything..."),className:"text-theme-text type-product-base max-h-[200px] w-full resize-none bg-transparent px-2 pt-2 pb-1.5 outline-none",rows:1,spellCheck:!1,autoCorrect:"off",style:{boxSizing:"border-box",fontSize:`${v}px`,marginBottom:y?`${y}px`:void 0}}),(0,t.jsx)("div",{className:"px-2 py-2 pt-1",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.T,{children:(0,t.jsxs)("button",{type:"button",className:"bg-theme-card-03-hex type-product-sm-medium text-theme-text-sec flex items-center gap-1 rounded-full px-2 py-0.75",children:[(0,t.jsx)(f,{className:"opacity-60"}),(0,t.jsx)("span",{children:"Agent"})]})}),(0,t.jsxs)("button",{ref:S,type:"button",className:"text-theme-text-sec hover:text-theme-text type-product-sm flex cursor-pointer items-center gap-0.5 rounded-md bg-transparent py-0.75",onClick:()=>T(e=>!e),children:[(0,t.jsx)("span",{children:A}),(0,t.jsx)(p,{className:"h-3 w-3 opacity-60"})]}),(0,t.jsx)(m,{open:_,currentModel:A,onSelect:e=>C(e),onClose:()=>T(!1),anchorEl:S.current})]}),(0,t.jsx)("button",{"aria-label":"Send message",type:"submit",className:`flex h-5 w-5 items-center justify-center rounded-full transition-all duration-150 ${b.trim()?"bg-theme-button-bg text-theme-button-text":"bg-theme-card-04-hex text-theme-text-sec"}`,onMouseEnter:e=>{b.trim()&&(e.currentTarget.style.backgroundColor="var(--color-theme-button-hover-bg)",e.currentTarget.style.color="var(--color-theme-button-hover-text)")},onMouseLeave:e=>{b.trim()&&(e.currentTarget.style.backgroundColor="var(--color-theme-button-bg)",e.currentTarget.style.color="var(--color-theme-button-text)")},disabled:!b.trim(),children:(0,t.jsx)(n,{size:12,weight:"bold"})})]})})]});return c?(0,t.jsx)("div",{className:u||"",children:R}):(0,t.jsx)("div",{className:u||"",children:(0,t.jsx)("div",{className:`bg-theme-card-02-hex border-theme-border-02 focus-within:border-theme-primary overflow-hidden rounded-xl border transition-all duration-150 ${g?"":"shadow-xl"}`,children:R})})}e.s(["default",()=>g],651466)},415730,e=>{"use strict";var t=e.i(855527),i=e.i(280406);function s(e){let s,r,n=(0,i.c)(3),{className:a}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M2.58789 11.9146C1.46533 11.9146 0.901367 11.3613 0.901367 10.2495V3.70215C0.901367 2.62256 1.44385 2.08545 2.38379 2.08545H3.91455C4.44629 2.08545 4.72021 2.18213 5.07471 2.48291L5.40234 2.75146C5.6709 2.98242 5.89111 3.06836 6.25635 3.06836H11.4126C12.5298 3.06836 13.0991 3.62695 13.0991 4.7334V10.2495C13.0991 11.356 12.5352 11.9146 11.5737 11.9146H2.58789ZM1.76611 3.75049V5.08789H12.2344V4.78174C12.2344 4.22314 11.9282 3.93311 11.3965 3.93311H6.03076C5.49902 3.93311 5.21436 3.83105 4.86523 3.54102L4.5376 3.26709C4.26367 3.03613 4.04883 2.94482 3.69434 2.94482H2.56104C2.04541 2.94482 1.76611 3.21875 1.76611 3.75049ZM2.59863 11.0498H11.3965C11.9282 11.0498 12.2344 10.7651 12.2344 10.2119V5.89893H1.76611V10.2065C1.76611 10.7651 2.06152 11.0498 2.59863 11.0498Z"}),n[0]=s):s=n[0],n[1]!==a?(r=(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:a,children:s}),n[1]=a,n[2]=r):r=n[2],r}e.s(["default",()=>s])}]);