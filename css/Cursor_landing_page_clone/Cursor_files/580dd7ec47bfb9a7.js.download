(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,152831,e=>{"use strict";function t(e){switch(e){case"thinking":return 600;case"search":return 500;case"read":return 400;default:return 150}}function r(e){return"thinking"===e||"search"===e||"read"===e}e.s(["getDelayForRole",()=>t,"isToolRole",()=>r])},449008,e=>{"use strict";var t=e.i(855527),r=e.i(280406);function n(e){let n,i,a=(0,r.c)(3),{className:s}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("path",{d:"M4.14746 12.7578C3.03564 12.7578 2.48242 12.1992 2.48242 11.0767V2.92871C2.48242 1.81152 3.04102 1.24219 4.14746 1.24219H6.69873C7.30029 1.24219 7.63867 1.3335 8.04688 1.75244L11.0063 4.76562C11.436 5.20605 11.5166 5.50684 11.5166 6.19971V11.0767C11.5166 12.1938 10.9634 12.7578 9.85156 12.7578H4.14746ZM4.18506 11.8931H9.80859C10.3672 11.8931 10.6519 11.5977 10.6519 11.0605V6.2373H7.59033C6.91895 6.2373 6.58057 5.9043 6.58057 5.22754V2.10693H4.19043C3.63184 2.10693 3.34717 2.41309 3.34717 2.94482V11.0605C3.34717 11.5977 3.63184 11.8931 4.18506 11.8931ZM7.68701 5.42627H10.4854L7.3916 2.27344V5.12549C7.3916 5.34033 7.47217 5.42627 7.68701 5.42627Z"}),a[0]=n):n=a[0],a[1]!==s?(i=(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:s,children:n}),a[1]=s,a[2]=i):i=a[2],i}e.s(["default",()=>n])},919473,e=>{"use strict";var t=e.i(855527),r=e.i(690723),n=e.i(408302),i=e.i(786245),a=e.i(813130),s=e.i(651466),l=e.i(152831),o=e.i(449008),d=e.i(928402);let c={initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6}};function h(e){let r=e.split("\n");return r.map((e,n)=>{if(!e.trim()){r[n-1]?.trim(),r[n+1]?.trim();let e=/^(\s*)(•|\*|-)\s+/.test(r[n-1]||""),i=/^(\s*)(•|\*|-)\s+/.test(r[n+1]||"");return e||i?null:(0,t.jsx)("br",{},`br-${n}`)}let i=e.match(/^(\s*)(•|\*|-)\s+(.*)$/);if(i){let[,e,,a]=i,s=Math.floor(e.length/2),l=u(a,n),o=r.slice(n+1).find(e=>(e||"").trim()),d=!o||!/^(\s*)(•|\*|-)\s+/.test(o);return(0,t.jsxs)("div",{className:`flex items-start gap-1 py-1 ${d?"pb-2":""}`,style:{paddingLeft:16*s+"px"},children:[(0,t.jsx)("span",{className:"text-theme-text-sec",children:"•"}),(0,t.jsx)("div",{className:"flex-1",children:l})]},`line-${n}`)}let a=u(e,n);return(0,t.jsx)("div",{className:"min-h-[1.5em]",children:a},`line-${n}`)}).filter(Boolean)}function u(e,r){return e.split(/(`[^`]+`)/g).map((e,n)=>{let i;if(e.startsWith("`")&&e.endsWith("`"))return(0,t.jsx)("code",{className:"bg-theme-card-04-hex type-product-base-mono text-theme-text rounded-2xs px-0.5",children:e.slice(1,-1)},`${r}-${n}`);let s=(e,r)=>{let n=e;return n=(n=n.split(/(\*\*[^*]+\*\*)/g).map((e,n)=>e.startsWith("**")&&e.endsWith("**")?(0,t.jsx)("span",{className:"font-semibold",children:e.slice(2,-2)},`${r}-b-${n}`):e)).map((e,n)=>"string"==typeof e?e.split(/(\*[^*]+\*)/g).map((e,i)=>e.startsWith("*")&&e.endsWith("*")&&e.length>2?(0,t.jsx)("em",{children:e.slice(1,-1)},`${r}-i-${n}-${i}`):e):e),(0,t.jsx)(a.default.Fragment,{children:n},`${r}`)},l=/\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)/g,o=0,d=[];for(;null!==(i=l.exec(e));){let a=e.slice(o,i.index);a&&d.push(s(a,`${r}-${n}-t-${o}`));let l=i[1],c=i[2];d.push((0,t.jsx)("a",{href:c,style:{color:"var(--color-theme-accent)"},children:l},`${r}-${n}-a-${i.index}`)),o=i.index+i[0].length}let c=e.slice(o);return d.length>0?(c&&d.push(s(c,`${r}-${n}-t-end`)),(0,t.jsx)(a.default.Fragment,{children:d},`${r}-${n}`)):s(e,`${r}-${n}-t`)})}function m({messages:e,onSend:u,placeholder:m,streamInitialMessages:f=!1,title:p=(0,i.msg)("New Agent",{$context:"as in an AI agent"}),onOpenFile:x,onCodeMessageVisible:g,onInitialPlaybackDone:w,textSizePx:b=13,textOnly:v=!1,typographyClassName:y="type-product-base"}){let j=(0,i.useGT)(),N=(0,i.useMessages)();p=N(p);let M=(0,d.usePrefersReducedMotion)(),C=(0,a.useRef)(null),P=(0,a.useMemo)(()=>e.find(e=>"user"===e.role),[e]),$=(0,a.useMemo)(()=>P?e.filter(e=>e.id!==P.id):e,[e,P]),[E,I]=(0,a.useState)(f&&!M?[]:$),S=(0,a.useRef)(!1),R=(0,a.useMemo)(()=>$.map(e=>`${e.id}:${e.role}`).join("|"),[$]),[k,A]=(0,a.useState)(new Set),z=(0,a.useRef)(new Set),H=(0,a.useRef)(!1),T=(0,a.useRef)(!f),B=(0,a.useRef)(new Set),Z=(0,a.useRef)(e),F=(0,a.useRef)(!1);(0,a.useEffect)(()=>{C.current?.scrollTo({top:C.current.scrollHeight})},[E.length]),(0,a.useEffect)(()=>{(!f||M)&&(B.current=new Set(e.map(e=>e.id)))},[M]);let L=e=>(0,l.getDelayForRole)(e);return((0,a.useEffect)(()=>{if(S.current,!f||M){I($),S.current=f,H.current=!1,T.current=!0,Z.current=$;return}let e=Z.current,t=e.length>0&&$.length>=e.length&&e.every((e,t)=>e.id===$[t]?.id);if(T.current&&t){I($),Z.current=$;return}if(I([]),z.current=new Set,A(new Set),H.current=!1,T.current=!1,S.current=f,T.current||H.current)return;H.current=!0;let r=!1;return(async()=>{for(let e=0;e<$.length&&!r;e++){let t=$[e];if(I(e=>[...e,t]),!F.current&&"code"===t.role){F.current=!0;let e=t.text.split(" ")[0];g?.(e)}let r=(0,l.isToolRole)(t.role),n=L(t.role);r&&A(e=>{let r=new Set(e);return r.add(t.id),r}),await new Promise(e=>setTimeout(e,n)),r&&(A(e=>{let r=new Set(e);return r.delete(t.id),r}),z.current.add(t.id))}if(!r){T.current=!0,H.current=!1;try{w?.()}catch{}}})(),()=>{r=!0}},[f,R,$,g,w,M]),(0,a.useEffect)(()=>{(!f||T.current||M)&&I($)},[$,f,M]),(0,a.useEffect)(()=>{if(F.current)return;let e=E.find(e=>"code"===e.role);if(e){F.current=!0;let t=e.text.split(" ")[0];g?.(t)}},[E,g]),(0,a.useEffect)(()=>{for(let e of E)B.current.add(e.id)},[E]),(0,a.useEffect)(()=>{if(!f||!T.current)return;let e=[];return E.forEach(t=>{let r,n;if(r=t.role,!(0,l.isToolRole)(r)||z.current.has(t.id))return;A(e=>{if(e.has(t.id))return e;let r=new Set(e);return r.add(t.id),r});let i=window.setTimeout(()=>{A(e=>{let r=new Set(e);return r.delete(t.id),r}),z.current.add(t.id)},(n=t.role,(0,l.getDelayForRole)(n)));e.push(i)}),()=>{e.forEach(e=>window.clearTimeout(e))}},[E,f]),v)?(0,t.jsx)("div",{className:"w-full",children:E.map((e,r)=>(0,t.jsx)("div",{className:"w-full",children:"assistant"===e.role?(0,t.jsx)("div",{className:`text-theme-text ${y}`,style:{fontSize:`${b}px`},children:h(N(e.text))}):(0,t.jsx)("div",{className:`text-theme-text ${y} break-words whitespace-pre-wrap`,style:{fontSize:`${b}px`},children:N(e.text)})},e.id))}):(0,t.jsxs)("div",{className:"bg-theme-product-chrome flex h-full w-full flex-col",children:[(0,t.jsx)("div",{className:"text-theme-text type-product-base-medium flex h-8 items-center px-3",children:(0,t.jsx)("div",{className:"mx-auto w-full max-w-[580px]",children:N(p)})}),(0,t.jsx)("div",{ref:C,className:"thin-scrollbar flex-1 overflow-auto overscroll-y-auto pt-0",children:(0,t.jsxs)("div",{className:"mx-auto w-full max-w-[580px] px-3",children:[" ",P?(0,t.jsxs)("div",{className:"sticky top-0 z-10",children:[(0,t.jsx)("div",{className:"bg-theme-product-chrome",children:(0,t.jsx)("div",{className:"bg-theme-product-editor border-theme-border-02 text-theme-text type-product-base ml-auto w-full rounded-lg border px-2 py-1.5 break-words whitespace-pre-wrap",style:{fontSize:`${b}px`},children:P.text})}),(0,t.jsx)("div",{className:"from-theme-product-chrome pointer-events-none h-2 bg-gradient-to-b to-transparent"})]}):null,(0,t.jsx)(r.AnimatePresence,{initial:!1,mode:"popLayout",children:E.map(e=>{let r,i,a,s,l,d,u,m,f,p,g,w;return(0,t.jsx)(n.motion.div,{variants:c,initial:!B.current.has(e.id)&&"initial",animate:"animate",exit:"exit",transition:{duration:.18*!B.current.has(e.id),ease:"easeOut",delay:0},className:`w-full ${("thinking"===e.role||"search"===e.role||e.role,"")}`,children:(0,t.jsx)("div",{className:`rounded-lg ${"user"===e.role?"bg-theme-product-editor border-theme-border-02 mb-2 ml-auto w-full border px-2 py-2":"code"===e.role?"bg-theme-product-editor border-theme-border-02 mt-1 mb-1 cursor-pointer rounded border p-2":"thinking"===e.role||"search"===e.role||"read"===e.role?"w-full px-1 py-1":"w-full px-1 py-2"}`,onClick:()=>{if("code"!==e.role)return;let t=e.text.split(" ")[0];x?.(t)},onMouseEnter:t=>{"code"===e.role&&(t.currentTarget.style.backgroundColor="var(--color-theme-card-hover-hex)")},onMouseLeave:t=>{"code"===e.role&&(t.currentTarget.style.backgroundColor="")},children:"code"===e.role?(i=(r=e.text.split(" "))[0],s=(a=r.slice(1).join(" ")).match(/\+(\d+)/),l=a.match(/-(\d+)/),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",title:j("Open {fileName}",{fileName:i}),children:[(0,t.jsx)(o.default,{className:"text-theme-text-sec"}),(0,t.jsxs)("span",{className:`text-theme-text ${y}`,children:[(0,t.jsx)("span",{className:"font-medium",children:i}),s&&(0,t.jsxs)("span",{className:"text-theme-product-ansi-green ml-1.5",children:["+",s[1]]}),l&&(0,t.jsxs)("span",{className:"text-theme-product-ansi-red ml-0.5",children:["-",l[1]]})]})]})):(d="thinking"===e.role||"search"===e.role||"read"===e.role,u=k.has(e.id),f=(m=e.text.split(" "))[0],p=m.slice(1).join(" "),g=f,w=p,d&&u&&("thinking"===e.role?(g=j("Planning"),w=j("next moves")):"search"===e.role?g=j("Searching"):"read"===e.role&&(g=j("Reading"))),(0,t.jsx)("div",{className:`${y} ${d?"text-theme-text-sec flex items-center gap-1 overflow-hidden text-ellipsis whitespace-nowrap":"assistant"===e.role?"text-theme-text":"text-theme-text break-words whitespace-pre-wrap"}`,style:{fontSize:d?"12px":`${b}px`},children:d?u?(0,t.jsx)("span",{className:"shimmer",style:{"--shimmer-color":"var(--color-theme-text-sec)","--shimmer-intensity":"80%"},children:"thinking"===e.role?j("Planning next moves"):"search"===e.role?j("Searching {rest}",{rest:p}):j("Reading {rest}",{rest:p})}):(0,t.jsxs)("div",{className:"flex items-baseline gap-1 overflow-hidden",children:[(0,t.jsx)("span",{className:"text-theme-text-sec flex-shrink-0",children:g}),w&&(0,t.jsx)("span",{className:"text-theme-text-sec min-w-0 truncate opacity-60",children:w})]}):"assistant"===e.role?h(N(e.text)):N(e.text)}))})},e.id)})}),(0,t.jsx)("div",{className:"from-theme-product-chrome pointer-events-none sticky bottom-0 z-20 h-2 bg-gradient-to-t to-transparent"})]})}),(0,t.jsx)("div",{className:"p-3 pt-0",children:(0,t.jsx)("div",{className:"mx-auto w-full max-w-[580px]",children:(0,t.jsx)("div",{className:"focus-within:bg-theme-product-editor border-theme-border-02 focus-within:border-theme-primary overflow-hidden rounded-lg border",children:(0,t.jsx)(s.default,{onSend:t=>{H.current=!1,T.current=!0,I($),A(new Set);try{B.current=new Set(e.map(e=>e.id))}catch{}u(t)},placeholder:m,frameless:!0,textSizePx:b})})})})]})}e.s(["default",()=>m])},36135,e=>{"use strict";var t=e.i(855527),r=e.i(280406),n=e.i(813130),i=e.i(94884);let a=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z",opacity:"0.2"}),n.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"}))]]),s=n.forwardRef((e,t)=>n.createElement(i.default,{ref:t,...e,weights:a}));s.displayName="DotsThreeIcon";var l=e.i(264458),o=e.i(408302),d=e.i(690723),c=e.i(927499);function h(e){let n,i,a=(0,r.c)(3),{className:s}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("path",{d:"M2.76758 8.14258C2.76758 5.24805 5.10547 2.91016 8 2.91016C8.29883 2.91016 8.58594 2.94531 8.84375 2.99219L7.42578 1.5918C7.32617 1.48633 7.26758 1.35156 7.26758 1.19922C7.26758 0.882812 7.51367 0.625 7.82422 0.625C7.98828 0.625 8.12891 0.683594 8.22852 0.794922L10.6309 3.23828C10.748 3.35547 10.8125 3.50781 10.8125 3.66016C10.8125 3.81836 10.7539 3.95898 10.6309 4.08203L8.22852 6.50781C8.12305 6.60742 7.99414 6.66602 7.82422 6.66602C7.51367 6.66602 7.26758 6.41992 7.26758 6.09766C7.26758 5.94531 7.32031 5.81641 7.43164 5.71094L9.01367 4.14062C8.7207 4.07617 8.375 4.05273 8 4.05273C5.74414 4.05273 3.91602 5.88086 3.91602 8.13672C3.91602 10.3926 5.74414 12.2207 8 12.2207C10.2559 12.2207 12.084 10.3926 12.084 8.13672C12.084 7.79102 12.3066 7.54492 12.6406 7.54492C12.9863 7.54492 13.2324 7.79102 13.2324 8.14258C13.2324 11.0312 10.8887 13.375 8 13.375C5.10547 13.375 2.76758 11.0312 2.76758 8.14258Z"}),a[0]=n):n=a[0],a[1]!==s?(i=(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:s,children:n}),a[1]=s,a[2]=i):i=a[2],i}function u(e){let n,i,a,s,l,o=(0,r.c)(20),{windows:d}=e;o[0]!==d?(n=new Set(d.map(p).filter(Boolean)),o[0]=d,o[1]=n):n=o[1],o[2]!==n?(i=[...n],o[2]=n,o[3]=i):i=o[3];let c=i;if(0===c.length){let e;return o[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"sr-only","aria-live":"polite",children:"Interactive demo with multiple windows showing Cursor's AI-powered features."}),o[4]=e):e=o[4],e}if(1===c.length){let e,r,n=c[0];return e="Cursor"===n?"This element contains an interactive demo for sighted users. It's a demonstration of Cursor's editor showing AI-powered coding assistance features. The interface is displayed over a scenic painted landscape wallpaper, giving the demo an artistic backdrop.":"agent"===n?"This element contains an interactive demo for sighted users. It's a demonstration of Cursor's CLI showing AI-powered command-line assistance features. The interface is displayed over a scenic painted landscape wallpaper, giving the demo an artistic backdrop.":"Agent"===n?"This element contains an interactive demo for sighted users. It's a demonstration of Cursor's Agent interface for managing different AI agent runs. The interface is displayed over a scenic painted landscape wallpaper, giving the demo an artistic backdrop.":"Slack"===n?"This element contains an interactive demo for sighted users. It's a demonstration of Cursor integrated within Slack, showing AI-powered assistance inside team communication. The interface is displayed over a scenic painted landscape wallpaper, giving the demo an artistic backdrop.":"GitHub Pull Request"===n?"This element contains an interactive demo for sighted users. It's a demonstration of Cursor integrated within GitHub, showing AI-powered code review and debugging assistance. The interface is displayed over a scenic painted landscape wallpaper, giving the demo an artistic backdrop.":`Interactive demo showing ${n}.`,o[5]!==e?(r=(0,t.jsx)("div",{className:"sr-only","aria-live":"polite",children:e}),o[5]=e,o[6]=r):r=o[6],r}let h=c.includes("Cursor"),u=c.includes("agent"),x=c.includes("Agent"),g=c.includes("Slack"),w=c.includes("GitHub Pull Request");if(o[7]!==x||o[8]!==u||o[9]!==w||o[10]!==h||o[11]!==g||o[12]!==c){let e;s=[],h&&s.push("the editor with AI-powered coding assistance"),u&&s.push("the CLI with command-line assistance"),x&&s.push("the Agent interface for managing AI agent runs"),g&&s.push("Slack integration for team communication"),w&&s.push("GitHub integration for code review and debugging"),o[14]!==c?(e=c.filter(f),o[14]=c,o[15]=e):e=o[15];let t=e;if(t.length>0){let e;o[16]!==t?(e=t.map(m),o[16]=t,o[17]=e):e=o[17],s.push(...e)}o[7]=x,o[8]=u,o[9]=w,o[10]=h,o[11]=g,o[12]=c,o[13]=s}else s=o[13];return a="This element contains an interactive demo for sighted users showing multiple Cursor interfaces: "+s.join(", ")+". The interfaces are displayed over a scenic painted landscape wallpaper, giving the demo an artistic backdrop.",o[18]!==a?(l=(0,t.jsx)("div",{className:"sr-only","aria-live":"polite",children:a}),o[18]=a,o[19]=l):l=o[19],l}function m(e){return`${e} interface`}function f(e){return e&&!["Cursor","agent","Agent","Slack","GitHub Pull Request"].includes(e)}function p(e){return e.title}function x({className:e,height:r="min(780px, 70vh)",minHeight:i,roundedClassName:a="rounded-xs",borderClassName:m="border-theme-border-02",backgroundColorToken:f,backgroundImage:p,preload:x,windows:g,disableInteractions:w=!1,disableResizing:b=!1,innerPaddingPx:v=32,animateEntrance:y=!1,entranceStagger:j=.6,shadowless:N=!1}){let M=(0,n.useRef)(null),[C,P]=(0,n.useState)(!1),[$,E]=(0,n.useState)(0),[I,S]=(0,n.useState)({width:0,height:0}),R=()=>{_(Y),P(!1),E(e=>e+1);try{window.dispatchEvent(new CustomEvent("cursor-demo-reset"))}catch{}},[k,A]=(0,n.useState)(!1),[z,H]=(0,n.useState)(!1),T=(0,n.useRef)(new Set),[B,Z]=(0,n.useState)(0),F=window.innerWidth<768?.3:.66;(0,n.useLayoutEffect)(()=>{let e=M.current;if(e)try{let t=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=Math.max(0,Math.min(t.bottom,r)-Math.max(t.top,0));(t.height>0?n/t.height:0)>=F&&(H(!0),A(!0))}catch{}},[F]),(0,n.useEffect)(()=>{let e=M.current;if(!e||"u"<typeof IntersectionObserver)return;let t=new IntersectionObserver(e=>{let t=e[0];H((t?.intersectionRatio??0)>=F)},{root:null,threshold:[0,.3,.5,.66,.9,1]});return t.observe(e),()=>t.disconnect()},[F]),(0,n.useEffect)(()=>{z&&!k&&A(!0)},[z,k]);let L=(0,n.useRef)({width:0,height:0}),[D,O]=(0,n.useState)(!1),[W,X]=(0,n.useState)(!1);(0,n.useEffect)(()=>{X(!0)},[]),(0,n.useLayoutEffect)(()=>{let e=M.current;if(!e)return;let t=()=>{let t=e.getBoundingClientRect();L.current;let r=t.width,n=t.height;L.current={width:r,height:n},S({width:r,height:n})};t();let r=new ResizeObserver(()=>t());return r.observe(e),()=>r.disconnect()},[]);let Y=(0,n.useMemo)(()=>g.map((e,t)=>{let r=Number(e.widthPx),n=Number.isFinite(r),i=Number(e.heightPx),a=Number.isFinite(i),s=!!e.frameless,l=!!e.shadowless,o="number"==typeof e.x?e.x:50,d="number"==typeof e.y?e.y:50;return{id:e.id,title:e.title,xPercent:o,yPercent:d,originalXPercent:o,originalYPercent:d,widthPx:Math.max(n?r:1024,420*!s),heightPx:a?i:560,baseWidthPx:Math.max(n?r:1024,420*!s),baseHeightPx:a?i:560,scale:"number"==typeof e.scale?e.scale:1,zIndex:"number"==typeof e.zIndex?e.zIndex:10+t,content:e.content,menuEventName:e.menuEventName,ctaHref:e.ctaHref,ctaLabel:e.ctaLabel,hideOnMobile:!!e.hideOnMobile,frameless:s,shadowless:l,isWidthFlexible:!n,isHeightFlexible:!a}}),[g.map(e=>e.id).join("|")]),[V,_]=(0,n.useState)(Y);(0,n.useEffect)(()=>{_(Y)},[Y]);let G=(0,n.useMemo)(()=>V.map(e=>e.id).join("|"),[V]),[q,U]=(0,n.useState)(null);(0,n.useEffect)(()=>{if(0===V.length)return;let e=V.reduce((e,t)=>t.zIndex>e.zIndex?t:e,V[0]);e.id!==q&&U(e.id)},[V,q]);let K=(0,n.useRef)(100);function J(e){_(t=>t.map(t=>t.id===e?{...t,zIndex:K.current++}:t)),U(e)}let Q=(0,n.useRef)(null);function ee(e,t,r){let n=M.current;if(!n||n.getBoundingClientRect().width<768)return;J(t),P(!0);let i=r.getBoundingClientRect(),a=i.left+i.width/2,s=i.top+i.height/2;Q.current={id:t,pointerId:e.pointerId,dxCenter:e.clientX-a,dyCenter:e.clientY-s},e.target.setPointerCapture?.(e.pointerId)}let et=(0,n.useRef)(null),er=(0,n.useRef)(new Map);function en(e,t,r,n){let i=M.current;if(!i||i.getBoundingClientRect().width<768)return;J(t),P(!0);let a=i.getBoundingClientRect(),s=r.getBoundingClientRect(),l=V.find(e=>e.id===t),o=l?.scale??1,d=s.left-a.left,c=s.top-a.top;et.current={id:t,pointerId:e.pointerId,edge:n,startWidth:s.width,startHeight:s.height,startClientX:e.clientX,startClientY:e.clientY,startTopLeftX:d,startTopLeftY:c,scaleAtStart:o},e.target.setPointerCapture?.(e.pointerId)}let ei=(0,n.useRef)(null);return(0,n.useLayoutEffect)(()=>{er.current.forEach(e=>{if(!e)return;let t=e.querySelector("[data-demo-desktop-content]");w?t?.setAttribute("inert",""):t?.removeAttribute("inert")})},[w,G]),(0,n.useLayoutEffect)(()=>{let e=M.current;if(!e)return;let t=e.getBoundingClientRect(),r=Math.max(0,v),n=t.width,i=t.height,a=Math.max(0,n-2*r),s=Math.max(0,i-2*r),l=null!==ei.current&&ei.current<768&&!(n<768);ei.current=n,n<768&&!D&&O(!0),_(e=>e.map(e=>{let t,o,d=e.widthPx,c=e.heightPx;e.isWidthFlexible?(d=Math.min(e.baseWidthPx,a),e.frameless||(d=Math.max(420,d))):e.frameless||(d=Math.max(d,420)),c=e.isHeightFlexible?Math.max(260,Math.min(e.baseHeightPx,s)):Math.max(c,260),l?(t=e.originalXPercent/100*n,o=e.originalYPercent/100*i):(t=e.xPercent/100*n,o=e.yPercent/100*i);let h=t,u=o,m=e.scale??1;if(n<768){let e=r+d*m/2,a=n-r-d*m/2,s=r+c*m/2,l=i-r-c*m/2;h=Math.max(e,Math.min(a,t)),u=Math.max(s,Math.min(l,o))}else u=Math.max(c*m/2,Math.min(i-c*m/2,o));let f=h,p=u;return{...e,widthPx:d,heightPx:c,xPercent:f/n*100,yPercent:p/i*100}}))},[I.width,I.height,v,C,D]),(0,t.jsxs)("div",{ref:M,onPointerMove:w?void 0:e=>{Q.current?function(e){if(!Q.current)return;let{id:t,pointerId:r,dxCenter:n,dyCenter:i}=Q.current;if(e.pointerId!==r)return;let a=M.current,s=document.getElementById(`demo-window-${t}`);if(!a||!s)return;let l=a.getBoundingClientRect(),o=s.getBoundingClientRect(),d=l.left+Math.max(0,v),c=l.top+Math.max(0,v),h=l.right-Math.max(0,v),u=l.bottom-Math.max(0,v),m=e.clientX-n,f=e.clientY-i,p=m,x=f,g=l.width<768;if(g){let e=d+o.width/2,t=h-o.width/2,r=c+o.height/2,n=u-o.height/2;p=Math.max(e,Math.min(t,m)),x=Math.max(r,Math.min(n,f))}else x=Math.max(l.top+o.height/2,Math.min(l.bottom-o.height/2,f));let w=(p-l.left)/l.width*100,b=(x-l.top)/l.height*100,y=(m-l.left)/l.width*100,j=(f-l.top)/l.height*100;_(e=>e.map(e=>e.id===t?{...e,xPercent:w,yPercent:b,...g?{}:{originalXPercent:y,originalYPercent:j}}:e))}(e):et.current&&!b&&function(e){if(!et.current)return;let{id:t,pointerId:r,edge:n,startWidth:i,startHeight:a,startClientX:s,startClientY:l,startTopLeftX:o,startTopLeftY:d,scaleAtStart:c}=et.current;if(e.pointerId!==r)return;let h=M.current;if(!h)return;let u=V.find(e=>e.id===t),m=u&&u.frameless?0:420,f=!!u&&u.isWidthFlexible,p=!!u&&u.isHeightFlexible,x=c||(u?u.scale??1:1),g=h.getBoundingClientRect(),w=Math.max(0,v),b=Math.max(w,g.width-w),y=Math.max(w,g.height-w),j=e.clientX-s,N=e.clientY-l,C=g.width<768,P=(e,t,r)=>Math.min(Math.max(e,t),r),$=Math.max(0,b-w),E=Math.max(0,y-w),I=Math.min(m*x,$),S=Math.min(260*x,E),R=n.includes("w"),k=n.includes("e"),A=n.includes("n"),z=n.includes("s"),H=o,T=o+i,B=d,Z=d+a;R&&(H=o+j),k&&(T=o+i+j),A&&(B=d+N),z&&(Z=d+a+N);let F=T-H,L=Z-B;if(R&&!k){let e=b-(F=P(i-j,I,$));T=(H=P(H,w,e))+F}else if(k&&!R){let e=w+(F=P(i+j,I,$));H=(T=P(T,e,b))-F}else{F=P(F,I,$);let e=P((H+T)/2,w+F/2,b-F/2);H=e-F/2,T=e+F/2}if(A&&!z){let e=y-(L=P(a-N,S,E));Z=(B=P(B,w,e))+L}else if(z&&!A){let e=w+(L=P(a+N,S,E));B=(Z=P(Z,e,y))-L}else{L=P(L,S,E);let e=P((B+Z)/2,w+L/2,y-L/2);B=e-L/2,Z=e+L/2}F=Math.max(0,T-H),L=Math.max(0,Z-B);let D=B+L/2,O=(H+F/2)/g.width*100,W=D/g.height*100,X=F/Math.max(x,Number.EPSILON),Y=L/Math.max(x,Number.EPSILON);_(e=>e.map(e=>e.id===t?{...e,widthPx:X,heightPx:Y,baseWidthPx:f?X:e.baseWidthPx,baseHeightPx:p?Y:e.baseHeightPx,xPercent:O,yPercent:W,...C?{}:{originalXPercent:O,originalYPercent:W}}:e))}(e)},onPointerUp:w?void 0:function(e){Q.current&&e.pointerId===Q.current.pointerId&&(Q.current=null),et.current&&e.pointerId===et.current.pointerId&&(et.current=null)},className:(0,l.default)("no-drag-img relative w-full overflow-hidden select-none",m,a,e,{"bg-theme-card-hex":"card-hex"===f,"bg-theme-card-02-hex":"card-02-hex"===f,"bg-theme-card-03-hex":"card-03-hex"===f,"bg-theme-card-04-hex":"card-04-hex"===f,"bg-theme-accent":"accent"===f}),style:{height:"number"==typeof r?`${r}px`:r,...void 0!==i?{minHeight:"number"==typeof i?`${i}px`:i}:{}},children:[(p||f)&&(0,t.jsx)("div",{className:"absolute inset-0 z-0 overflow-hidden",children:p?.src&&(0,t.jsx)(t.Fragment,{children:p.darkSrc?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.default,{src:p.src,alt:p.alt||"",fill:!0,className:"media-light absolute inset-0 object-cover",priority:!!x}),(0,t.jsx)(c.default,{src:p.darkSrc,alt:p.alt||"",fill:!0,className:"media-dark absolute inset-0 object-cover",priority:!!x})]}):(0,t.jsx)(c.default,{src:p.src,alt:p.alt||"",fill:!0,className:"absolute inset-0 object-cover",priority:!!x})})}),(0,t.jsxs)("div",{className:(0,l.default)("absolute top-0 right-0 bottom-0 left-0 z-10 h-full w-full","max-[767px]:pointer-events-none max-[767px]:opacity-0","transition-opacity duration-150"),style:{opacity:I.width>0&&I.width<768?+!!D:void 0},"aria-hidden":I.width>0&&I.width<768&&!D||void 0,children:[(0,t.jsx)(u,{windows:V}),V.map((e,r)=>{let i=e.scale??1,a=q===e.id,d=I.width>0&&I.width<768,c=y&&k&&!T.current.has(e.id);return(0,t.jsx)(n.Fragment,{children:(0,t.jsxs)(o.motion.div,{"aria-hidden":"true",id:`demo-window-${e.id}`,ref:t=>{t?er.current.set(e.id,t):er.current.delete(e.id)},className:(0,l.default)("group absolute overflow-hidden select-none",e.hideOnMobile?"hidden lg:flex lg:flex-col":"flex flex-col",e.frameless?"":"bg-theme-product-chrome rounded-[10px]"),style:{left:`${e.xPercent}%`,top:`${e.yPercent}%`,width:`${e.widthPx}px`,height:`${e.heightPx}px`,transform:y?void 0:`translate(-50%, -50%) scale(${i})`,transformOrigin:"center center",zIndex:e.zIndex,boxShadow:e.frameless?"":e.shadowless?"0 0 0 1px var(--color-theme-border-02)":"0 28px 70px rgba(0, 0, 0, 0.14), 0 14px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px var(--color-theme-border-02)"},onPointerDown:t=>{if(!w&&(J(e.id),e.frameless)){let r=t.target;if(!b&&r&&r.closest&&r.closest("[data-resize-handle]"))return;let n=document.getElementById(`demo-window-${e.id}`);n&&ee(t,e.id,n)}},initial:y?{opacity:0,scale:.98*i}:void 0,animate:y?k?{opacity:1,scale:i}:{opacity:0,scale:.98*i}:void 0,transition:y?{duration:.14,ease:"easeOut",delay:c?r*j:0}:void 0,transformTemplate:y?(e,t)=>`translate(-50%, -50%) ${t}`:void 0,onAnimationComplete:()=>{c&&(T.current.add(e.id),Z(e=>e+1))},children:[e.frameless?null:(0,t.jsxs)("div",{className:(0,l.default)("border-theme-border-02 relative flex h-7 items-center justify-between border-b px-2",d&&"cursor-default"),onPointerDown:t=>{if(w)return;let r=document.getElementById(`demo-window-${e.id}`);r&&ee(t,e.id,r)},onDoubleClick:e=>{w||(e.stopPropagation(),R())},children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:(0,l.default)("inline-block h-2.5 w-2.5 rounded-full",a?void 0:"bg-theme-border-02"),style:a?{backgroundColor:"var(--color-theme-fg-20)"}:void 0}),(0,t.jsx)("span",{className:(0,l.default)("inline-block h-2.5 w-2.5 rounded-full",a?void 0:"bg-theme-border-02"),style:a?{backgroundColor:"var(--color-theme-fg-20)"}:void 0}),(0,t.jsx)("span",{className:(0,l.default)("inline-block h-2.5 w-2.5 rounded-full",a?void 0:"bg-theme-border-02"),style:a?{backgroundColor:"var(--color-theme-fg-20)"}:void 0})]}),e.title&&(0,t.jsx)("div",{className:"type-product-base pointer-events-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 truncate text-center opacity-70",children:e.title}),(0,t.jsxs)("div",{className:"-mr-1 flex items-center",children:[e.ctaHref&&e.ctaLabel&&!d?(0,t.jsx)("button",{type:"button",className:(0,l.default)("transition-opacity duration-200","type-product-base rounded px-2 py-1","text-theme-text-sec hover:bg-theme-bg-hover cursor-pointer","opacity-0 group-hover:opacity-100"),disabled:w,onClick:t=>{t.stopPropagation(),e.ctaHref&&(e.ctaHref.startsWith("http")?window.open(e.ctaHref,"_blank","noopener,noreferrer"):window.location.href=e.ctaHref)},children:e.ctaLabel}):null,e.menuEventName?(0,t.jsx)("button",{type:"button","aria-label":"Open settings",className:(0,l.default)("text-theme-text-sec hover:bg-theme-bg-hover inline-flex h-7 w-7 items-center justify-center rounded","transition-opacity duration-200",d?"opacity-100":"opacity-0 group-hover:opacity-100",w?"pointer-events-none":void 0),onClick:t=>{if(t.stopPropagation(),w)return void t.preventDefault();try{window.dispatchEvent(new CustomEvent(e.menuEventName))}catch{}},children:(0,t.jsx)(s,{size:18})}):null]})]}),(0,t.jsx)("div",{className:(0,l.default)("min-h-0 w-full flex-1 overflow-hidden",w&&"pointer-events-none"),"data-demo-desktop-content":!0,children:(0,t.jsx)("div",{className:"h-full min-h-0 w-full",children:e.content},`${$}-${e.id}`)}),!w&&!b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute inset-x-2 top-0 h-2 cursor-ns-resize","data-resize-handle":!0,onPointerDown:t=>{let r=document.getElementById(`demo-window-${e.id}`);r&&en(t,e.id,r,"n")}}),(0,t.jsx)("div",{className:"absolute inset-x-2 bottom-0 h-2 cursor-ns-resize","data-resize-handle":!0,onPointerDown:t=>{let r=document.getElementById(`demo-window-${e.id}`);r&&en(t,e.id,r,"s")}}),(0,t.jsx)("div",{className:"absolute inset-y-2 right-0 w-1 cursor-ew-resize","data-resize-handle":!0,onPointerDown:t=>{let r=document.getElementById(`demo-window-${e.id}`);r&&en(t,e.id,r,"e")}}),(0,t.jsx)("div",{className:"absolute inset-y-2 left-0 w-1 cursor-ew-resize","data-resize-handle":!0,onPointerDown:t=>{let r=document.getElementById(`demo-window-${e.id}`);r&&en(t,e.id,r,"w")}}),(0,t.jsx)("div",{className:"absolute top-0 left-0 h-2.5 w-2.5 cursor-nwse-resize","data-resize-handle":!0,onPointerDown:t=>{let r=document.getElementById(`demo-window-${e.id}`);r&&en(t,e.id,r,"nw")}}),(0,t.jsx)("div",{className:"absolute top-0 right-0 h-2.5 w-2.5 cursor-nesw-resize","data-resize-handle":!0,onPointerDown:t=>{let r=document.getElementById(`demo-window-${e.id}`);r&&en(t,e.id,r,"ne")}}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 h-2.5 w-2.5 cursor-nesw-resize","data-resize-handle":!0,onPointerDown:t=>{let r=document.getElementById(`demo-window-${e.id}`);r&&en(t,e.id,r,"sw")}}),(0,t.jsx)("div",{className:"absolute right-0 bottom-0 h-2.5 w-2.5 cursor-nwse-resize","data-resize-handle":!0,onPointerDown:t=>{let r=document.getElementById(`demo-window-${e.id}`);r&&en(t,e.id,r,"se")}})]})]})},e.id)})]}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 z-20",children:(0,t.jsx)(d.AnimatePresence,{children:C&&!w?(0,t.jsx)(o.motion.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:4},transition:{duration:.15,ease:"easeInOut"},onClick:e=>{e.stopPropagation(),R()},className:(0,l.default)("pointer-events-auto inline-flex h-8 w-8 items-center justify-center rounded-full border shadow-sm","border-theme-border-01 bg-theme-card-hex text-theme-text-sec hover:bg-theme-bg-hover"),"aria-label":"Reset layout",title:"Reset",style:{position:"absolute",right:Math.max(0,v),bottom:Math.max(0,v)},children:(0,t.jsx)(h,{className:"text-theme-text-sec"})},"demo-desktop-reset"):null})})]})}e.s(["default",()=>x],36135)}]);